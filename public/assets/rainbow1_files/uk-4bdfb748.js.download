(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"+49F":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.prototype.updateDependencies=function(t){Object.assign(this,t)},t}()},ZLoO:function(t,e,n){"use strict";n.r(e);var i=n("VbXa"),r=n.n(i),a=n("+49F"),c=n("n73F"),o=n("gQdx"),u=n("5k1W"),d=n("+3en"),s=n("S7YN"),f=function(t){function e(){return t.apply(this,arguments)||this}return r()(e,t),e.prototype.execute=function(t){var e=t.board,n=t.env;if(c.a.getInstanceFromCache({id:e.id})===e){var i=n.di.getDefinition("redux").instance;if(i){var r=i.getState().entities.boards;if(r){var a=r[e.id];if(a){var f=Object(u.a)(a,e.toJSON(),["ban","is_private","is_subscribed","is_wishlist","slug","title","description",["stat",["competition_cards_count","subscribers_count","fulfilled_count","cards_count"]]]);if(f){n.dispatch(Object(o.a)({id:e.id,value:f}));var p=i.getState(),v=Object(d.a)(p);!1===f.is_wishlist&&v&&v.id===e.id&&i.dispatch(Object(s.a)({storeKey:"boardCards",url:"/collections/api/cards",query:{"board.id":e.id,sort:"-service.created_at",page_size:24}}))}}}}}},e}(a.a),p=n("pVnL"),v=n.n(p),l=n("cX81"),h=n("gF9f"),b=n("O/ol"),g=n("ZK//"),y=n("aKBe"),O=function(t){function e(){return t.apply(this,arguments)||this}return r()(e,t),e.prototype.execute=function(t){var e=t.env,n=t.card;if(l.a.getInstanceFromCache({id:n.id})===n){var i=e.di.getDefinition("redux").instance;if(i){var r=i.getState(),a=r.contest,c=n.getContests()||[];if(a&&c.length){var o=Object(b.a)(r,a.id);c.find(function(t){return t.slug===o.slug})&&r.contestCards&&i.dispatch(Object(h.a)({contestCards:v()({},r.contestCards,{results:r.contestCards.results.filter(function(t){return t.id!==n.id})})}))}n.clearContests(),e.dispatch(Object(y.a)({id:n.id,value:{competitions:void 0}})),a&&e.dispatch(Object(g.a)({id:a.id,value:{participation:void 0}}))}}},e}(a.a),j=n("TChA"),C=function(t){function e(){return t.apply(this,arguments)||this}return r()(e,t),e.prototype.execute=function(t){var e=t.env,n=t.card;e.dispatch(Object(j.a)({id:n.id}))},e}(a.a),x=n("o0o1"),w=n.n(x),S=n("yXPU"),_=n.n(S),m=n("4RqY"),k=n("3lXt"),R=n("sioy"),F=n("Tff5"),T=n("Jxqj");function J(t,e){var n=t&&t.card_previews;return Boolean(n&&n.length>0&&n.find(function(t){return t.id===e}))}var D=Object(m.a)(function(){var t=_()(w.a.mark(function t(e,n){var i,r,a,c,u,d,s,f,p;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.id,r=n.getState,n.di,a=n.dispatch,c=r(),u=Object(F.a)(c,i),d=Object(T.a)(c,i),s=[],u&&(f=Object(k.a)(c,u),p=f.card_previews,J(f,i)&&p.find(function(t){return t.id===i})&&s.push(a(Object(o.a)({id:u,value:{card_previews:p.filter(function(t){return t.id!==i})}})))),J(d,i)&&s.push(a(Object(R.a)({id:d.id,value:{card_previews:d.card_previews.filter(function(t){return t.id!==i})}}))),t.next=10,Promise.all(s);case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),K=n("t0kG"),q=function(t){function e(){return t.apply(this,arguments)||this}return r()(e,t),e.prototype.execute=function(){var t=_()(w.a.mark(function t(e){var n,i,r,a;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.env,i=e.cardId,r=e.board,a=function(){var t=n.dispatch;t(D({id:i})),t(Object(j.a)({id:i}))},n.invokeStrategy(K.a.BoardToReduxStrategy,{board:r}).then(a,a).catch(function(t){console.error(t)});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e}(a.a),B=n("lc+m"),I=n("T6Rw"),N=n("q/UM"),X=Object(I.a)(function(t,e){return Object(N.a)(t,{currentCard:e})}),V=Object(I.a)(function(t,e){var n,i=e.key,r=e.value;return v()({},t,((n={})[i]=r,n))}),L=function(t){function e(){return t.apply(this,arguments)||this}return r()(e,t),e.prototype.execute=function(t){var e=t.env,n=t.card,i=t.stateKey,r=e.di.getDefinition("redux").instance;r&&(n&&Object(B.a)(r.getState(),n.id)?(i&&e.dispatch(X({stateKey:i})),e.dispatch(V({key:"card",value:{id:n.id}}))):e.dispatch(V({key:"card",value:null})))},e}(a.a),P=function(t){function e(){return t.apply(this,arguments)||this}return r()(e,t),e.prototype.execute=function(t){var e=t.env,n=t.card;if(l.a.getInstanceFromCache({id:n.id})===n){var i=e.di.getDefinition("redux").instance;if(i){var r=i.getState().entities.cards;if(r){var a=r[n.id];if(a){var c=Object(u.a)(a,n.toViewJSON(),[["board",["id"]],"description","is_liked","is_private","stat","labels"]);c&&e.dispatch(Object(y.a)({id:n.id,value:c})),a.content&&n.getContent()&&a.content.length!==n.getContent().length&&e.dispatch(Object(y.a)({id:n.id,value:{content:n.getContent().toJSON()}})),n.getComplaint()&&e.dispatch(Object(j.a)({id:n.id}))}}}}},e}(a.a);n.d(e,"BoardToReduxStrategy",function(){return f}),n.d(e,"CardRemoveFromContestReduxStrategy",function(){return O}),n.d(e,"CardRemoveFromFeedToReduxStrategy",function(){return C}),n.d(e,"CardRemoveStrategy",function(){return q}),n.d(e,"CardSetCurrentCardToReduxStrategy",function(){return L}),n.d(e,"CardToReduxStrategy",function(){return P})}}]);