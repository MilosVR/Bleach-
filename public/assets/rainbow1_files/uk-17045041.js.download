(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"++4/":function(t,e,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("CYZy"),c=n("Hkgn"),u=n("rT8E"),l=n("GGxO"),d=19,h=8.1;function f(t,e,n,r){if(e.type===s.a.CARD){var i=e.item.content[0],o=Object(u.a)(i);if(Object(l.a)(o))return n+function(t,e,n){var r=t.split(" "),i=Math.floor((e-n)/h),o=0,a=0;return r.forEach(function(t){var e=t.length;a+e>i?(o++,a=e):a+=e+1}),o*d}(e.item.description,t,r);var a=Object(c.a)("s375",i),f=a.width,p=a.height;return Math.round(t/f*p)}return 100}n.d(e,"a",function(){return p});var p=function(){function t(t){this.applyScrollAfterRender=!1,this._dirty=!0,this._initColumns=0,this._scrollTop=0,this._prevScrollTop=0,this._containerTop=null,this._columnWidth=300,this._invisibleComplete=!1,this._itemPositions={},this._itemColumns={},this._itemWaitPositions={},this._appliedInvalidations=new WeakSet,this._coverCardHeight=t.coverCardHeight,this._xGap=t.xGap,this._xPadding=t.xPadding,this._threshold=t.threshold,this._xCardPadding=t.xCardPadding,this._virtualCount=t.virtualCount,this._serverColumns=t.serverColumns,this._virtualSpaceHeight=t.virtualSpaceHeight,this._minColumnsCount=t.minColumnsCount,this._maxColumnsCount=t.maxColumnsCount,this._maxServerElements=t.maxServerElements,this._ignoreWindowWidth=Boolean(t.ignoreWindowWidth),this._bulkInsertCount=t.bulkInsertCount||1}a()(t,[{key:"columns",get:function(){return this._dirty&&this.update(),this._columns}},{key:"columnsCount",get:function(){return this._serverColumns?this._serverColumns:this.expectedColumnsCount}},{key:"expectedColumnsCount",get:function(){return Math.min(this._maxColumnsCount,Math.max(this._minColumnsCount,Math.round(this._windowWidth/this._columnWidth)))}},{key:"visibleItems",get:function(){return this._visibleItems}},{key:"heights",get:function(){return this._columns.map(function(t){return t.height})}},{key:"minHeight",get:function(){return Math.min.apply(Math,this.heights)}},{key:"maxHeight",get:function(){return Math.max.apply(Math,this.heights)}},{key:"containerHeight",get:function(){return null===this._containerTop?0:this.maxHeight-this._containerTop}},{key:"containerTop",get:function(){return this._containerTop},set:function(t){null!==t&&this._containerTop!==t&&(null!==this._containerTop&&(this.updateItemsTop(t-this._containerTop),this.update()),this._containerTop=t)}},{key:"scrollTop",set:function(t){this._scrollTop!==t&&(this._prevScrollTop=this._scrollTop,this._scrollTop=t,this._dirty=!0)}},{key:"windowWidth",set:function(t){this._windowWidth!==t&&(this._windowWidth=t,this._ignoreWindowWidth?this._dirty=!0:this.reset())}},{key:"windowHeight",set:function(t){this._windowHeight!==t&&(this._windowHeight=t,this._dirty=!0)}},{key:"initColumns",set:function(t){this._initColumns!==t&&(this._initColumns=t,this.reset())}},{key:"items",set:function(t){var e=this;if(this._items!==t){var n=function(t,e){return t&&t[e]&&t[e].id},r=function(t){return t&&t.length||0};if(n(this._items,0)!==n(t,0))this.reset();else{var i=r(this._items),o=r(t);if(i>o)for(var a=function(t){var n=t.id,r=e._itemPositions[n];return r?{top:r.top,height:0}:null},s=0;s<o;s++)if(n(this._items,s)!==n(t,s)){this.invalidateItems(this._items.slice(s),a);break}}this._items=t,this._dirty=!0}}},{key:"isLoaded",set:function(t){this._isLoaded!==t&&(this._isLoaded=t)}},{key:"invisibleColumns",get:function(){if(!this._invisibleColumns||0!==this._invisibleColumns.length)return this._invisibleColumns}},{key:"scrollPosition",get:function(){return this.applyScrollAfterRender=!1,this._invisibleNextScroll}},{key:"dirty",get:function(){return this._dirty}}]);var e=t.prototype;return e.hasPosition=function(t){var e=t.id;return!this._itemWaitPositions[e]&&Boolean(this._itemPositions[e])},e.getCachedPosition=function(t){var e=t.id;if(!this._itemWaitPositions[e])return this._itemPositions[e]},e.updatePosition=function(t,e){var n=t.id;if(this._lockedVisibleItems&&!t.originalId)return!0;t.originalId&&(n=t.originalId);var r=this._itemColumns[n];return void 0!==r&&(this._columns[r].height=e.top+e.height,this._itemPositions[n]=e,this._withoutSize>0&&this._itemWaitPositions[n]&&(this._itemWaitPositions[n]=!1,this._withoutSize--),this._invisibleWaitPositions&&(this._invisibleWaitPositions.delete(t.id),this._itemWaitPositions[n]&&(this._itemWaitPositions[n]=!1,this._withoutSize--),this._invisibleWaitPositions.size||(this._invisibleComplete=!0)),!0)},e.collectPositions=function(){for(var t=!1,e=0;e<this._items.length;e++){var n=this._items[e];if(this._itemWaitPositions[n.id]){var r=this.getPosition(n);r&&this.updatePosition(n,r)&&(t=!0)}}return t},e.reset=function(){this._dirty=!0,this._itemWaitPositions={},this._itemPositions={},this._visibleItems=[],this._lockedVisibleItems||(this._itemColumns={},this._columns=[])},e.isRendered=function(t){var e=this._itemColumns[t.id];return void 0!==e&&this.columns[e].items.indexOf(t)>-1},e.invalidateItems=function(t,e){if(void 0===e&&(e=this.getPosition),!this._appliedInvalidations.has(t)){this._appliedInvalidations.add(t);for(var n=t.map(function(t){return t.id}),r=[],i={},o=0;o<this._items.length;o++){var a=this._items[o],s=this._itemColumns[a.id];if(n.includes(a.id)&&void 0!==s){var c=e(a),u=this._itemPositions[a.id];if(r.push(s),i[s]||(i[s]=0),c&&u){if(c.top===u.top&&c.height===u.height)continue;this.updatePosition(a,{height:c.height,top:c.top+i[s]}),i[s]+=c.height-u.height;continue}}if(void 0!==s&&r.includes(s)){var l=this._itemPositions[a.id];if(l)if(void 0!==i[s])this.updatePosition(a,{height:l.height,top:l.top+i[s]});else{var d=e(a);d?this.updatePosition(a,d):delete this._itemPositions[a.id]}}}}},e.update=function(){this._dirty=!1,this.calculate()},e.updateItemsTop=function(t){var e=this;this._items.forEach(function(n){var r=e._itemPositions[n.id];r&&(r.top+=t)})},e.calculate=function(){var t=this._threshold,e=this.expectedColumnsCount,n=this._serverColumns||e,r=Math.round((this._windowWidth+this._xGap-this._xPadding)/n)-this._xGap,i=[],o=this._serverColumns>0,a=this._items,c=[],u=Math.min(a.length,o&&this._maxServerElements||1/0);if(this._columnsCount&&n!==this._columnsCount&&(this._needRecalculationAfterRender=!0),n===this._columnsCount&&this._needRecalculationAfterRender&&(this._needRecalculationAfterRender=!1,this.reset(),this._dirty=!1),e!==n&&(this._dirty=!0),this._serverColumns=0,this._columnsCount=n,this._lockedVisibleItems){if(this._invisibleLocked>=0)return void(this._invisibleLocked===this._scrollTop&&this._scrollTop||(this._invisibleLocked=-1,this._dirty=!0));if(this._invisibleComplete){var l=this._lockedVisibleItems[0].item,d=this.getPosition(l),h=this.getCachedPosition(l);if(this.setItemsOptions({screenRotateInProgress:!1}),h&&d){this._invisibleNextScroll=this._scrollTop=h.top-d.top+this._scrollTop,this.applyScrollAfterRender=!0;for(var p=0;p<this._columns.length;p++){var g=this._columns[p];if(g.items.length){var m=this.getCachedPosition(g.items[0]);m&&(g.offset=m.top-this._containerTop)}}}else this._dirty=!0;return delete this._lockedVisibleItems,delete this._invisibleColumns,void(this._invisibleComplete=!1)}return this._dirty=!0,this.calculateVirtual()}for(var v=0;v<n;v++){var b=this._columns.length>v?this._columns[v].height:this._initColumns&&v<this._initColumns?1:0;i.push({index:v,height:b,offset:0,items:[]}),c.push(b)}this._columns=i;for(var _=0;_<Math.min(u,a.length);_++){var y=a[_],C=this._itemColumns[y.id];if(void 0===C||C>=n){C=0;for(var O=1;O<c.length;O++)c[O]<c[C]&&(C=O);n>1&&(c[C]+=f(r,y,this._coverCardHeight,this._xCardPadding)),this._itemColumns[y.id]=C}i[C].items.push(y)}this._withoutSize=0;for(var S=this._scrollTop,w=S+this._windowHeight,E=[],k=0;k<i.length;k++){for(var j=i[k],T=j.items.length,x=[],R=0,I=this._bulkInsertCount,D=!1,P=0;P<T;P++){var L=j.items[P],N=this._itemPositions[L.id];if(!N){var A=x.length;if(o)x=x.concat(j.items.slice(P));else{var B=j.items.slice(P,P+I);this._dirty=!0,x=x.concat(B);for(var M=P+I;M<T;M++){var F=j.items[M].id;this._itemColumns[F]=void 0,delete this._itemPositions[F]}}for(var U=A;U<x.length;U++)this._itemWaitPositions[x[U].id]=!0,this._withoutSize++;break}var z=N.top,V=z+N.height;if(S<V&&w>z){var H=Math.round(this._columnWidth),W=Math.round(N.height);E.push({item:L,x:k*H,y:Math.round(z),w:H,h:W})}if(S-t>V)D&&console.error("PODB-10221: booooom",L.id),R+=N.height;else{if(w+t<z)break;D=!0,x.push(L)}}j.offset=R,j.items=x;for(var q=0;q<x.length;q++)x[q].options=this.itemOptions}if(this._visibleItems=E,!o&&!this._isLoaded)for(var K=0;K<i.length;K++)for(var G=i[K],Y=0;Y<this._virtualCount;Y++)G.items.push({id:"pseudo-"+K+"-"+Y,type:s.a.PSEUDO,storeKey:"",item:{},position:0})},e.calculateVirtual=function(){this._invisibleColumns=[],this._invisibleWaitPositions=new Set;for(var t=0;t<this._columns.length;t++)this._invisibleColumns.push({offset:0,height:0,index:t,items:[]});for(var e=new Set,n=0;n<this._lockedVisibleItems.length;n++)e.add(this._lockedVisibleItems[n].item.id);for(var r=0;r<this._items.length;r++){var o=this._items[r],a=this._itemColumns[o.id];if(void 0===a)console.log(o,"has undefine column");else{var s=this._invisibleColumns[a],c="virtual/"+o.id;s.items.push(i()({},o,{originalId:o.id,id:c})),this._invisibleWaitPositions.add(c),this._itemWaitPositions[c]=!0,this._withoutSize++}if(e.delete(o.id),!e.size)break}},e.setItemsOptions=function(t){this.itemOptions=i()({},this.itemOptions,t);for(var e=0;e<this._columns.length;e++)for(var n=this._columns[e],r=0;r<n.items.length;r++)n.items[r].options=i()({},n.items[r].item.options,t)},t}()},"+3en":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("3lXt"),i=n("NuA5"),o=Object(i.a)("board",r.a)},"+45q":function(t,e,n){"use strict";var r=n("wYdN");e.a=r.a.applyDecls()},"+GKG":function(t,e,n){"use strict";var r=n("lGb1").ticker__text;e.a=function(t,e){return"function"==typeof r[t]?r[t](e):r[t]}},"+Ipk":function(t,e,n){t.exports=n.p+"f/e0c5.gif"},"+Jil":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("gLBg"),i=n("hV2r"),o=n("+r4z");function a(t){var e=Object(i.a)(t),n=Object(o.a)(t);if(n&&n===r.a.VERTICAL_SEARCH)return e.id}},"+LNT":function(t,e,n){"use strict";var r=n("9TW5"),i=n("gC8Q"),o=n("6ga4"),a=n("Ahwa"),s=n("Q1O+"),c=n("r7Cx"),u=function(t){var e=this&&this.isRestored,n=e?r.ar:r.a;return(e?r.fr:r.f)([n(c.a,Object(r.assign)(t,{class:Object(o.b)("button",{hash:{close:t.close,modal:!0,modal_ctrl:!0}})}),this)])};e.a=function(t){var e=this&&this.isRestored,n=e?r.er:r.e,c=function(e){var n=this&&this.isRestored,i=n?r.er:r.e,s=n?r.sr:r.s;return[e.title?[i.d(Object(o.b)("modal__head",{hash:{center:e.center,close:e.close}}),{},[i("h3","modal__title",{},[s(e.title)])," ",e.description?[i("p","modal__desc",{},[s(e.description)])]:[]])]:[]," ",i.d("modal__body",{},[a.a.call(e,t.content,{data:{view:this}})])]};return(e?r.fr:r.f)([n.d("modal__wrap",{},[n.d("modal__backdrop",{},[n.d("modal__i",{},[t.close?[i.a.call(this,{title:"Скасувати"})]:[],t.scroll?[n.d("modal__ii",{},[c.call(this,t)])]:[c.call(this,t)]," ",t.buttons?[n.d("modal__ctrl",{},[s.a.call(t,t.buttons,{hash:{},data:{view:this},fn:function(e){return[u.call(this,Object(r.assign)(e,{behaviors:t.buttonBehaviors}))]}})])]:[]])])])])}},"+Ncb":function(t,e,n){"use strict";function r(t){if("true"===(t=decodeURIComponent(t))||"false"===t)return"true"===t;if("undefined"!==t){var e=Number(t);return String(e)===t&&e==e?e:t}}n.d(e,"a",function(){return r})},"+POQ":function(t,e,n){"use strict";var r=n("V8C4"),i=n("pVnL"),o=n.n(i),a=n("CYZy"),s=n("MMez"),c=n("lPPs"),u=n("o7PK"),l=300;function d(t){var e,n=t.type,r=t.item;if(n===a.a.CARD&&(e=Object(s.a)(r)),n===a.a.BOARD&&(e=Object(c.a)(r)),n===a.a.CHANNEL&&(e=Object(u.a)(r)),e)return e.length>l?e.slice(0,l):e}var h=n("XZwp");n.d(e,"a",function(){return p});var f=["loc","feedSessionId","cardsSessionId","cardId","boardId","channelId","contestId"];function p(){return function(t){var e,n={};function r(r,i){var a=r||Object.keys(n),s=Date.now(),c=[].concat(a,i||[]).map(function(t){var e=n[t],r=e&&e.item;if(r&&r.item&&r.item.id)return{id:r.item.item.id,type:r.item.storeKey,start:e.timestamp,finish:s,pos:r.item.position,x:r.x,y:r.y,w:r.w,h:r.h,title:d(r.item)}}).filter(Boolean);c.length&&t.logger(o()({},e,{jsonInfo:c})),r?r.forEach(function(t){return delete n[t]}):n={}}return{track:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(i,o){void 0===o&&(o={});var a,s,c=Date.now(),u={},l=[];e&&(a=o,s=e,t.groupBy.every(function(t){return a[t]===s[t]}))||(r(),e=o);for(var d=0;d<i.length;d++){var h=i[d],f=h.item.id;u[f]=!0,n[f]||(n[f]={item:h,timestamp:c},l.push(f))}r(Object.keys(n).filter(function(t){return!u[t]}),l)}),reset:function(){r()}}}({logger:Object(h.a)(f,{extract:function(t){return t&&t.jsonInfo||[]},serialize:function(t){return{jsonInfo:JSON.stringify(t)}}},r.d.trackObjects),groupBy:f})}},"+XmN":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("kdr8"),i=n("NFKc"),o=Object(i.a)("env",function(t,e){var n=e.counter,i=e.retpath,o=e.target;return Object(r.b)({env:t},{counter:n,retpath:i,target:o})})},"+d4z":function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({search:"Знайти",urlHint:"Введіть адресу зображення",error:"Зображення не знайдено. Перевірте адресу або введіть іншу."})},"+lu/":function(t,e,n){"use strict";function r(t){for(var e={},n=0;n<t.length;n++)e[t[n].id]=t[n];return e}n.d(e,"a",function(){return r})},"+mVu":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("lc+m"),i=n("dNc+"),o=n("80YD"),a=Object(o.a)(r.a,i.b)},"+r4z":function(t,e,n){"use strict";function r(t){return t&&t.event&&t.event.route}n.d(e,"a",function(){return r})},"+smp":function(t,e,n){"use strict";n.r(e);var r=n("VbXa"),i=n.n(r),o=n("mdRN"),a=n("U60d"),s=n("xfRZ"),c=n("9TW5");n.d(e,"AsyncSpinnerLoadingView",function(){return u});var u=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.onRender=function(){var t=this,e=this.options.delay;e&&(this.$el.addClass("hidden"),setTimeout(function(){t.$el.removeClass("hidden")},e))},n.className=function(){return this.options.spinnerClass||"async_spinner"},n.serializeData=function(){var t=this.options,e=t.size,n=void 0===e?"L":e,r=t.type,i=void 0===r?"normal":r;return{size:n,type:i,isTransparent:"transparent"===i}},e.factory=function(t,n){void 0===t&&(t={}),void 0===n&&(n={});var r=t,i=r.type,o=r.size,a=r.spinnerClass;return new e(Object.assign({},n,{type:i,size:o,spinnerClass:a}))},e}(a.a);Object(o.a)({template:function(t){var e=this&&this.isRestored,n=e?c.ar:c.a;return(e?c.fr:c.f)([n(s.a,{type:t.type,size:t.size,gif:!t.isTransparent},this)])}})(u)},"+wVo":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("TMEN");function i(t,e){var n=Object(r.a)(t);return n&&n[e]}},"/+oc":function(t,e,n){"use strict";var r=n("2N+6");e.a=function(t){return function t(e){var n=Math.floor(e/60),i=e%60;return n>60?t(n)+":"+Object(r.a)(i,2):Object(r.a)(n,2)+":"+Object(r.a)(i,2)}(t)}},"/ERR":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var r=n("JEEa"),i=n("Zoo8"),o=n("Hy4r"),a=function(t){return[{key:"years",format:"yy",value:t[i.e.year]},{key:"months",format:"MM",value:t[i.e.month]},{key:"days",format:"dd",value:t[i.e.day]},{key:"hours",format:"hh",value:t[i.e.hour]},{key:"minutes",format:"mm",value:t[i.e.minute]}]};function s(t,e){var n=e.hash.measure;return c(t,void 0===n?"minutes":n)}function c(t,e){var n=function(t,e){return r.a.relativeTime(t,e,!1,{locale:"uk"})},s=new r.a(Number(t),e).getParts(),c=a(s),u=s[i.e.minute],l=s[i.e.hour],d=s[i.e.day],h=s[i.e.month],f=s[i.e.year];return c.map(function(t){var e=t.key,r=t.value,i=t.format;if(r>0){if("hours"===e&&(h||d||u||f)){if(!d&&!h&&!f){if(l>=5&&l<=12)return n("hh",Math.round(2*(r+u/60))/2).replace(".",",");if(l>12)return n("hh",Math.round(r+u/60))}if(d>2||h||f)return;return o.shortHours({value:r})}if("minutes"===e){if(h||d||l>=5||f)return;return o.shortMinutes({value:r})}return"days"===e&&(h||l||u||f)?o.shortDays({count:r}):"months"===e&&(d||l||u||f)?o.shortMonths({value:r}):n(i,r)}}).filter(Boolean).join(" ")}},"/Epz":function(t,e,n){"use strict";function r(t,e){return function(n){return e(t(n))}}n.d(e,"a",function(){return r})},"/FHb":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("pVnL"),i=n.n(r),o={woman:{sex:"female",age:"adult"},man:{sex:"male",age:"adult"},girl:{sex:"female",age:"kid"},boy:{sex:"male",age:"kid"}};function a(t){if(t.target){var e=Array.isArray(t.target)?t.target:[t.target];if(e.length){var n=e.reduce(function(t,e){var n=o[e];return t.sex.push(n.sex),t.age.push(n.age),t},{sex:[],age:[]});t=i()({},t,n,{target:void 0})}}return t}},"/KRU":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("3lXt"),i=n("lc+m");function o(t,e){var n=Object(i.a)(t,e);if(n&&n.board)return Object(r.a)(t,n.board.id)}},"/bNA":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=n("9qcP").a.factory()},"/e/s":function(t,e,n){var r={"./spinner-L-gray.gif":"Gk7b","./spinner-L-gray@2x.gif":"L3d8","./spinner-L-invert.gif":"3E89","./spinner-L-invert@2x.gif":"hA21","./spinner-L-normal.gif":"04q7","./spinner-L-normal@2x.gif":"8i7z","./spinner-M-gray.gif":"al43","./spinner-M-gray@2x.gif":"Zngv","./spinner-M-invert.gif":"vgSg","./spinner-M-invert@2x.gif":"jjJ1","./spinner-M-normal.gif":"tTXn","./spinner-M-normal@2x.gif":"3ROj","./spinner-S-gray.gif":"F7wz","./spinner-S-gray@2x.gif":"9svB","./spinner-S-invert.gif":"7l/d","./spinner-S-invert@2x.gif":"Sn9x","./spinner-S-normal.gif":"LPNN","./spinner-S-normal@2x.gif":"5p+6","./spinner-XL-gray.gif":"g5xR","./spinner-XL-gray@2x.gif":"yxf4","./spinner-XL-invert.gif":"ZK63","./spinner-XL-invert@2x.gif":"S7CM","./spinner-XL-normal.gif":"Ev79","./spinner-XL-normal@2x.gif":"KyvS","./spinner-XS-gray.gif":"c7rW","./spinner-XS-gray@2x.gif":"+Ipk","./spinner-XS-invert.gif":"DBAK","./spinner-XS-invert@2x.gif":"tvkE","./spinner-XS-normal.gif":"S8mT","./spinner-XS-normal@2x.gif":"RPZc"};function i(t){var e=o(t);return n(e)}function o(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id="/e/s"},"/ere":function(t,e,n){t.exports=n.p+"f/14fd.svg"},"/rhZ":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r,i,o,a=n("VbXa"),s=n.n(a),c=n("U+yc"),u=n.n(c),l=n("EVdn"),d=n("SiKM"),h=n("jOGB"),f=n("mdRN"),p=n("k/eQ"),g=n("BrWi"),m=(r=Object(p.a)(),i=Object(g.a)(100),o=function(t){function e(){return t.apply(this,arguments)||this}s()(e,t);var n=e.prototype;return n.onRender=function(){this.initTarget(),this.runInitScroll()},n.runInitScroll=function(){setTimeout(this.initScroll.bind(this))},n.initScroll=function(){this.view.isDestroyed||(this.initElements(),this.initSizes(),this.createListeners(),this.onCheck())},n.initTarget=function(){var t=this.options.target;Object(d.isFunction)(t)?this._target=t.call(this.view,this.view):this._target=this.view.collection},n.initElements=function(){var t=this.getOption("wrapper"),e=this.getOption("container"),n=this.getOption("spinner")||".groups__loading";t?(this.$wrapper=this.$el.closest(t),this.$wrapper.length||(this.$wrapper=this.$el.find(t))):this.$wrapper=l(window),this.$container=e?this.$(e):this.$el,this.$spinner=this.$(n)},n.initSizes=function(){var t=this.view.children.first(),e=this.getOption("containerTop")||this.view.getOption("containerTop");if(this.containerWidth=this.$container.width()||0,void 0!==e)this.containerTop=e;else{var n=this.$container.offset();this.containerTop=this.getOption("relative")?this.$container.position().top:n?n.top:0}t&&!this.options.dynamicSize&&(this.viewSize={width:t.$el.outerWidth(),height:t.$el.outerHeight()}),this.calcContainerHeight(),this.wrapperHeight=this.$wrapper.height()||0},n.calcContainerHeight=function(){if(this.viewSize&&this.viewSize.width){var t=Math.round(this.containerWidth/this.viewSize.width),e=Math.ceil(this.getCollectionLength()/t);this.containerHeight=e*this.viewSize.height}else this.containerHeight=this.$container.height()||0},n.getCollectionLength=function(){return this.view.children.length},n.createListeners=function(){this.listeners={scroll:this.view.$on(this.$wrapper,"scroll",this.onCheck.bind(this)),resize:this.view.$on(this.$wrapper,"resize",this.onCheck.bind(this))},this.listenTo(this._target,this.options.events,this.onCollectionChange)},n.destroyListeners=function(){void 0===this.listeners||this.options.dynamic||(this.listeners.scroll.close(),this.listeners.resize.close())},n.onCollectionChange=function(){this.calcContainerHeight(),this.onCheck()},n.onCheck=function(){var t=this,e=this.options.interactiveStop,n=!1;if(!this.options.dynamic||!this.isLoading()&&this._target.isFullyLoaded()||this.toggleVisible(!0),!this.isLoading()&&!this.view.isDestroyed){if(this._target.isFullyLoaded())return this.toggleVisible(!1),void this.destroyListeners();if((this.$wrapper.scrollTop()||0)+this.wrapperHeight>this.containerTop+this.containerHeight-this.options.threshold&&(!this.options.checkContainerVisibility||this.$container.height()>0)){var r=this.getOption("beforeFetch"),i=this.getOption("afterFetch");r&&r(),this._target.fetchNext().then(function(){t.calcContainerHeight(),setTimeout(function(){return t.onCheck()},200)},function(e){console.error(e),setTimeout(function(){return t.onCheck()},2e3)}).then(function(){i&&i()})}else n=!0;e&&this.toggleSpinnerClass(e,n)}},n.isLoading=function(){return this._target.isLoading()},n.toggleVisible=function(t){this.toggleSpinnerClass("hidden",!t)},n.toggleSpinnerClass=function(t,e){this.view.isDestroyed||this.$spinner.toggleClass(t,e)},n.onDestroy=function(){this.destroyListeners()},e}(h.a),u()(o.prototype,"onCollectionChange",[r],Object.getOwnPropertyDescriptor(o.prototype,"onCollectionChange"),o.prototype),u()(o.prototype,"onCheck",[i],Object.getOwnPropertyDescriptor(o.prototype,"onCheck"),o.prototype),o);Object(f.a)({defaults:{events:"update reset",relative:!0,checkContainerVisibility:!0,threshold:300}})(m)},"00BG":function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("y1pN"),i=n("+3en"),o=n("MTjZ"),a=n("+r4z"),s=n("INas"),c=n("RouB"),u=n("l0Ty"),l=n("TMEN"),d=n("gLBg"),h=[d.a.PROFILE,d.a.MY_PROFILE,d.a.CARDS,d.a.BOARD_BOOKMARKS_SYNC];function f(t){var e,n=Object(a.a)(t),d=Object(o.a)(t);if(h.includes(n))e=Object(s.a)(t);else{var f=Object(i.a)(t);e=Object(r.a)(t,f&&f.id)}var p=Object(u.a)(d),g=void 0===p?1===Object(l.a)(t).isBrowserFavorites:p;return Boolean(e&&d.login===e.login&&Object(c.a)(d)&&g)}},"04q7":function(t,e,n){t.exports=n.p+"f/a7af.gif"},"0Boe":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("pVnL"),i=n.n(r),o=n("9yiq"),a=n("Gxl1");function s(t,e){var n=t.split("?"),r=n&&n[0],s=n&&n[1]?Object(a.a)(n[1]):{},c=Object(o.a)(i()({},s,e));return c?r+"?"+c:r}},"0MRR":function(t,e,n){"use strict";n.d(e,"a",function(){return _});var r,i,o,a,s,c=n("pVnL"),u=n.n(c),l=n("VbXa"),d=n.n(l),h=n("U+yc"),f=n.n(h),p=n("cDcd"),g=n("YAwY"),m=n("LH8O"),v=n("K6aF"),b=n("YQQ1"),_=(r=Object(m.a)(),i=Object(m.a)(),o=Object(m.a)(),a=Object(m.a)(),s=function(t){function e(e){var n=t.call(this,e)||this;return n.state={hidden:!0},n.retry=0,n.setSrc(e),n}d()(e,t);var n=e.prototype;return n.componentWillUnmount=function(){this.retryTimeout&&(clearTimeout(this.retryTimeout),this.retryTimeout=void 0)},n.componentWillReceiveProps=function(t){this.setSrc(t)&&this.setState({hidden:!0})},n.setSrc=function(t){var e,n,r=t.src,i=t.srcSet,o=t.content,a=t.preview,s=t.size,c=this.origSrc;return r?(e=r,n=i):e=Object(g.a)(o||a,{size:s||"orig"}),this.origSrc=e,this.src=e,this.srcSet=n,!this.state.hidden&&c!==e},n.onImageRef=function(t){var e=this;this.image=t,t&&setTimeout(function(){return e.onImageLoad()})},n.onImageLoad=function(){this.image&&this.image.naturalHeight&&this.state.hidden&&this.setState({hidden:!1})},n.onImageError=function(){var t=this;if(!1!==navigator.onLine){if(this.retry++,10!==this.retry){var e=-1===this.origSrc.indexOf("?")?"?":"&";this.src=this.origSrc+e+"r="+this.retry,this.retryTimeout=setTimeout(function(){return t.forceUpdate()},1e3*this.retry)}}else this.retryTimeout=setTimeout(this.onImageError,Math.min(5e3,1e3*this.retry))},n.render=function(){var t=this.props,e=t.mod,n=t.mods,r=t.alt,i=t.link,o=t.cardId,a=t.style,s=t.children,c=t.label;return p.createElement(v.a,{mod:e,mods:n,alt:r,src:this.src,srcSet:this.srcSet,style:a,label:c,onImageError:this.onImageError,onImageLoad:this.onImageLoad,onImageRef:this.onImageRef,linkFactory:i&&o?function(t){return p.createElement(b.a,u()({cardId:o},t))}:void 0},s)},e}(p.PureComponent),f()(s.prototype,"setSrc",[r],Object.getOwnPropertyDescriptor(s.prototype,"setSrc"),s.prototype),f()(s.prototype,"onImageRef",[i],Object.getOwnPropertyDescriptor(s.prototype,"onImageRef"),s.prototype),f()(s.prototype,"onImageLoad",[o],Object.getOwnPropertyDescriptor(s.prototype,"onImageLoad"),s.prototype),f()(s.prototype,"onImageError",[a],Object.getOwnPropertyDescriptor(s.prototype,"onImageError"),s.prototype),s)},"0kDp":function(t,e,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),o=n("9TW5").e,a=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr,u=n("YU6D").Utils.escapeExpression;t.exports=r({marketTeaserPrice:function(t){return"Купити за "+u(t.price)},marketTeaserPriceRouble:{v:'Купити за __price__ <span class="rur">руб.</span>',r:function(t){return i.createElement(i.Fragment,null,"Купити за ",t.price," ",i.createElement("span",{className:"rur"},"руб."))},h:function(t){var e=this.isRestored?c:s,n=this.isRestored?a:o;return e(["Купити за ",t.price," ",n("span","",{class:"rur"},["руб."],{view:this})])}},marketTeaserPriceRoubleShort:{v:'__price__ <span class="rur">руб.</span>',r:function(t){return i.createElement(i.Fragment,null,t.price," ",i.createElement("span",{className:"rur"},"руб."))},h:function(t){var e=this.isRestored?c:s,n=this.isRestored?a:o;return e([t.price," ",n("span","",{class:"rur"},["руб."],{view:this})])}},marketNotPrecise:{v:"Шукати на <i>Яндекс.</i>Маркеті",r:function(t){return i.createElement(i.Fragment,null,"Шукати на ",i.createElement("i",{},"Яндекс."),"Маркеті")},h:function(t){return(this.isRestored?c:s)(["Шукати на ",(this.isRestored?a:o)("i","",{},["Яндекс."],{view:this}),"Маркеті"])}},marketNotPreciseShort:"На Маркеті",marketNoPriceFull:{v:"Купити на <i>Яндекс.</i>Маркеті",r:function(t){return i.createElement(i.Fragment,null,"Купити на ",i.createElement("i",{},"Яндекс."),"Маркеті")},h:function(t){return(this.isRestored?c:s)(["Купити на ",(this.isRestored?a:o)("i","",{},["Яндекс."],{view:this}),"Маркеті"])}},market:{v:"<i>Яндекс.</i>Маркет",r:function(t){return i.createElement(i.Fragment,null,i.createElement("i",{},"Яндекс."),"Маркет")},h:function(t){return(this.isRestored?c:s)([(this.isRestored?a:o)("i","",{},["Яндекс."],{view:this}),"Маркет"])}}})},"0lHE":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r,i=[{testFn:function(t,e){var n=t.userAgent,r=e.opr&&e.opr.addons||e.opera||n.indexOf(" OPR/")>=0,i=n.indexOf(" YaBrowser/")>=0;return r||i},extension:"https://addons.opera.com/ru/extensions/details/iandekskollektsii/?display=ru"},{testFn:function(t){return-1!==t.userAgent.indexOf("Firefox")},extension:"https://addons.mozilla.org/en-US/firefox/addon/%D1%8F%D0%BD%D0%B4%D0%B5%D0%BA%D1%81-%D0%BA%D0%BE%D0%BB%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/"},{testFn:function(t){var e=t.userAgent.match(/.+edge\/([\d]{2})/i);return!!e&&Number(e[1])>=15},extension:"https://www.microsoft.com/store/apps/9p157r0gvrlf"},{testFn:function(t){var e=t.userAgent,n=t.vendor&&t.vendor.toLowerCase()||"";return e.indexOf(" Chrome/")>=0&&n.indexOf("google inc")>=0},extension:"https://chrome.google.com/webstore/detail/%D1%8F%D0%BD%D0%B4%D0%B5%D0%BA%D1%81%D0%BA%D0%BE%D0%BB%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/jioahohofgjigkjlbfggopegefbmfnma"}];function o(){if(void 0===r){var t=window.navigator,e=window,n=i.find(function(n){return n.testFn(t,e)});r=n?n.extension:""}return r}},"0phs":function(t,e,n){"use strict";var r=n("DqoW");e.a=r.a.applyDecls()},"0rhd":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("i1uP"),i=n("Qtgv"),o=n("IWXk"),a=Object(r.a)(o.a,i.a)},"14Y5":function(t,e,n){"use strict";n.d(e,"a",function(){return S});var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("NFKc"),l=n("c+Ap"),d=n("/bNA"),h=n("cX81"),f=n("xalX"),p=n("V8C4"),g=n("+mVu"),m=n("lc+m"),v=n("n73F"),b=n("aKBe"),_=n("gQdx"),y=n("Tff5"),C=n("Kj4u"),O=n("kxd7"),S=Object(u.a)("request",function(){var t=c()(i.a.mark(function t(e,n,r){var o,s,c,u,S,w,E,k,j,T,x,R,I,D,P,L,N;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.cardId,s=n.isFulfilled,c=n.counter,u=r.getState,S=r.dispatch,w=Object(m.a)(u(),o)){t.next=7;break}return t.next=6,S(Object(C.a)({cardId:o}));case 6:w=Object(m.a)(u(),o);case 7:if(w){t.next=9;break}throw new Error("Cannot find card with id="+o);case 9:return c=a()({},c,{cardId:o,fulfilled:s}),E=w.labels||[],k=s?l.lb:l.mb,j=s?l.mb:l.lb,T="/collections/api/cards/"+encodeURIComponent(o)+"/fulfillment/",x=E.filter(function(t){return t!==k}).concat(j),p.d.clickCardWish(c),S(Object(b.a)({id:o,value:{labels:x}})),t.prev=14,t.next=17,s?e.put(T,x):e.del(T,x);case 17:R=u(),I=Object(g.a)(R,o),D=I.board,P=R.boardCards,D&&(L=a()({},D.stat,{fulfilled_count:Math.max(0,D.stat.fulfilled_count+(s?1:-1))}),S(Object(_.a)({id:D.id,value:{stat:L}})),v.a.dataFactory(D,{parse:!0,request:e}).setStat(Object(f.a)(L))),h.a.dataFactory(I,{parse:!0,request:e}).set("labels",x),P&&P._query&&P._query["board.id"]===Object(y.a)(R,I.id)&&(N=P._query.wish===l.mb,s!==N&&S(Object(O.a)({storeKey:"boardCards",id:I.id}))),p.d.finishCardWish(c),t.next=31;break;case 27:t.prev=27,t.t0=t.catch(14),d.a.showXHRMessage(t.t0),S(Object(b.a)({id:o,value:{labels:E}}));case 31:case"end":return t.stop()}},t,this,[[14,27]])}));return function(){return t.apply(this,arguments)}}())},"15Ko":function(t,e,n){t.exports=n.p+"f/29e7.jpg"},"1H70":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("VbXa"),i=n.n(r),o=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.initialize=function(t,e){this.options=e||{},this.options.request&&this.setRequestAdapter(this.options.request)},n.destroy=function(){this.stopListening()},n._prepareModel=function(e,n){return(n=n||{}).request=this.getRequestAdapter(),t.prototype._prepareModel.call(this,e,n)},n.updateDependencies=function(t){var e=t.request,n=t.env;this.setEnv(n),this.setRequestAdapter(e)},e.factory=function(t){return this.dataFactory(null,t)},e.dataFactory=function(t,e){return new this(t,e)},e}(n("E5ki").a)},"1IOI":function(t,e,n){"use strict";var r=n("JA8s");e.a=r.a.applyDecls()},"1RGr":function(t,e,n){"use strict";n.d(e,"a",function(){return S});var r,i,o,a,s,c=n("pVnL"),u=n.n(c),l=n("VbXa"),d=n.n(l),h=n("U+yc"),f=n.n(h),p=n("cDcd"),g=n("JxqJ"),m=n("LH8O"),v=n("6ga4"),b=n("vjVR"),_=n("EC4j"),y=n("V8C4"),C={passive:!0,capture:!1},O=(r=Object(m.a)(),i=Object(m.a)(),o=Object(m.a)(),a=Object(m.a)(),s=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={visible:!1},e}d()(e,t);var n=e.prototype;return n.toggleVisible=function(){var t=!this.state.visible;y.d.clickKebab(u()({},this.context.counter,{visible:t})),this.setState({visible:t}),this.openerClick=!0,this.toggleListeners(t);var e=this.props.onVisibilityChange;e&&e(t)},n.toggleListeners=function(t){t?(window.addEventListener("click",this.onDocumentClick),window.addEventListener("keydown",this.onDocumentKeyDown),window.addEventListener("scroll",this.onDocumentScroll,C)):(window.removeEventListener("click",this.onDocumentClick),window.removeEventListener("keydown",this.onDocumentKeyDown),window.removeEventListener("scroll",this.onDocumentScroll,C))},n.onDocumentScroll=function(){this.onClickOut()},n.onDocumentClick=function(){this.openerClick?this.openerClick=!1:this.onClickOut()},n.onDocumentKeyDown=function(t){t.keyCode===b.c&&this.onClickOut()},n.onClickOut=function(){this.toggleVisible()},n.componentWillUnmount=function(){this.toggleListeners()},n.render=function(){var t,e,n=this.props,r=n.mod,i=n.size,o=void 0===i?"M":i,a=n.invert,s=n.iconMods,c=n.list,u=n.children,l=this.state.visible,d=Object(v.a)("kebab__menu",((t={})[r]=!0,t)),h=Boolean(u);return s||(s={"kebab-24x24":!0,invert:a}),p.createElement("div",{className:Object(v.a)("kebab",(e={},e[r]=!0,e))},p.createElement(_.a,{mods:{kebab:[!0,r,l&&"visible"],ei:!0,size:o,type:"clear","icon-only":!0,state:!!l&&"check",invert:a},icon:!0,iconMods:s,onClick:this.toggleVisible}),l&&p.createElement("ul",{className:"popup-menu__main "+d},h&&p.Children.map(u,function(t){return t&&p.createElement("li",{className:"kebab__menu-item"},t)}),c&&c.map(function(t,e){var n=t.onClick,r=t.title;return p.createElement("li",{className:"kebab__menu-item",onClick:n,key:e},p.createElement("span",{className:"kebab__menu-text"},r))})))},e}(p.Component),f()(s.prototype,"toggleVisible",[r],Object.getOwnPropertyDescriptor(s.prototype,"toggleVisible"),s.prototype),f()(s.prototype,"onDocumentScroll",[i],Object.getOwnPropertyDescriptor(s.prototype,"onDocumentScroll"),s.prototype),f()(s.prototype,"onDocumentClick",[o],Object.getOwnPropertyDescriptor(s.prototype,"onDocumentClick"),s.prototype),f()(s.prototype,"onDocumentKeyDown",[a],Object.getOwnPropertyDescriptor(s.prototype,"onDocumentKeyDown"),s.prototype),s),S=Object(g.b)()(O)},"1SpP":function(t,e,n){"use strict";function r(t){return"https://yandex.ru/collections/picture/channels/"+encodeURIComponent(t)+"/"}n.d(e,"a",function(){return r})},"1WnH":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("pVnL"),i=n.n(r),o=n("T6Rw"),a=n("q/UM"),s=Object(o.a)(function(t,e){var n={modal:e};return null===e&&(n.bulk=null),Object(a.a)(i()({},t,{notifications:e?[]:t.notifications}),n)})},"1XFv":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("VbXa"),i=n.n(r),o=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.fetchNext=function(){var t=this,e=this.getImages(),n=(this._loadingChain||Promise.resolve()).then(function(){return e.fetchNext()}).then(function(){return t._isFullyLoaded=e._isFullyLoaded}).then(function(){return e.asyncToCards(2,t)});return this._loadingChain=n.catch(function(t){console.error(t)}),n},n.setImages=function(t){this._images=t,this._isFullyLoaded=t._isFullyLoaded},n.getImages=function(){return this._images},n.getCount=function(){var t=this.getImages();return t?t.getCount():0},n.clone=function(){var e=t.prototype.clone.call(this);return e.setImages(this.getImages()),e},n.reset=function(){return this.hasInvalidImages=!1,t.prototype.reset.call(this)},e}(n("v4Hp").a)},"1XU/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("c+Ap"),i=["ru","by","kz","ua","com","com.ua","com.tr"];function o(t,e,n){if(!e){var o=location.host.match(r.z);if(e="ru",o)e=o[1];else if(void 0!==n)return n}return void 0===n||i.includes(e)?t.replace("yandex.ru","yandex."+e):n}},"1ZVK":function(t,e,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("NFKc"),l=n("H2ZY"),d=n("gF9f"),h=n("dNc+");function f(t,e){var n=t&&t[e];return n&&n._ver||0}n.d(e,"a",function(){return p});var p=Object(u.a)("request",function(){var t=c()(i.a.mark(function t(e,n,r){var o,s,c,u,p,g,m,v,b,_,y,C,O,S,w,E,k,j,T;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r.getState,c=r.dispatch,u=s(),p=u[n.storeKey]){t.next=5;break}return t.abrupt("return");case 5:if(g=p._url,m=p._loading,v=p.next,b=n.rum,_=f(u,n.storeKey),y=function(t){if(b){var e=b[t];e&&e()}},!(n.limit&&p.results.length>=n.limit)){t.next=13;break}return t.abrupt("return");case 13:if(v&&g&&!m){t.next=15;break}return t.abrupt("return");case 15:return c(Object(d.a)(((o={})[n.storeKey]=a()({},p,{_loading:!0}),o))),t.prev=16,y("requestStart"),t.next=20,e.get(g,{data:v,headers:p._headers});case 20:C=t.sent,y("requestEnd"),O=f(s(),n.storeKey),_===O&&(n.limit&&(S=p.results.length,w=C.results.length,S+w>=n.limit&&(C.next=void 0)),E=Object(h.g)(n.storeKey,C),c(Object(l.a)({key:n.storeKey,items:E.results,next:E.next,loading:!1,errorLoading:!1}))),t.next=31;break;case 26:throw t.prev=26,t.t0=t.catch(16),k=f(s(),n.storeKey),_===k&&(T=s()[n.storeKey],c(Object(d.a)(((j={})[n.storeKey]=a()({},T,{_loading:!1,_errorLoading:!0}),j)))),t.t0;case 31:y("parse");case 32:case"end":return t.stop()}},t,this,[[16,26]])}));return function(){return t.apply(this,arguments)}}())},"1cBT":function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({search:"Знайти",placeholder:"Пошук"})},"1nxc":function(t,e,n){"use strict";var r=n("PSoe");function i(t){if("string"==typeof(e=t.src)&&(r.h.test(e)||r.g.test(e)))return!1;var e,n=t.naturalWidth,i=t.naturalHeight;return function(t){return"string"==typeof t&&r.a.test(t)}(t.src)?n>=r.b.WIDTH&&i>=r.b.HEIGHT:n>=r.c.WIDTH&&i>=r.c.HEIGHT}n.d(e,"a",function(){return i})},"1qIr":function(t,e,n){t.exports=n.p+"f/9230.jpg"},"1qWu":function(t,e,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("7/cf"),c=n("U0LE"),u=n("i1uP"),l=n("lc+m"),d=Object(u.a)(l.a,function(t){return!(!t||!t.selected_contents)&&t.selected_contents.length>=10}),h=n("4RqY"),f=n("y144"),p=n("x9gI"),g=n("ICaW");n.d(e,"a",function(){return m});var m=Object(h.a)(function(){var t=a()(i.a.mark(function t(e,n){var r,o,a,u,l,h,m,v;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.getState,o=n.dispatch,a=r(),!(u=Object(s.b)(a))){t.next=19;break}if(l=u.selected_contents||[],h=u.preview_content,m=l.indexOf(e),v=Object(p.a)(a,g.d.COLLECTIONS_DESKTOP_SHOW_MAKE_COVER),!(m>=0)){t.next=14;break}if(!u.original_id||0!==m||v){t.next=11;break}return t.abrupt("return");case 11:l=l.filter(function(t){return t!==e}),t.next=16;break;case 14:d(u)?o(Object(c.b)({type:c.a.SELECTED_LIMIT})):l.push(e);case 16:return h===e&&(h=l.length?l[0]:void 0),t.next=19,o(Object(f.a)({value:{selected_contents:l,preview_content:h}}));case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},"1vK5":function(t,e,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),o=n("9TW5").e,a=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr,u=n("YU6D").Utils.escapeExpression;t.exports=r({errorDefault:"Сталася помилка. Спробуйте оновити сторінку",mainErrorUndefined:"Щось пішло не так",xhrError0:"Немає з’єднання з інтернетом",xhrError404:"Немає такого",xhrError403:"У вас немає доступу до цієї сторінки",xhrError500:"Помилка сервера",xhrErrorUnknown:"Помилка",cardMove:{v:'Картку переміщено до колекції «<a href="__board_url__">__board_title__</a>»',r:function(t){return i.createElement(i.Fragment,null,"Картку переміщено до колекції «",i.createElement("a",{href:t.board_url},t.board_title),"»")},h:function(t){return(this.isRestored?c:s)(["Картку переміщено до колекції «",(this.isRestored?a:o)("a","",{href:t.board_url},[t.board_title],{view:this}),"»"])}},cardRemove:{v:'Картку видалено з колекції «<a href="__board_url__">__board_title__</a>»',r:function(t){return i.createElement(i.Fragment,null,"Картку видалено з колекції «",i.createElement("a",{href:t.board_url},t.board_title),"»")},h:function(t){return(this.isRestored?c:s)(["Картку видалено з колекції «",(this.isRestored?a:o)("a","",{href:t.board_url},[t.board_title],{view:this}),"»"])}},cardCreate:{v:'Картка додана до колекції «<a href="__board_url__">__board_title__</a>»',r:function(t){return i.createElement(i.Fragment,null,"Картка додана до колекції «",i.createElement("a",{href:t.board_url},t.board_title),"»")},h:function(t){return(this.isRestored?c:s)(["Картка додана до колекції «",(this.isRestored?a:o)("a","",{href:t.board_url},[t.board_title],{view:this}),"»"])}},cardUpdate:"Картку оновлено",cardsCreate:[{v:'До колекції «<a href="__board_url__">__board_title__</a>» додано __count__ картку',r:function(t){return i.createElement(i.Fragment,null,"До колекції «",i.createElement("a",{href:t.board_url},t.board_title),"» додано ",t.count," картку")},h:function(t){return(this.isRestored?c:s)(["До колекції «",(this.isRestored?a:o)("a","",{href:t.board_url},[t.board_title],{view:this}),"» додано ",t.count," картку"])}},{v:'До колекції «<a href="__board_url__">__board_title__</a>» додано __count__ картки',r:function(t){return i.createElement(i.Fragment,null,"До колекції «",i.createElement("a",{href:t.board_url},t.board_title),"» додано ",t.count," картки")},h:function(t){return(this.isRestored?c:s)(["До колекції «",(this.isRestored?a:o)("a","",{href:t.board_url},[t.board_title],{view:this}),"» додано ",t.count," картки"])}},{v:'До колекції «<a href="__board_url__">__board_title__</a>» додано __count__ карток',r:function(t){return i.createElement(i.Fragment,null,"До колекції «",i.createElement("a",{href:t.board_url},t.board_title),"» додано ",t.count," карток")},h:function(t){return(this.isRestored?c:s)(["До колекції «",(this.isRestored?a:o)("a","",{href:t.board_url},[t.board_title],{view:this}),"» додано ",t.count," карток"])}}],fileParseError:"Додавати можна лише зображення",urlParseError:"Не вдалося знайти зображення",wishFulfilled:"Бажання виконане",wishUndoFulfilled:"Бажання знову актуальне",boardCreated:function(t){return"Колекцію «"+u(t.board_title)+"» створено"},boardUpdated:{v:'Зміни в колекції «<a href="__board_url__">__board_title__</a>» збереглися',r:function(t){return i.createElement(i.Fragment,null,"Зміни в колекції «",i.createElement("a",{href:t.board_url},t.board_title),"» збереглися")},h:function(t){return(this.isRestored?c:s)(["Зміни в колекції «",(this.isRestored?a:o)("a","",{href:t.board_url},[t.board_title],{view:this}),"» збереглися"])}},boardRemoved:function(t){return"Колекцію «"+u(t.board_title)+"» видалено"},boardSubscribed:{v:'Ви підписалися на колекцію «<a href="__board_url__">__board_title__</a>»',r:function(t){return i.createElement(i.Fragment,null,"Ви підписалися на колекцію «",i.createElement("a",{href:t.board_url},t.board_title),"»")},h:function(t){return(this.isRestored?c:s)(["Ви підписалися на колекцію «",(this.isRestored?a:o)("a","",{href:t.board_url},[t.board_title],{view:this}),"»"])}},boardUnsubscribed:{v:'Ви відписалися від колекції «<a href="__board_url__">__board_title__</a>»',r:function(t){return i.createElement(i.Fragment,null,"Ви відписалися від колекції «",i.createElement("a",{href:t.board_url},t.board_title),"»")},h:function(t){return(this.isRestored?c:s)(["Ви відписалися від колекції «",(this.isRestored?a:o)("a","",{href:t.board_url},[t.board_title],{view:this}),"»"])}},complaintSuccess:"Скаргу прийнято",cardHided:"Картку приховано",userSubscribed:{v:'Ви підписалися на <a href="__user_url__">__user_login__</a>',r:function(t){return i.createElement(i.Fragment,null,"Ви підписалися на ",i.createElement("a",{href:t.user_url},t.user_login))},h:function(t){return(this.isRestored?c:s)(["Ви підписалися на ",(this.isRestored?a:o)("a","",{href:t.user_url},[t.user_login],{view:this})])}},userUnsubscribed:{v:'Ви відписалися від <a href="__user_url__">__user_login__</a>',r:function(t){return i.createElement(i.Fragment,null,"Ви відписалися від ",i.createElement("a",{href:t.user_url},t.user_login))},h:function(t){return(this.isRestored?c:s)(["Ви відписалися від ",(this.isRestored?a:o)("a","",{href:t.user_url},[t.user_login],{view:this})])}},imageDimensionSmall:function(t){return"Розмір зображення повинен перевищувати "+u(t.dimensions)},imageSizeLarge:function(t){return"Об’єм зображення не повинен перевищувати "+u(t.size)+" мегабайт"},channelSubscribed:{v:'Ви підписалися на тему «<a href="__channel_url__">__channel_title__</a>»',r:function(t){return i.createElement(i.Fragment,null,"Ви підписалися на тему «",i.createElement("a",{href:t.channel_url},t.channel_title),"»")},h:function(t){return(this.isRestored?c:s)(["Ви підписалися на тему «",(this.isRestored?a:o)("a","",{href:t.channel_url},[t.channel_title],{view:this}),"»"])}},channelUnsubscribed:{v:'Ви відписалися від теми «<a href="__channel_url__">__channel_title__</a>»',r:function(t){return i.createElement(i.Fragment,null,"Ви відписалися від теми «",i.createElement("a",{href:t.channel_url},t.channel_title),"»")},h:function(t){return(this.isRestored?c:s)(["Ви відписалися від теми «",(this.isRestored?a:o)("a","",{href:t.channel_url},[t.channel_title],{view:this}),"»"])}},compilationSubscribed:{v:'Ви підписалися на тему «<a href="__url__">__title__</a>»',r:function(t){return i.createElement(i.Fragment,null,"Ви підписалися на тему «",i.createElement("a",{href:t.url},t.title),"»")},h:function(t){return(this.isRestored?c:s)(["Ви підписалися на тему «",(this.isRestored?a:o)("a","",{href:t.url},[t.title],{view:this}),"»"])}},compilationUnsubscribed:{v:'Ви відписалися від теми «<a href="__url__">__title__</a>»',r:function(t){return i.createElement(i.Fragment,null,"Ви відписалися від теми «",i.createElement("a",{href:t.url},t.title),"»")},h:function(t){return(this.isRestored?c:s)(["Ви відписалися від теми «",(this.isRestored?a:o)("a","",{href:t.url},[t.title],{view:this}),"»"])}},noAvailableBallots:"Поки немає карток, за які можна проголосувати",saveBallotVoteFailed:"Помилка під час голосування. Повторіть, будь ласка",createBoardDuplicate:"Ви вже маєте колекцію з такою назвою",removeCardReadonlyDisallowed:"Закладки не можна видаляти в Колекціях",editCardReadonlyDisallowed:"Закладки не можна редагувати в Колекціях",moveCardReadonlyDisallowed:"Закладки не можна переміщувати в Колекціях",editBoardReadonlyDisallowed:"Закладки не можна редагувати в Колекціях"})},"2/d/":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){return t[t[e="ADD"]="add"]=e,t[t[e="MOVE"]="move"]=e,t[t[e="SHARE"]="share"]=e,t}({})},"2A37":function(t,e,n){"use strict";var r=n("Yhgf");e.a=r.a.applyDecls()},"2Kp5":function(t,e,n){"use strict";var r=n("dNnX");e.a=r.a.applyDecls()},"2N+6":function(t,e,n){"use strict";function r(t,e,n){for(void 0===n&&(n="0"),t=String(t);t.length<e;)t=n+t;return t}n.d(e,"a",function(){return r})},"2T02":function(t,e,n){"use strict";var r=n("cW8/"),i=n("IWXk"),o=n("vB0I"),a=Object(o.a)("userId",i.a);n.d(e,"a",function(){return s});var s=Object(r.a)({user:a})},"2WP6":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("Am/A"),i=n("y6Xm"),o=n("RLYd"),a=Object(o.a)(r.a,Object(i.a)("general"))},"2Y2+":function(t,e,n){"use strict";function r(t,e){var n=e&&e.hash&&e.hash.delimiter||" ";return String(t).replace(/(\d+(?:\.\d+)?)/g,function(t){return t.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1"+n)})}n.d(e,"a",function(){return r})},"2a6Q":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("Y6N5"),i=n("y6Xm"),o=n("RLYd"),a=Object(o.a)(r.a,Object(i.a)("page_domain_decoded"))},"2qyN":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("3lXt"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("description"))},"2sfb":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("3lXt"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("is_subscribed",!1))},"3D3i":function(t,e,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;t.exports=r({moreComments:[function(t){return i(t.count)+" коментар"},function(t){return i(t.count)+" коментаря"},function(t){return i(t.count)+" коментарів"}]})},"3E89":function(t,e,n){t.exports=n.p+"f/4f39.gif"},"3EtG":function(t,e,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;t.exports=r({logout:"Вийти",passport:"Паспорт",disk:"Мій диск",createMail:"Написати лист",userMail:[function(t){return i(t.count)+" новий лист"},function(t){return i(t.count)+" нові листи"},function(t){return i(t.count)+" нових листів"}]})},"3M9W":function(t,e,n){"use strict";function r(t){return Boolean(t&&t.organization)}n.d(e,"a",function(){return r})},"3ROj":function(t,e,n){t.exports=n.p+"f/7e42.gif"},"3Twp":function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("NFKc"),l=n("euOF"),d=n("7/cf"),h=n("V8C4"),f=n("rANK"),p=function(t){return"/collections/api/cards/"+t+"/shares/"},g=Object(u.a)("request",function(){var t=c()(i.a.mark(function t(e,n,r){var o,s,c,u,g,m,v,b;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.boardId,s=n.counter,c=r.getState,r.dispatch,u=c(),g=Object(d.b)(u),m=Object(l.a)(u,o),v=g.original_id,t.prev=6,t.next=9,e.post(p(v),a()({},m?{}:{board_id:o}));case 9:b=t.sent,t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(6),t.t0;case 15:return h.d.finishCardShare(a()({},s,{cardId:b.id,isDefault:Object(f.a)(u,b.board)})),t.abrupt("return",b);case 17:case"end":return t.stop()}},t,this,[[6,12]])}));return function(){return t.apply(this,arguments)}}())},"3kfh":function(t,e,n){"use strict";var r,i=n("56Ik"),o=n("785c"),a=n("pVnL"),s=n.n(a),c=n("y144"),u=n("NFKc"),l=n("BCLc"),d=n("1WnH"),h=n("7/cf"),f=n("y1pN"),p=n("WLYw"),g=n("nt9X"),m=n("lPPs"),v=n("gLBg"),b=function(t,e){var n=e.card,r=e.boardId;if(r){var i=Object(f.a)(t,r),o=Object(p.a)(t,r),a=Object(g.a)(i),c=n.board&&n.board.id;return s()({},c?{id:c}:{},{title:Object(m.a)(t,r),url:a&&o?Object(v.d)(a,o):""})}},_=n("Wopx"),y=function(t,e){return t[t.CLOSE="pdb-close"]="CLOSE",t}({}),C=Object(u.a)("reduxBus",function(t,e,n){var r=n.getState,i=n.dispatch;if(e){var o=r(),a=Object(h.b)(o),u=0===Object.keys(e).length,f=!a||0===Object.keys(a).length,p=u&&!f,g=p?s()({},a):e.card;Object(_.a)(o).isNativeAppPage,g&&"current-card-temp"===g.id&&delete g.id,p&&(e=g.board&&g.board.id?{card:s()({},g,{board:b(o,{boardId:g.board.id,card:g})})}:{card:g}),t.close(s()({},e,{type:y.CLOSE}))}i(Object(d.a)(null)),i(Object(l.a)(null)),i(Object(c.a)({value:{},force:!0}))}),O=n("o0o1"),S=n.n(O),w=n("yXPU"),E=n.n(w),k=n("V8C4"),j=n("/bNA"),T=n("3lXt"),x=n("rANK"),R=Object(u.a)("request",function(){var t=E()(S.a.mark(function t(e,n,r){var i,o,a,c,u,l;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.boardId,n.counter,o=r.getState,a=o(),c=i?Object(T.a)(a,i):null,u=Object(h.b)(a),l=s()({},!c||c.is_default?{}:{board:c.id},u.doc_id?{doc_id:u.doc_id}:{},{description:u.description||"",content:u.content,source_meta:u.source_meta}),t.next=8,e.post("/collections/api/v1.0/cards/",l);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),I=n("qtAy"),D=n("xFYi"),P=n("VRo3"),L=n("c+Ap"),N=n("+mVu"),A=n("3Twp"),B=n("2/d/"),M=Object(u.a)("request",function(){var t=E()(S.a.mark(function t(e,n,r){var i,o,a,u,l,d,f,p,g,m,v,y,O,w,E,M,F,U,z;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.getState,o=r.dispatch,a=n.boardId,u=n.counter,l=n.close,d=void 0===l||l,f=n.isNewBoard,p=i(),g=Object(h.b)(p),m=g?Object(N.a)(p,g.id):{},v=Object(T.a)(p,a),y=Object(x.a)(v),O=Object(D.a)(v),w=Object(P.a)(v),E=Object(_.a)(p).isNativeAppPage,f||k.d.clickBoard(s()({},u,{boardId:a,isDefault:y})),F=R,U=B.a.ADD,(m.id&&"current-card-temp"!==m.id||m.task_id)&&(F=I.a,U=B.a.MOVE),(m.extras&&m.extras.saveAction)===B.a.SHARE&&(F=A.a,U=B.a.SHARE),t.prev=16,t.next=19,o(F(s()({},n,{counter:s()({},u,{type:"imagesFav"})})));case 19:M=t.sent,t.next=29;break;case 22:if(t.prev=22,t.t0=t.catch(16),t.t0.status!==L.G.DUPLICATE){t.next=27;break}throw o(Object(c.a)({force:!0,value:s()({},m,t.t0.responseJSON)})),t.t0;case 27:throw j.a.showXHRMessage(t.t0),t.t0;case 29:U===B.a.ADD&&k.d.finishCardCreate(s()({},u,{isDefault:y,cardId:M.id,seriesCount:M.content?M.content.length:0})),k.d.finishPopupAdd(s()({},u,{action:U,boardId:a,isDefault:y,isPrivate:O,isWishList:w})),z={card:s()({},E?{card_id:M.id}:{task_id:M.task_id},m,M&&M.id&&M.task_id?{id:M.id}:{})},a&&(z.card.board=b(p,{boardId:a,card:M})),d&&o(C(z));case 34:case"end":return t.stop()}},t,this,[[16,22]])}));return function(){return t.apply(this,arguments)}}()),F=n("WMgd"),U=n("4RqY"),z=n("iurk"),V=n("5k1W"),H=Object(U.a)(function(){var t=E()(S.a.mark(function t(e,n){var r,i,o,a,u,l,d,f,p;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.boardData,i=e.counter,o=n.getState,a=n.dispatch,u=o(),l=Object(h.b)(u),d=l.board,k.d.clickBoardCreate(s()({},i,{type:"imagesFav"})),p=Object(V.a)(r,d,["title","description","is_private","is_wishlist"]),!(d&&d.id&&Object(z.a)(d))||p){t.next=11;break}f=Object(T.a)(u,d.id),t.next=15;break;case 11:return t.next=13,a(Object(F.a)({boardData:r,counter:i}));case 13:f=t.sent,a(Object(c.a)({value:{board:f}}));case 15:return t.next=17,a(M({boardId:f.id,isNewBoard:!0,counter:i}));case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),W=n("izju"),q=n("ywnR"),K=n("JaHL"),G=((r={})[W.a.LINK]=q.a,r),Y=Object(U.a)(function(){var t=E()(S.a.mark(function t(e,n){var r,i,o,a,s,c;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.getState,i=n.dispatch,o=r(),a=Object(h.b)(o),s=Object(K.a)(a),!(c=s&&G[s])){t.next=8;break}return t.next=8,i(c());case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}());function X(t){return function(e){return function(n){var r=n.dispatch;return Promise.all(t.map(function(t){return r(t(e))}))}}}var J=Object(U.a)(function(t,e){return(0,e.dispatch)(Object(l.a)(null))}),Q=n("ZDp4"),Z=n.n(Q),$=n("om3R"),tt=n("P/1b"),et=n("LyO5"),nt=Object(u.a)({request:"request",bus:"reduxBus"},function(){var t=E()(S.a.mark(function t(e,n,r){var i,o,a,u,l,d,f,p,g,m,v,b,_,y,C;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.request,i=e.bus,o=n.counter,a=r.getState,u=r.dispatch,l=a(),d=Object(h.b)(l),f="current-card-temp"===d.id||!d.id,d.task_id||!f){t.next=29;break}return t.prev=8,t.next=11,u(R({}));case 11:p=t.sent,t.next=21;break;case 14:if(t.prev=14,t.t0=t.catch(8),!t.t0||t.t0.status!==L.G.DUPLICATE){t.next=20;break}p=t.t0.responseJSON,t.next=21;break;case 20:throw t.t0;case 21:k.d.finishCardCreate(s()({},o,{isDefault:!0,seriesCount:p.content?p.content.length:0,cardId:p.id})),g=Object(K.a)(l,d.id),m=s()({},d,p),g===W.a.VIDEO&&(v=Object($.a)(d),(b=Object(tt.a)(v))&&(m.content[0].source.preview=b)),g===W.a.ORGANIZATION&&(_=Object($.a)(d),(y=Object(et.a)(_))&&y.id&&(m.content[0].source.id=y.id)),u(Object(c.a)({value:m})),C={card:s()({task_id:p.task_id},d,{id:p.id,board:p.board})},i.cardSaved(C);case 29:return t.abrupt("return",Promise.resolve());case 30:case"end":return t.stop()}},t,this,[[8,14]])}));return function(){return t.apply(this,arguments)}}()),rt=n("txgp"),it=n("vmv2"),ot=n("jExO"),at=Object(U.a)(function(t,e){Z()(t);var n=e.getState,r=e.dispatch,i={getState:n,dispatch:r};it.a.add(function(){return r(nt({}))},ot.a,i),it.a.clean(ot.a,i),navigator.onLine&&r(Object(rt.a)({}))}),st=n("T6Rw"),ct=function(t){var e=Object(h.b)(t),n=e&&e.task_id?"move":"add",r=e&&e.extras&&e.extras.counters||{};return s()({},r,{action:n,loc:"addFlow",bus:!0})},ut=Object(st.a)(function(t){var e=ct(t);return k.d.showPopupCollectionNew(e),t}),lt=Object(st.a)(function(t){var e=ct(t);return k.d.showPopupAdd(e),t}),dt=n("VDDL"),ht=n("k9ys"),ft=n("aC9m");n.d(e,"a",function(){return gt}),n.d(e,"h",function(){return mt}),n.d(e,"i",function(){return vt}),n.d(e,"d",function(){return bt}),n.d(e,"f",function(){return _t}),n.d(e,"b",function(){return yt}),n.d(e,"c",function(){return Ct}),n.d(e,"e",function(){return Ot}),n.d(e,"g",function(){return xt});var pt=new i.a({uiKey:o.b}),gt=pt.action(),mt=pt.action(),vt=pt.action(),bt=pt.action(),_t=(pt.action(),pt.action()),yt=(pt.action(),pt.action(),pt.action()),Ct=pt.action(),Ot=pt.action(),St=pt.action(),wt=(i.a.point(o.c.AUTH_SHARE),i.a.point(o.c.EMPTY)),Et=i.a.point(o.c.BOARDS_LIST_SHARE,at),kt=i.a.point(o.c.BOARD_CREATE_SHARE);pt.setStartPoint(wt);var jt=X([lt,Y]),Tt=X([ut,Y]);pt.link(wt,Et,mt,jt),pt.link(wt,kt,vt,Tt),pt.link(Et,kt,Ct),pt.link(kt,Et,gt,J),pt.link(kt,wt,Ot,H),pt.link(Et,wt,yt,M),pt.link(Et,wt,St,Object(dt.a)([ht.a,ft.a,C]),{loading:!1}),pt.link(kt,wt,bt,C),pt.link(Et,wt,bt,C),pt.action();var xt=pt.action()},"3lXt":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("YFOV"),i=Object(r.a)("boards")},"3oL/":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.pushCallback=function(e,n){void 0===n&&(n={}),t.initAdv(n.src).then(function(){Ya&&Ya.Context&&Ya.Context.AdvManager?e():(Ya.Context._callbacks=Ya.Context._callbacks||[],Ya.Context._callbacks.push(e))}).catch(n.errorHandler)},t.initAdv=function(t){return void 0===t&&(t="//an.yandex.ru/system/context.js"),this.advManager||(this.advManager=new Promise(function(e,n){var r=document.getElementsByTagName("script")[0],i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.addEventListener("error",function(){n()}),i.addEventListener("load",function(){e()}),r.parentNode.insertBefore(i,r)})),this.advManager},t}()},"3q8J":function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"e",function(){return c});var r=n("9yiq");function i(t){var e=t&&Object(r.a)(t);return e?"?"+e:""}function o(t,e){return"/collections"+t+i(e)}function a(t){return o("/",t)}function s(t){return o("/user/",t)}function c(t,e){return o("/user/"+encodeURIComponent(t)+"/",e)}},"3tUY":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("8OQS"),i=n.n(r),o=n("NFKc"),a=Object(o.a)("router",function(t,e){var n=e.url,r=i()(e,["url"]);return t.navigate(n,r)})},"45c2":function(t,e,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;t.exports=r({boards:[function(t){return i(t.count)+" колекція"},function(t){return i(t.count)+" колекції"},function(t){return i(t.count)+" колекцій"}],boardsTab:[function(t){return i(t.count)+" колекція"},function(t){return i(t.count)+" колекції"},function(t){return i(t.count)+" колекцій"}],boardsWrap:[function(t){return i(t.count)+" колекція"},function(t){return i(t.count)+" колекції"},function(t){return i(t.count)+" колекцій"}],followers:[function(t){return i(t.count)+" підписувач"},function(t){return i(t.count)+" підписувачі"},function(t){return i(t.count)+" підписувачів"}],followersTab:[function(t){return i(t.count)+" підписувач"},function(t){return i(t.count)+" підписувачі"},function(t){return i(t.count)+" підписувачів"}],feedTab:"Стрічка",followersWrap:[function(t){return i(t.count)+" підписувач"},function(t){return i(t.count)+" підписувача"},function(t){return i(t.count)+" підписувачів"}],collections:[function(t){return i(t.count)+" колекція"},function(t){return i(t.count)+" колекції"},function(t){return i(t.count)+" колекцій"}],subscriptions:[function(t){return i(t.count)+" підписка"},function(t){return i(t.count)+" підписки"},function(t){return i(t.count)+" підписок"}],subscriptionsTab:[function(t){return i(t.count)+" підписка"},function(t){return i(t.count)+" підписки"},function(t){return i(t.count)+" підписок"}],subscriptionsWrap:[function(t){return i(t.count)+" підписка"},function(t){return i(t.count)+" підписки"},function(t){return i(t.count)+" підписок"}],wishes:[function(t){return i(t.count)+" бажання"},function(t){return i(t.count)+" бажання"},function(t){return i(t.count)+" бажань"}],wishesActive:[function(t){return i(t.count)+" бажання"},function(t){return i(t.count)+" бажання"},function(t){return i(t.count)+" бажань"}],wishesFulfilled:[function(t){return i(t.count)+" виконане"},function(t){return i(t.count)+" виконані"},function(t){return i(t.count)+" виконані"}],wishesWrap:[function(t){return i(t.count)+" бажання"},function(t){return i(t.count)+" бажання"},function(t){return i(t.count)+" бажань"}],cards:[function(t){return i(t.count)+" картка"},function(t){return i(t.count)+" картки"},function(t){return i(t.count)+" карток"}],series:[function(t){return"Серія з "+i(t.count)+" зображення"},function(t){return"Серія з "+i(t.count)+" зображень"},function(t){return"Серія з "+i(t.count)+" зображень"}],cardsTab:[function(t){return i(t.count)+" картка"},function(t){return i(t.count)+" картки"},function(t){return i(t.count)+" карток"}],cardsWrap:[function(t){return i(t.count)+" картка"},function(t){return i(t.count)+" картки"},function(t){return i(t.count)+" карток"}],channelsTab:[function(t){return i(t.count)+" тема"},function(t){return i(t.count)+" теми"},function(t){return i(t.count)+" тем"},"Теми"],usersTab:[function(t){return i(t.count)+" людей"},function(t){return i(t.count)+" людини"},function(t){return i(t.count)+" людей"}],sharedTitle:[function(t){return"Поділилася "+i(t.count)+" людина"},function(t){return"Поділилися "+i(t.count)+" людини"},function(t){return"Поділилися "+i(t.count)+" людей"}],likedTitle:[function(t){return"Сподобалося "+i(t.count)+" людині"},function(t){return"Сподобалося "+i(t.count)+" людям"},function(t){return"Сподобалося "+i(t.count)+" людям"}],sharedDiffDesc:[function(t){return"Ще "+i(t.count)+" людина зберегла картку в приховані колекції"},function(t){return"Ще "+i(t.count)+" людини зберегли картку в приховані колекції"},function(t){return"Ще "+i(t.count)+" людей зберегли картку в приховані колекції"}],emptySharedDiffDesc:[function(t){return i(t.count)+" людина зберегла картку в приховані колекції"},function(t){return i(t.count)+" людей зберегли картку в приховані колекції"},function(t){return i(t.count)+" людей зберегли картку в приховані колекції"}],commentsTitle:[function(t){return i(t.count)+" коментар"},function(t){return i(t.count)+" коментарі"},function(t){return i(t.count)+" коментарів"}]})},"4EGB":function(t,e,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),o=n("9TW5").e,a=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;t.exports=r({boardSubscribed:{v:'Ви підписалися на колекцію «<a href="__board_url__">__board_title__</a>»',r:function(t){return i.createElement(i.Fragment,null,"Ви підписалися на колекцію «",i.createElement("a",{href:t.board_url},t.board_title),"»")},h:function(t){return(this.isRestored?c:s)(["Ви підписалися на колекцію «",(this.isRestored?a:o)("a","",{href:t.board_url},[t.board_title],{view:this}),"»"])}},boardUnsubscribed:{v:'Ви відписалися від колекції «<a href="__board_url__">__board_title__</a>»',r:function(t){return i.createElement(i.Fragment,null,"Ви відписалися від колекції «",i.createElement("a",{href:t.board_url},t.board_title),"»")},h:function(t){return(this.isRestored?c:s)(["Ви відписалися від колекції «",(this.isRestored?a:o)("a","",{href:t.board_url},[t.board_title],{view:this}),"»"])}},channelSubscribed:{v:'Ви підписалися на тему «<a href="__channel_url__">__channel_title__</a>»',r:function(t){return i.createElement(i.Fragment,null,"Ви підписалися на тему «",i.createElement("a",{href:t.channel_url},t.channel_title),"»")},h:function(t){return(this.isRestored?c:s)(["Ви підписалися на тему «",(this.isRestored?a:o)("a","",{href:t.channel_url},[t.channel_title],{view:this}),"»"])}},channelUnsubscribed:{v:'Ви відписалися від теми «<a href="__channel_url__">__channel_title__</a>»',r:function(t){return i.createElement(i.Fragment,null,"Ви відписалися від теми «",i.createElement("a",{href:t.channel_url},t.channel_title),"»")},h:function(t){return(this.isRestored?c:s)(["Ви відписалися від теми «",(this.isRestored?a:o)("a","",{href:t.channel_url},[t.channel_title],{view:this}),"»"])}},userSubscribed:{v:'Ви підписалися на <a href="__user_url__">__user_display_name__</a>',r:function(t){return i.createElement(i.Fragment,null,"Ви підписалися на ",i.createElement("a",{href:t.user_url},t.user_display_name))},h:function(t){return(this.isRestored?c:s)(["Ви підписалися на ",(this.isRestored?a:o)("a","",{href:t.user_url},[t.user_display_name],{view:this})])}},userUnsubscribed:{v:'Ви відписалися від <a href="__user_url__">__user_display_name__</a>',r:function(t){return i.createElement(i.Fragment,null,"Ви відписалися від ",i.createElement("a",{href:t.user_url},t.user_display_name))},h:function(t){return(this.isRestored?c:s)(["Ви відписалися від ",(this.isRestored?a:o)("a","",{href:t.user_url},[t.user_display_name],{view:this})])}}})},"4Hw2":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("4RqY"),l=n("oXfe"),d=n("gLBg"),h=n("hV2r"),f=n("CHZ4"),p=n("ruzH"),g=n("gF9f"),m=Object(u.a)(function(){var t=c()(i.a.mark(function t(e,n){var r,o,s,c,u,m,v;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.value,o=e.silent,s=e.reset,c=void 0===s||s,u=n.getState,n.di,m=n.dispatch,v=u(),!Object(f.a)(v,d.a.MAIN)){t.next=8;break}return o||m(Object(l.a)({scrollToTop:!1,payload:a()({},Object(h.a)(v),{recent:r})})),c&&m(Object(g.a)({userBoards:{results:[],next:{},_loading:!0},userCards:{results:[],next:{},_loading:!0}})),t.next=8,m(Object(p.a)({filter:["user","recentTabs","userBoards","userCards"]}));case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},"4MLz":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=1e16;function i(){return Date.now()+"-"+Math.round(Math.random()*r)}},"4N1o":function(t,e,n){"use strict";var r=n("Ff+0"),i=n("b63G");function o(t){return Object(r.a)(function(t){return t?t.map(function(t){return i[t]?i[t]():t}):[]}(t).join(", "))}n.d(e,"a",function(){return o})},"4RqY":function(t,e,n){"use strict";function r(t){return function(e){var n=function(n){return Promise.resolve().then(function(){return t(e,n)})};return n.type=t.name,n.data=e,n}}n.d(e,"a",function(){return r})},"4SuP":function(t,e,n){"use strict";n("j4di"),n("uzv4"),n("kkX7"),n("1kqo"),n("LLjh"),n("zfyC"),n("GVJg"),n("EDes");var r=n("pCKa");e.a=r.a.applyDecls()},"4Xqd":function(t,e,n){window.fetch||(window.fetch=function(t,e){var n=void 0===e?{}:e,r=n.method,i=n.credentials,o=n.body,a=n.headers;return new Promise(function(e,n){var s=new XMLHttpRequest;"include"!==i&&"same-origin"!==i||(s.withCredentials=!0),s.onload=function(){e({status:s.status,headers:{get:function(t){return s.getResponseHeader(t)}},json:function(){return Promise.resolve().then(function(){return JSON.parse(s.responseText)})}})},s.onerror=function(){n(!1)},s.ontimeout=function(){n(!1)},s.open(r||"GET",t,!0),a&&Object.keys(a).forEach(function(t){a[t]&&s.setRequestHeader(t,String(a[t]))}),o?s.send(o):s.send()})})},"4e/Y":function(t,e,n){"use strict";var r=n("cDcd"),i=n("JxqJ"),o=n("6ga4"),a=n("om3R"),s=n("Jxqj"),c=n("i1uP"),u=n("lc+m"),l=n("y6Xm"),d=Object(c.a)(u.a,Object(l.a)("parent")),h=Object(c.a)(d,function(t){if(t&&t.owner)return t.owner.id}),f=n("nmYb"),p=n("2a6Q"),g=n("Q6yW"),m=n("rT8E"),v=n("x9gI"),b=n("XPFG");function _(t){return Boolean(t&&t.recipe)}var y=n("BXUJ"),C=n("ICaW"),O=n("zT9S"),S=n("izju"),w=n("YQQ1"),E=n("H0hN"),k=n("CUhL"),j=n("e9Bh"),T=Object(i.a)(function(t,e){return{reason:Object(f.a)(t,e.cardId)}})(function(t){var e=t.reason,n=t.className,i=void 0===n?"link":n,o=t.reasonLink,a=void 0===o?function(t,e){return r.createElement(r.Fragment,null,t," ",e)}:o,s=t.reasonText,c=void 0===s?function(t){return t}:s;if(!e)return null;if(e.reason===O.a.CHANNEL_SUBSCRIPTION){var u=e.channel,l=r.createElement(k.a,{loc:"reason"},r.createElement(E.a,{className:i,channel:u}));return a(j.fromChannel(),l)}if(e.reason===O.a.SIMILAR_TO_CARD&&e.card){var d=e.card.id,h=r.createElement(k.a,{loc:"reason"},r.createElement(w.a,{className:i,cardId:d},j.card()));return a(j.similarTo(),h)}return e.reason===O.a.RECOMMEND?c(j.recommended()):null}),x=n("m7Ew"),R=n("fFoT"),I=n("EuEB"),D=n("iABh");n.d(e,"a",function(){return P});var P=Object(i.a)(function(t,e){var n=e.cardId,r=Object(u.a)(t,n),i=Object(a.a)(r),o=Object(m.a)(i),c=Object(b.a)(Object(s.a)(t,n)),l=Object(v.a)(t,C.d.CARD_PARENT)?h(t,n):void 0,d=l?Object(y.a)(t,l):void 0;return{isLink:o===S.a.LINK,isRecipe:_(r),pageDomain:Object(p.a)(t,n),pageUrl:Object(g.a)(t,n),parentOwnerId:c!==l?l:void 0,isParentOwnerVerified:d,reason:Object(f.a)(t,n)}})(function(t){var e,n=t.mod,i=t.size,a=void 0===i?"S":i,s=t.cardId,c=t.showReason,u=t.showSource,l=void 0===u||u,d=t.isLink,h=t.isRecipe,f=t.pageDomain,p=t.pageUrl,g=t.parentOwnerId,m=t.isParentOwnerVerified,v=t.reason,b=c&&Boolean(v&&O.a[v.reason]),_=l&&p&&f&&!h&&!d;return b||g||_?r.createElement("div",{className:Object(o.a)("cl-teaser__source",(e={},e[n]=Boolean(n),e))},r.createElement("ul",{className:Object(o.a)("dot-list",{size:a,"teaser-source":!0})},g&&r.createElement(r.Fragment,null,r.createElement("li",{className:"dot-list__item"},r.createElement("span",{className:"dot-list__text"},D.savedFromParentSource(),r.createElement(R.a,{mod:"card-teaser-source",size:"S",verified:!1,userId:g}),r.createElement(I.a,{mod:"card-teaser-source",size:a,color:"black",userLetter:!1,verified:m,verifiedSize:"S",userId:g})))),b&&r.createElement(T,{className:Object(o.a)("link",{color:"black",weight:"medium"}),reasonLink:function(t,e){return r.createElement("li",{className:"dot-list__item"},r.createElement("span",{className:"dot-list__text"},t," ",e))},reasonText:function(t){return r.createElement("li",{className:"dot-list__item"},r.createElement("span",{className:"dot-list__text"},t))},cardId:s}),!g&&_&&r.createElement("li",{className:"dot-list__item"},r.createElement("span",{className:"dot-list__text"},D.savedFromSource(),r.createElement(x.a,{href:p,className:Object(o.a)("link",{color:"black",weight:"medium"})},f))))):null})},"4jvx":function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({android:"Android",ios:"iOS",windows:"Windows",macos:"macOS",linux:"Linux",xbox:"Xbox",playstation:"Playstation",nintendo:"Nintendo"})},"4lBT":function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("4RqY"),c=n("1WnH"),u=n("oBAa"),l=n("QodL"),d=n("rreP"),h=n("pjiQ"),f=n("BKHA"),p=Object(s.a)(function(){var t=a()(i.a.mark(function t(e,n){var r,o,a,s,p,g,m;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.cardId,o=e.isBulk,a=n.getState,s=n.dispatch,!r&&!o){t.next=10;break}if(p=a(),g=Object(f.a)(a()),r?m=Object(u.a)(p,r):g.cards&&(m=g.cards.some(function(t){return Boolean(Object(u.a)(p,t))})),!m){t.next=9;break}return s(Object(d.a)({message:h.removeCardReadonlyDisallowed()})),t.abrupt("return");case 9:s(Object(c.a)({type:l.a.ENTITY_REMOVE,id:"modal_remove",animationType:"modal",options:r?{id:r,storeKey:"cards"}:{bulkCount:g.cards.length}}));case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},"4lM7":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("VbXa"),i=n.n(r),o=n("v4Hp"),a=n("iROX"),s=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.url=function(){return"/collections/api/cards/channels/"+encodeURIComponent(this.fetchParams.channel)+"/"},n.updateDependencies=function(t,e){var n=this,r=t.request,i=t.channel,o=t.channelState,a=t.firstCard,s=t.env;this.setRequestAdapter(r);var c=function(t){var e=10;return s.isRobot&&(e=36),{pageSize:e,shouldPreflight:!1}}(),u=c.pageSize,l=c.shouldPreflight;this.counter={loc:"channel",channelSlug:i.getSlug()};var d={channel:i.getSlug(),feed:o.getSort(),page_size:u};return s.isRobot&&(d.shuffle=!1),e&&(d.is_geo=!0),this.fetchWithOptions(d).then(function(){if(l&&(n.preparePreflight(),n.preflightNext(n.getNext())),a&&a.getId()){var t=n.indexOf(a);0!==t&&(-1!==t&&n.models.splice(t,1),n.models.unshift(a))}})},n.updateDependenciesGeo=function(t){var e=this;return this.updateDependencies(t,!0).then(function(){if(e.getCount()<2)throw new a.f("This collection does not has geo view");return e})},e}(o.a)},"4tXT":function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({showOnMaps:"Показати на Картах",showOnMapsShort:"На Картах",genre:"Жанр",initDate:"Дата побудови"})},"4zLl":function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({multiplayer:"Гра для кількох користувачів",doubleplayer:"Гра для двох",singleplayer:"Гра для одного користувача",online:"Онлайн-гра"})},"5/dx":function(t,e,n){"use strict";var r=n("6mHx");n.d(e,"a",function(){return r.a})},"51KI":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("GhlN"),s=function(t){var e,n=t.children,r=t.mod,s=t.mods,c=t.size,u=void 0===c?"M":c,l=t.insertHref,d=void 0===l||l,h=t.color,f=t.verified,p=t.verifiedSize,g=t.verifiedTitle;return o.createElement("div",{className:Object(a.a)("ya-login",i()((e={},e[r]=Boolean(r),e.size=u,e.href=d,e.color=h,e.verified=f&&(!p||[!0,p]),e),s))},n,f&&o.createElement("i",{className:Object(a.a)("verified",{size:p}),title:g}))}},"54Zp":function(t,e,n){"use strict";var r=n("gdn7");e.a=r.a.applyDecls()},"56Ik":function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("ukm6"),l=n("w2Rf"),d=function(){function t(t){this.uiKey=t.uiKey,this.relations=new Map}var e=t.prototype;return e.link=function(t,e,n,r,i){void 0===i&&(i={});var o=this.relations.get(t);o||(o=new Map,this.relations.set(t,o)),o.set(n,{point:e,realAction:r,options:i})},e.action=function(){var t=this;return function e(n){var r=function(r){return t.doAction({action:e,options:r},n)};return r.data=n,r}},e.setStartPoint=function(t){this._startPoint=t},e.doAction=function(){var t=c()(i.a.mark(function t(e,n){var r,o,s,c,d,h,f,p,g,m,v,b,_,y,C;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.action,o=e.options,s=o.dispatch,c=o.getState,d=o.di,h=c(),f=Object(u.a)(h)[this.uiKey],p=f&&f.point||this._startPoint,!(g=this.relations.get(p))){t.next=27;break}if(m=g.get(r)){t.next=10;break}return t.abrupt("return");case 10:if(v=m.point,b=m.realAction,_=m.options,y=v.precondition,C=v.options,!1!==_.loading&&this.setLoading(s,!0),!b){t.next=23;break}return t.prev=14,t.next=17,s(b(n));case 17:t.next=23;break;case 19:return t.prev=19,t.t0=t.catch(14),this.setLoading(s,!1),t.abrupt("return");case 23:if(!y){t.next=26;break}return t.next=26,s(y({dispatch:s,getState:c,di:d}));case 26:s(Object(l.a)({uiKey:this.uiKey,value:{point:v,options:a()({},C,n),loading:!1}}));case 27:case"end":return t.stop()}},t,this,[[14,19]])}));return function(){return t.apply(this,arguments)}}(),e.setLoading=function(t,e){t(Object(l.a)({uiKey:this.uiKey,value:{loading:e}}))},t.point=function(t,e,n){return void 0===n&&(n={}),{view:t,precondition:e,options:n}},t.factory=function(t){return new this(t)},t}()},"5CNk":function(t,e,n){t.exports=n.p+"f/e027.jpg"},"5GKB":function(t,e,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;t.exports=r({cardRemoveTitle:"Ви справді хочете видалити картку?",cardsRemoveTitle:"Вы действительно хотите удалить карточки?",boardRemoveTitle:function(t){return"Ви справді хочете видалити колекцію «"+i(t.title)+"»?"},boardRemoveSubtitle:"Усі картки з неї зникнуть",cardRemoveSeriesTitle:"Видалити зображення з серії?",commentRemoveTitle:"Видалити коментар?"})},"5K/n":function(t,e,n){"use strict";n.d(e,"a",function(){return w});var r,i,o,a,s,c=n("pVnL"),u=n.n(c),l=n("VbXa"),d=n.n(l),h=n("U+yc"),f=n.n(h),p=n("cDcd"),g=n("JxqJ"),m=n("LH8O"),v=n("6ga4"),b=n("7r1C"),_=n("1ZVK"),y=n("Fe8d"),C=n("pllQ"),O=n("c+Ap"),S=(r=Object(m.a)(),i=Object(m.a)(),o=Object(m.a)(),a=Object(m.a)(),s=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={scrollTo:void 0,leftDisabled:!0,rightDisabled:!0,disableScroll:!0},e.fetchInProgress=!1,e.failureFetchRequest=!1,e}d()(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;(this.props.arrows||this.props.storeKey)&&(window.addEventListener("resize",this.onRefresh,{passive:!0}),setTimeout(function(){return t.refreshScrollButtons()},100)),setTimeout(function(){return t.refreshScrollPos(t.props)})},n.componentWillUnmount=function(){(this.props.arrows||this.props.storeKey||this.props.fetchMore)&&window.removeEventListener("resize",this.onRefresh,{passive:!0})},n.componentDidUpdate=function(){var t=this;setTimeout(function(){"number"==typeof t.state.scrollTo&&(t.scrollContainerTo(t.state.scrollTo),t.setState({scrollTo:void 0})),t.onRefresh()})},n.componentWillReceiveProps=function(t){t.scrollTo===this.props.scrollTo&&t.deltaScrollTo===this.props.deltaScrollTo||this.refreshScrollPos(t)},n.onScroll=function(){this.onRefresh();var t=this.props.onScroll;t&&t()},n.onRefresh=function(){this.refreshScrollButtons(),this.checkFetchNext()},n.onLeftClick=function(){this.scrollContainer(-this.getScrollDelta())},n.onRightClick=function(){this.scrollContainer(this.getScrollDelta())},n.getScrollDelta=function(){return this.container?this.container.clientWidth/2:0},n.getScrollLeft=function(){return this.container?Math.ceil(this.container.scrollLeft):0},n.getScrollWidth=function(){return this.props.holder?this.inner.clientWidth:this.container.scrollWidth},n.scrollContainer=function(t){var e=this;if(!this.container)return Promise.resolve();var n=this.getScrollLeft(),r=this.container.clientWidth,i=this.getScrollWidth(),o=Math.max(0,Math.min(n+t,i-r));return t<0&&o<10&&(t=-n),t>0&&i-r-o<10&&(t=i-r-n),Object(y.a)({duration:250,step:function(r){e.container&&(e.container.scrollLeft=Math.round(n+r*t))}})},n.scrollContainerTo=function(t){return this.scrollContainer(t-this.getScrollLeft())},n.refreshScrollButtons=function(){if(this.container&&0!==this.container.clientWidth){var t=this.getScrollLeft(),e=this.container.clientWidth,n=this.getScrollWidth(),r=Boolean(0===t),i=Boolean(n<=Math.round(e+t)),o=Boolean(this.props.holder&&e>=n);this.state.disableScroll!==o&&this.setState({disableScroll:o}),(this.props.arrows&&this.state.leftDisabled!==r||this.state.rightDisabled!==i)&&this.setState({leftDisabled:r,rightDisabled:i})}},n.refreshScrollPos=function(t){"number"==typeof t.scrollTo?this.setState({scrollTo:t.scrollTo}):"number"==typeof t.deltaScrollTo&&this.container&&this.setState({scrollTo:t.deltaScrollTo+this.getScrollLeft()})},n.checkFetchNext=function(){var t=this.props,e=t.storeKey,n=t.fullyLoaded,r=t.fetchMore,i=t.disableFetch,o=t.fetchNextThreshold,a=void 0===o?200:o;if(!i&&(e&&!n&&!this.fetchInProgress||r)&&this.container){var s=this.container,c=s.scrollLeft,u=s.clientWidth,l=this.getScrollWidth();l&&l-(c+u)<a&&this.fetchNext()}},n.fetchNext=function(){var t=this,e=this.props,n=e.dispatch,r=e.storeKey,i=e.fetchMore,o=e.isOnline;if(r){if(this.fetchInProgress||this.failureFetchRequest&&!o)return;return this.fetchInProgress=!0,Object(C.retryPromise)(function(){return n(Object(_.a)({storeKey:r}))},O.x,1e3).then(function(){t.failureFetchRequest=!1},function(e){console.error(e),t.failureFetchRequest=!0}).then(function(){t.fetchInProgress=!1})}if(i)return i()},n.render=function(){var t,e,n=this,r=this.props,i=r.mod,o=r.mods,a=r.holder,s=r.arrows,c=r.storeKey,l=r.fetchMore,d=r.showLoading,h=r.loader,f=r.arrowMod,g=void 0===f?"round":f,m=r.children,b=this.state,_=b.leftDisabled,y=b.rightDisabled,C=b.disableScroll,O={};(s||c||l)&&(O={onScroll:this.onScroll});var S=h||p.createElement("div",{className:Object(v.a)("x-scroll__virtual",(t={},t[i]=Boolean(i),t))}),w=p.createElement(p.Fragment,null,m,d&&S);return p.createElement("div",{className:Object(v.a)("x-scroll",u()((e={},e[i]=Boolean(i),e["disable-scroll"]=Boolean(a&&C),e),o))},p.createElement("div",u()({className:"x-scroll__i",ref:function(t){return n.container=t}},O),a?p.createElement(p.Fragment,null,p.createElement("div",{className:"x-scroll__content",ref:function(t){return n.inner=t}},w),C&&p.createElement("div",{className:"x-scroll__holder"},a)):w),s&&p.createElement("ul",{className:"x-scroll__arrow x-scroll__arrow_"+g},p.createElement("li",{className:"x-scroll__arrow-left"+(_?" disabled":""),onClick:this.onLeftClick},p.createElement("span",{className:"x-scroll__arrow-link"})),p.createElement("li",{className:"x-scroll__arrow-right"+(y?" disabled":""),onClick:this.onRightClick},p.createElement("span",{className:"x-scroll__arrow-link"}))))},e}(p.PureComponent),f()(s.prototype,"onScroll",[r],Object.getOwnPropertyDescriptor(s.prototype,"onScroll"),s.prototype),f()(s.prototype,"onRefresh",[i],Object.getOwnPropertyDescriptor(s.prototype,"onRefresh"),s.prototype),f()(s.prototype,"onLeftClick",[o],Object.getOwnPropertyDescriptor(s.prototype,"onLeftClick"),s.prototype),f()(s.prototype,"onRightClick",[a],Object.getOwnPropertyDescriptor(s.prototype,"onRightClick"),s.prototype),s),w=Object(g.a)(function(t,e){var n=e.storeKey,r=n?t[n]:void 0,i=Boolean(r&&(r._loading||r._errorLoading)),o=Boolean(r&&!r._loading&&!r.next);return{fullyLoaded:o,showLoading:e.showLoading||Boolean(i&&!o&&n),isOnline:Object(b.a)(t)}})(S)},"5Skr":function(t,e,n){"use strict";n.r(e);var r=n("pVnL"),i=n.n(r),o=n("KXxY"),a=n("SiKM"),s=n("rdt4"),c=n("fJ38"),u=n("Y6Ru"),l=n("4zLl"),d=n("4N1o"),h="yearSuffixed";function f(t){if(t.links&&t.links.steam)return{label:o.buyOnSteam(),labelShort:o.buyOnSteamShort(),href:t.links.steam}}function p(t){var e=Object(a.pick)(t.ratings,["steam","metacritic","gplay"]),n={};if(!Object(a.isEmpty)(e)){if(e.gplay&&!("orig_value"in e.gplay)){var r=e.gplay.value;e.gplay={value:r/5,orig_value:r,max_value:5}}n.ratings=Object(a.map)(e,function(t,e){var n=t.value,r=t.max_value,i=t.orig_value,o=100*n;return r=r||100,i=Math.round(100*(i||o))/100,{name:e=c[e]?c[e]():e,orig:i,max:r,percentage:o}});var i=Number(10*Object(a.sum)(Object(a.map)(e,function(t){return t.value}))/Object(a.size)(e));n.rating=i.toFixed(10===i?0:1)}return n}function g(t,e,n){var r,c=n.isHidden,g=t.getName(),m=t.getData(),v=t.getStores(),b=[],_=i()({title:g},p(m));if(v.length&&(_.stores=v),t.isButtonShown()?(_.button=f(m),Object(a.isEmpty)(m.genres)||(_.genres=Object(d.a)(m.genres))):Object(a.isEmpty)(m.genres)?c&&(_.summary=o.defaultGameGenre()):_.summary=Object(d.a)(m.genres),Object(a.isEmpty)(m.platforms)||b.push({label:o.gamePlatforms(),values:Object(u.a)(m.platforms).map(function(t){return{value:t}})}),Object(a.isEmpty)(m.modes)||b.push({label:o.gameMode(),values:(r=m.modes,r?r.map(function(t){return l[t]?l[t]():t}):[]).map(function(t){return{value:t}})}),m.release&&m.release.year){var y=(new s.a).setYear(m.release.year).format(s.a.getLocaleFormat(e.language,h)||"YYYY");b.push({label:o.gameReleaseYear(),values:[{value:y}]})}return b.length&&(_.details=b),_.showMoreButton=_.genres||_.rating||_.details,_}var m=n("NFi3"),v=n("4tXT");function b(t,e,n){var r=n.isHidden,i=t.getData(),o=t.getName(),a=t.getCoords(),s={title:o,summary:t.getSummaryText(),description:t.getDescription()};if(i.description_source&&(s.descriptionSource=i.description_source),a){var c=a.longitude,u=a.latitude;s.button={label:e.translate(v.showOnMaps),labelShort:e.translate(v.showOnMapsShort),href:Object(m.a)(c,u,o,i.geo_info&&i.geo_info.zoom),icon:"maps"}}var l=[];return i.genres&&i.genres.length&&l.push({label:e.translate(v.genre),values:i.genres.map(function(t){return{value:t}})}),i.initdate&&i.initdate.length&&l.push({label:e.translate(v.initDate),values:i.initdate.map(function(t){return{value:t}})}),l.length&&(s.details=l),s.showMoreButton=s.summary||s.description||s.button||s.details,!s.description&&s.showMoreButton&&r&&(s.description="&zwnj;"),s}n.d(e,"getGameButton",function(){return f}),n.d(e,"getGameRatings",function(){return p}),n.d(e,"game",function(){return g}),n.d(e,"geo",function(){return b})},"5W3L":function(t,e,n){t.exports=n.p+"f/0895.jpg"},"5Yhn":function(t,e,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("VbXa"),c=n.n(s),u=n("Y+Td"),l=n("mdRN"),d=n("U60d"),h=n("NDfO"),f=n("UO52"),p=n("9TW5"),g=n("Ahwa"),m=n("ORuK");n.d(e,"a",function(){return v});var v=function(t){function e(){return t.apply(this,arguments)||this}c()(e,t);var n=e.prototype;return n._constructor=function(e){var n=this;e=this.initOptions(e),this.initDefaultModel(),Object(u.isUndefined)(e.value||e.text)||this.model.set(this.name,e.value||e.text),this.on("input",this.onRefresh),this.on("render",this.copyModelToView),this.on("render",this.onRefresh),this.listenTo(this.model,"change:"+this.name,this.onModelChange),this.listenTo(this.model,"change:"+this.name,this.onRefresh),this.listenTo(this.model,"copy:view:value",this.copyViewToModel),e.focus&&this.deferToAttach(function(){return n.focusInput()}),e.debounce&&(this.onInput=Object(u.debounce)(this.onInput,e.debounce)),t.prototype._constructor.call(this,e)},n.className=function(){return Object(h.a)("input",["size","pin","type","disabled","readonly","overflow","mode"],this.options)},n.attributes=function(){var t=this.options,e=Object.assign({},t.attrs),n={};return f.a.width(t,n),f.a.style(n,e),e},n.onBeforeDestroy=function(){this.focused&&this.ui.input.blur&&this.ui.input.blur()},n.onRefresh=function(){var t=this.empty;this.$el.toggleClass(this.options.emptyClass,t),this.$el.toggleClass(this.options.filledClass,!t)},n.onFocus=function(){this.focused=!0,this.$el.addClass(this.options.focusClass),this.trigger("focus")},n.onBlur=function(){this.focused=!1,this.$el.removeClass(this.options.focusClass),this.trigger("blur")},n.onInput=function(){this.copyViewToModel()},n.onKeyUp=function(t){this.options.blurOnEnter&&this.isIntact()&&Object(m.a)(t)&&this.ui.input.blur()},n.onClear=function(){this.model.set(this.name,""),this.isIntact()&&this.ui.input.focus()},n.onModelChange=function(){!this.options.updateImmediate&&this.focused?this.plannedUpdate||(this.plannedUpdate=!0,this.once("blur",function(){this.plannedUpdate=!1,this.copyModelToView()})):this.copyModelToView()},n.copyModelToView=function(){if(this.isIntact()&&this.ui.input.val){var t=this.model.get(this.name);this.ui.input.val(t)}},n.copyViewToModel=function(){if(this.isIntact()){var t=this.ui.input.val();this.model.set(this.name,t)}},n.focusInput=function(){if(this.isIntact()){var t=this.ui.input;t.focus(),t[0].selectionStart=t.val().length}},n.serializeData=function(){return i()({},this.options)},a()(e,[{key:"empty",get:function(){var t=this.model.get(this.name);return""==t||Object(u.isUndefined)(t)}}]),e}(d.a);Object(l.a)({template:function(t){var e=this&&this.isRestored,n=e?p.er:p.e,r=e?p.sr:p.s;return(e?p.fr:p.f)([n("input","",Object(p.assign)(t.id?{id:t.id}:{},{value:t.value,placeholder:t.placeholder,autocomplete:"off",class:"input__input",name:t.name},t.disabled?{disabled:""}:{},t.readonly?{readonly:""}:{},t.autocapitalize?{autocapitalize:t.autocapitalize}:{},t.autofocus?{autofocus:""}:{},t.tabindex?{tabindex:t.tabindex}:{},t.password?{type:"password"}:{},t.email?{type:"email"}:{},t.autocorrect?{autocorrect:t.autocorrect}:{},t.spellcheck?{spellcheck:t.spellcheck}:{}),[])," ",t.postfix?[n("span","input__placeholder",{},[t.postfix])]:[]," ",t.readonly?[]:[n("span","input__clear",{title:t.clearTitle},[])]," ",t.date?[n("span","input__date",{},[])]:[]," ",r(g.a.call(t,{data:{view:this}}))])},tagName:"span",ui:{input:".input__input",clear:".input__clear"},events:{"focus  @ui.input":"onFocus","blur   @ui.input":"onBlur","input  @ui.input":"onInput","keyup  @ui.input":"onKeyUp","click  @ui.clear":"onClear"},options:{size:"M",type:"normal",focusClass:"input_focus_yes",emptyClass:"input_state_empty",filledClass:"input_state_filled"}})(v)},"5a4k":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("OZAH"),i=n("M740"),o=n("y6Xm"),a=Object(r.a)(i.a,Object(o.a)("seed"))},"5gmI":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return d});var r,i=n("6ga4"),o=n("iABh"),a=n("jm6t"),s=n("gh0E");!function(t){t[t.CONTEST=0]="CONTEST"}(r||(r={}));var c="place",u=["gold","silver","bronze"],l=10;function d(t,e){if(t&&t.date&&e&&Object(a.a)(e))return{label:Object(s.a)(t.date),className:c};var n=t&&t.competitions,r=e&&e.slug,d=0;if(n&&r){var h=n.find(function(t){return t.slug===r});h&&h.place&&(d=h.place)}if(d>0&&d<=l){var f,p=u[d-1],g=Object(i.a)(c,((f={})[p]=Boolean(p),f));return{label:o.contestPlace({count:d}),className:g}}}},"5k1W":function(t,e,n){"use strict";function r(t,e,n){var i;if(null!=t&&null!=e)return n.forEach(function(n){if(Array.isArray(n)){var o=n[0],a=n[1];r(t[o],e[o],a)&&((i=i||{})[o]=e[o])}else t[n]!==e[n]&&((i=i||{})[n]=e[n])}),i}n.d(e,"a",function(){return r})},"5p+6":function(t,e,n){t.exports=n.p+"f/8873.gif"},"6/ZC":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("izju"),i=[r.a.GEO,r.a.ORGANIZATION];function o(t){return!!t&&-1!==i.indexOf(t)}},"67sj":function(t,e,n){"use strict";var r=n("VbXa"),i=n.n(r),o=n("Y+Td"),a=n("mdRN"),s=n("Zlwl");function c(t,e,n){if(!t||null==e)throw console.error("Model: ",t,"FieldName:",e),new TypeError("Cannot inject value");return Object(o.isFunction)(t[e])?t[e](n):Object(o.isFunction)(t.set)?t.set(e,n):void(t[e]=n)}var u=n("NsX6");n.d(e,"a",function(){return d});var l=[void 0,null,NaN],d=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.initialize=function(){var t=this.view.options;this.name=this.view.name,this.model=this.view.model,Object(o.isUndefined)(t.checked)||c(this.model,this.name,this.getValueFor(t.checked)),!this.options.disableIndeterminate&&t.indeterminate&&c(this.model,this.name,this.detectIndeterminate()),this.on("input",this.onRefresh),this.listenTo(this.model,"change:"+this.name,this.onRefresh)},n.onRender=function(){this.onRefresh(),this.copyModelToView()},n.onRefresh=function(){if(!0!==this.view.isDestroyed){var t=this.isChecked(),e=this.view.options.disabled,n=this.options.name;Object(o.isUndefined)(e)&&(e=!1),this.options.disableIndeterminate||this.$el.toggleClass(n+"_indeterminate",this.isIndeterminate()),this.$el.toggleClass(n+"_checked",t),this.$el.toggleClass(n+"_unchecked",!t),this.$el.toggleClass(n+"_disabled",e);var r=this.view.ui.input;r.prop("checked",t),r.prop("disabled",e),this.view.triggerMethod("checkRefresh",this)}},n.onInput=function(){this.copyViewToModel()},n.onToggle=function(){var t=c(this.model,this.name,this.getValueFor(!this.isChecked()));this.view.triggerMethod("injectValue",t)},n.copyModelToView=function(){if(!0!==this.view.isDestroyed){var t=this.view.ui.input;t.prop("checked",this.isChecked()),t.attr("checked",this.isChecked()?"checked":null)}},n.copyViewToModel=function(){var t=this.isInputChecked(),e=this.getValueFor(t);c(this.model,this.name,e)},n.isChecked=function(){return Object(u.a)(this.model,this.name)==this.view.options.value},n.isIndeterminate=function(){return this._isIndeterminate(Object(u.a)(this.model,this.name))},n._isIndeterminate=function(t){var e=this.view.options;return t!==e.value&&t!==e.inverse},n.detectIndeterminate=function(){return Object(o.find)(l,this._isIndeterminate.bind(this))},n.isInputChecked=function(){return this.view.ui.input.prop("checked")},n.getValueFor=function(t){return t?this.view.options.value:this.view.options.inverse},e}(s.a);Object(a.a)({events:{"change  @ui.input":"onInput"},defaults:{name:"check"}})(d)},"6B4A":function(t,e,n){t.exports=n.p+"f/38d9.jpg"},"6EC7":function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return l});var r=n("c+Ap"),i=n("6f8s"),o=n("7BjU"),a="preview846",s=846,c=1692,u={width:r.v.WIDTH,height:r.v.HEIGHT};function l(t,e,n){var r=e.width,l=e.height;return void 0===n&&(n=1),t===a?Object(i.a)(s*n,c*n,r,l):t in o.a?Object(i.a)(o.a[t]*n,1/0,r,l):u}},"6KiY":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("VbXa"),i=n.n(r),o=n("mdRN"),a=n("j3NW"),s=n("zBb6"),c=function(t){function e(){return t.apply(this,arguments)||this}return i()(e,t),e.prototype.scale=function(t){var e=t.maxWidth,n=t.imageMargin,r=t.viewportHeight,i=t.minWidth,o=e,a=[],s={minWidth:void 0===i?220:i,maxWidth:e,height:r};this.forEach(function(t){var r,i,c=t.getSmartScaleAttributes(s),u=c.width;a.length&&(u+=n),o<u?(r=n*(a.length-1),i=(e-r)/(e-o-r),a.forEach(function(t){var e=t.image,n=t.scaleParams;return e.smartScale(n,i)}),a=[],o=e,o-=c.width):o-=u,a.push({image:t,scaleParams:c})}),a.forEach(function(t){var e=t.image,n=t.scaleParams;return e.smartScale(n,1)}),this.trigger("data:ready")},e.restore=function(){return e.factory()},e.factory=function(t,e){return new this(t,e)},e}(a.a);Object(o.a)({model:s.a})(c)},"6Rso":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("pVnL"),i=n.n(r),o=n("+lu/");function a(t,e,n){var r,a=t[e];if(!a||!a.results)return t;var s=Object(o.a)(n),c=n.concat(a.results.filter(function(t){return!s[t.id]}));return i()({},t,((r={})[e]=i()({},a,{results:c}),r))}},"6Uia":function(t,e,n){"use strict";n("DlUR");var r=n("WXFC");e.a=r.a.applyDecls()},"6Xmf":function(t,e,n){"use strict";var r=n("V8C4");n.d(e,"a",function(){return r.g})},"6ZD3":function(t,e,n){"use strict";var r=n("5A8i");e.a=r.a.applyDecls()},"6f8s":function(t,e,n){"use strict";function r(t,e,n,r,i){var o=n/r;return n<=t&&r<=e?i&&n>t-t*i?{width:t,height:t/n*r}:{width:n,height:r}:t/o<=e?{width:t,height:Math.round(t/o)}:{width:Math.round(e*o),height:e}}n.d(e,"a",function(){return r})},"6ga4":function(t,e,n){"use strict";var r=n("GhlN");n.d(e,"b",function(){return r.b}),n.d(e,"a",function(){return r.a})},"6huc":function(t,e,n){"use strict";function r(t){return t?t.content&&t.content.derived_from:void 0}n.d(e,"a",function(){return r})},"6jw5":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("gyQa");function i(t){var e=Object(r.a)(t);if(e)return e.duration}},"6mHx":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("GhlN"),s=function(t){var e,n=t.mod,r=t.mods,s=t.mix,c=t.imageholder,u=t.picture,l=t.footer,d=t.footerGradient,h=t.ctrl,f=t.children,p=t.itemRef,g=t.onMouseOver,m=t.linkFactory,v=Object(a.a)("cl-teaser",i()(((e={})[n]=Boolean(n),e),r),s);return o.createElement("div",{className:v,ref:p,onMouseOver:g},o.createElement("div",{className:"cl-teaser__wrap"},m&&m({className:"cl-teaser__link",withoutTitle:!0}),f,c,u&&o.createElement("div",{className:"cl-teaser__picture"},u),l&&o.createElement("div",{className:"cl-teaser__footer",style:{backgroundImage:d}},l),h&&o.createElement("div",{className:"cl-teaser__ctrl"},h)))}},"6muZ":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("GhlN"),s=n("OyHf"),c=function(t){var e,n=t.mod,r=t.mods,c=t.size,u=void 0===c?"M":c,l=t.insertHref,d=void 0===l||l,h=t.user,f=t.displayName,p=t.avatarUrl,g=t.isVerified,m=void 0!==g&&g,v=t.verifiedSize,b=t.verifiedTitle,_=t.wrapper,y=o.createElement("span",{className:"avatar__avatar",style:{backgroundImage:'url("'+(p||Object(s.f)(h))+'")'},title:f});return _&&(y=o.createElement(_,{children:y})),o.createElement("div",{className:Object(a.a)("avatar",i()((e={},e[n]=Boolean(n),e.size=u,e.href=d,e.verified=m,e),r))},y,m&&o.createElement("span",{className:Object(a.a)("verified",{size:v||u}),title:b}))}},"6rYT":function(t,e,n){"use strict";var r=n("k4Lr");e.a=r.a.applyDecls()},"6yN2":function(t,e,n){t.exports=n.p+"f/33fb.svg"},"7/cf":function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("lc+m"),i="current-card-temp",o=function(t){if(t){var e=t.currentCard;if(e&&e.id){var n=Object(r.a)(t,e.id),o=Object.keys(n).length,a=n.id===i,s=n.labels&&0===n.labels.length;return 2===o&&a&&s?{}:n}}}},"73/6":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("K5nR"),i=n("dNc+"),o=n("EgTM"),a=Object(r.a)({normalizer:i.c,getEntity:o.a})},"785c":function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=function(t,e){return t[t[e="EMPTY"]="EMPTY"]=e,t[t[e="BOARDS_LIST_SHARE"]="BOARDS_LIST_SHARE"]=e,t[t[e="BOARD_CREATE_SHARE"]="BOARD_CREATE_SHARE"]=e,t[t[e="AUTH_SHARE"]="AUTH_SHARE"]=e,t[t[e="SHORT_BOARDS_LIST"]="SHORT_BOARDS_LIST"]=e,t[t[e="BOARDS_LIST_INTERNAL"]="BOARDS_LIST_INTERNAL"]=e,t[t[e="BOARD_CREATE_INTERNAL"]="BOARD_CREATE_INTERNAL"]=e,t[t[e="BOARD_CREATE"]="BOARD_CREATE"]=e,t[t[e="BOARDS_LIST"]="BOARDS_LIST"]=e,t[t[e="CARD_TYPES"]="CARD_TYPES"]=e,t[t[e="CARD_IMAGE_FILE"]="CARD_IMAGE_FILE"]=e,t[t[e="CARD_IMAGE_URL"]="CARD_IMAGE_URL"]=e,t[t[e="CARD_LINK"]="CARD_LINK"]=e,t[t[e="CARD_SERIES_ADD"]="CARD_SERIES_ADD"]=e,t}({}),i="addFlowInternal",o="addFlow"},"7BjU":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o});var r={s1200:1200,s800:800,s600:600,s375:375,s360:360,s320:320,s280:280},i={s600:38,s375:37,smart56:5},o={s600:"640x360",s375:"320x180",vthumb480x270:"480x270",vh400x225:"400x225"}},"7Hn5":function(t,e,n){"use strict";n.d(e,"a",function(){return O});var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("NFKc"),l=n("7/cf"),d=n("V8C4"),h=n("5k1W"),f=n("lc+m"),p=n("aKBe"),g=n("y144"),m=n("U0LE"),v=n("PN4Q"),b=n("+mVu"),_=n("cX81"),y=n("U9Ap");function C(t,e){return t.length===e.length&&t.every(function(t,n){return t===e[n].id})}var O=Object(u.a)("request",function(){var t=c()(i.a.mark(function t(e,n,r){var o,s,c,u,O,S,w,E,k,j,T,x,R,I,D,P,L;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.getState,s=r.di,c=r.dispatch,u=o(),O=Object(l.b)(u),!(S=O&&O.original_id)&&O&&Object(y.a)(u,O.id)&&(S=O.id,w=!0),E=S&&Object(f.a)(u,S),!O||!E){t.next=38;break}if(k=E.content,j=O.selected_contents,T=j&&k&&C(j,k),x={},w?x.description=O.description:x=Object(h.a)(E,O,["description"])||{},j&&!T&&O.content&&(x.content=Object(v.a)(O.content,j)),!Object.keys(x).length){t.next=38;break}if(!x.content){t.next=18;break}if(!x.content.some(function(t){return t._loading})){t.next=18;break}return c(Object(m.b)({type:m.a.UPLOAD_WAIT})),t.abrupt("return",Promise.reject());case 18:return t.prev=18,t.next=21,e.patch("/collections/api/v1.0/cards/"+S+"/",x);case 21:return R=t.sent,c(Object(p.a)({id:R.id,value:R})),I=R.content.map(function(t){return t.id}),c(Object(g.a)({force:!0,value:a()({},R,{id:void 0,original_id:R.id,selected_contents:I,preview_content:I[0]})})),t.next=27,s("CardPopupState");case 27:D=t.sent,(P=D.getCard())&&P.id===R.id&&(L=Object(b.a)(o(),R.id),D.setCard(_.a.dataFactory(L,{request:e,parse:!0}))),c(Object(m.b)({type:m.a.UPDATED})),d.d.finishCardUpdate({cardId:R.id,descriptionChanged:void 0!==x.description,contentChanged:Boolean(x.content)}),t.next=37;break;case 34:throw t.prev=34,t.t0=t.catch(18),t.t0;case 37:return t.abrupt("return",R);case 38:case"end":return t.stop()}},t,this,[[18,34]])}));return function(){return t.apply(this,arguments)}}())},"7So+":function(t,e,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),o=n("9TW5").e,a=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr,u=n("YU6D").Utils.escapeExpression;t.exports=r({expand:"Розгорнути",minimize:"Згорнути",answer:"Відповісти",auth:{v:'<a href="__href__" class="__className__">Авторизуйтеся</a>, щоб залишити коментар',r:function(t){return i.createElement(i.Fragment,null,i.createElement("a",{href:t.href,className:t.className},"Авторизуйтеся"),", щоб залишити коментар")},h:function(t){return(this.isRestored?c:s)([(this.isRestored?a:o)("a","",{href:t.href,class:t.className},["Авторизуйтеся"],{view:this}),", щоб залишити коментар"])}},load:[function(t){return"Показати ще "+u(t.count)+" коментар"},function(t){return"Показати ще "+u(t.count)+" коментарі"},function(t){return"Показати ще "+u(t.count)+" коментарів"}],complain:"Поскаржитися"})},"7WQN":function(t,e,n){"use strict";n("4DsO"),n("2apU"),n("ghMZ");var r=n("YAV3");e.a=r.a.applyDecls()},"7dCv":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("i1uP"),i=n("lc+m"),o=n("om3R"),a=Object(r.a)(i.a,function(t){if(t&&t.content)return t.preview_content?t.content.find(function(e){return e.id===t.preview_content}):Object(o.a)(t)})},"7hiN":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("gHHl"),i=n("K7k/");function o(t,e){var n=e.isBrowserApp,o=e.isYandexRecent,a=n?t:Object(i.a)(t);!Object(r.a)(e.ua)&&!o||n?window.open(a,"_blank"):window.location.href=a}},"7l/d":function(t,e,n){t.exports=n.p+"f/9d4b.gif"},"7r1C":function(t,e,n){"use strict";var r=n("y6Xm"),i=n("/Epz"),o=n("Wopx"),a=Object(i.a)(o.a,Object(r.a)("network"));n.d(e,"a",function(){return s});var s=Object(i.a)(a,Object(r.a)("isOnline",!0))},"7wgA":function(t,e,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),o=n("9TW5").e,a=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;t.exports=r({cardMove:{v:'Картку переміщено до колекції «<a href="__board_url__">__board_title__</a>»',r:function(t){return i.createElement(i.Fragment,null,"Картку переміщено до колекції «",i.createElement("a",{href:t.board_url},t.board_title),"»")},h:function(t){return(this.isRestored?c:s)(["Картку переміщено до колекції «",(this.isRestored?a:o)("a","",{href:t.board_url},[t.board_title],{view:this}),"»"])}},cardRemove:{v:'Картку видалено з колекції «<a href="__board_url__">__board_title__</a>»',r:function(t){return i.createElement(i.Fragment,null,"Картку видалено з колекції «",i.createElement("a",{href:t.board_url},t.board_title),"»")},h:function(t){return(this.isRestored?c:s)(["Картку видалено з колекції «",(this.isRestored?a:o)("a","",{href:t.board_url},[t.board_title],{view:this}),"»"])}}})},"7z6F":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("lc+m"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("description"))},"7zaA":function(t,e,n){"use strict";var r=n("9TW5"),i=n("Ahwa");e.a=function(t){var e=this&&this.isRestored,n=e?r.er:r.e;return(e?r.fr:r.f)([n.d("modal__wrap",{},[n.d("modal__backdrop",{},[n.d("modal__i",{},[i.a.call(t,{data:{view:this}})])])])])}},"80YD":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("xalX");function i(t,e){return function(n,i){var o=t(n,i);if(o)return Object(r.a)(e.denormalize(n.entities,o))}}},"80cV":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("lc+m"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("stat"))},"82Jb":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){return t[t[e="OG"]="og"]=e,t[t[e="PLACEHOLDER"]="placeholder"]=e,t[t[e="TEXT"]="text"]=e,t}({})},"82Qi":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7BjU"),i=Object.keys(r.a).map(function(t){return r.a[t]}).sort(function(t,e){return e-t}),o=1.5,a=2;function s(t){var e=t.env,n=t.width,s=t.pixelRatio;return n=n||e&&e.getWindowWidth(),s=s||e&&e.getPixelRatio()||1,void 0===n?"s280":(s<=o&&(s=1),s>=a&&(s=a),n=Math.round(n*s),"s"+(i.find(function(t){return n>=t})||r.a.s280))}},"84fb":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("c+Ap"),i=n("MTjZ"),o=n("m4ti"),a=n("Wopx");function s(t){var e=Object(i.a)(t),n=Object(a.a)(t);return Boolean(r.e.includes(n.tld)&&Object(o.a)(e))}},"886R":function(t,e,n){"use strict";n.r(e);var r=n("EVdn"),i=n.n(r);i()(function(){i()("body").on("mousedown","a[data-href]",function(t){var e=i()(t.currentTarget),n=e.data("href"),r=e.attr("href");e.data("original-href",r),e.attr("href",n)})})},"8KBr":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("IWXk"),i=n("i1uP"),o=n("CsIx"),a=n("mjwL"),s=Object(i.a)(r.a,function(t){return t?Object(o.a)(t)?a.selfDisplayName():t.display_name||t.login||"":""})},"8KwP":function(t,e,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("4RqY"),c=n("gLBg"),u=n("hV2r"),l=n("CHZ4"),d=n("4Hw2"),h=n("wBxh"),f=n("pVnL"),p=n.n(f),g=n("T6Rw"),m=n("q/UM"),v=n("pvK7"),b=Object(g.a)(function(t){var e=Object(v.a)(t);return Object(m.a)(t,{boardRecent:p()({},e,{scrolled:e.scrolled+1})})}),_=n("FVd+"),y=n("qAEN");function C(t){return Boolean(!1)}n("x9gI"),n("ICaW"),n("+r4z"),n("eaCv"),n("hDfK");var O=n("ruzH");function S(){return function(){return a()(i.a.mark(function t(e,n){var r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(u.a)(e),o=r.recent,!C()){t.next=7;break}return t.next=5,n(Object(O.a)({filter:["user","userCards"]}));case 5:t.next=9;break;case 7:return t.next=9,n(Object(d.a)({value:o,silent:!0,reset:!1}));case 9:n(b({}));case 10:case"end":return t.stop()}},t,this)})).apply(this,arguments)}.apply(this,arguments)}n.d(e,"a",function(){return w});var w=Object(s.a)(function(){var t=a()(i.a.mark(function t(e,n){var r,o,a,s,u;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.getState,n.di,o=n.dispatch,a=r(),s=e&&e.taskId,!Object(l.a)(a,c.a.MAIN)&&!C()){t.next=16;break}if(!s){t.next=13;break}return t.next=7,o(Object(_.a)({taskId:s}));case 7:if(!(u=t.sent)||u.state!==y.a.SUCCESS){t.next=11;break}return t.next=11,S(a,o);case 11:t.next=15;break;case 13:return t.next=15,S(a,o);case 15:setTimeout(function(){o(Object(h.a)({})).catch(function(t){return console.error(t)})},1e3);case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},"8LPo":function(t,e,n){"use strict";var r,i,o,a,s,c,u,l,d=n("pVnL"),h=n.n(d),f=n("VbXa"),p=n.n(f),g=n("SiKM"),m=n("Iv6v"),v=n("gl2N"),b=n("/bNA"),_=n("mdRN"),y=n("K9S7"),C=n("hKrz"),O="https://yandex.ru/collections",S="card",w="board",E="user",k=((o={}).ban=((r={})[S]={reason:"Предписания РКН по 139 ФЗ",applicable_to:"this",move:!1,notify:!0,comment:""},r[w]={reason:"Предписания РКН по 139 ФЗ",move:!1,notify:!0,comment:""},r[E]={reason:"Предписания РКН по 139 ФЗ",notify:!0,comment:"",restrict:"commenting"},r),o.unban=((i={})[S]={reason:"Обращение в ФОС",notify:!0,comment:""},i[w]={reason:"Обращение в ФОС",notify:!0,comment:""},i),(a={})[S]=function(t){return t.params?t.params.id:""},a[w]=function(t){return t.params?{owner_login:t.params.login,slug:String(t.params.slug)}:""},a[E]=function(t){return t.params?t.params.login:""},(s={})[S]=O+"/card/:id/",s[w]=O+"/user/:login/:slug/",s[E]=O+"/user/:login/","size1x1"),j="size1x2",T="size2x3",x=[k,j,"size2x2",T,"sizeWx2"],R=((c={})[k]="S",c[j]="M",c[T]="L",(u={})[k]={width:507,height:237},u[j]={width:507,height:477},u[T]={width:1017,height:717},n("c+Ap")),I=n("iROX"),D=n("P7/t"),P=n("1SpP");n.d(e,"a",function(){return L});var L=Object(y.a)()(l=Object(C.a)()(l=Object(_.a)({urlRoot:"/collections/api/channels/",idAttribute:"slug",defaults:{aliases:[],short_title:"",stat:{subscribers_count:0}}})(l=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var n=e.prototype;return n.initialize=function(){var t=this;this.on("change:subscription",function(e){var n=h()({},e,t.getSubscribeOptions());t.isSubscribed()?b.a.showChannelSubscribeMessage(t,n,e):b.a.showChannelUnsubscribeMessage(t,n,e)})},n.getTitle=function(){return this.get("title")},n.setTitle=function(t){this.set("title",t)},n.getDescription=function(){return this.get("description")},n.setDescription=function(t){this.set("description",t)},n.getSlug=function(){return this.get("slug")},n.getAliases=function(){return this.get("aliases")},n.getStat=function(){return this.get("stat")},n.getGeoCardsCount=function(){var t=this.getStat();return t&&t.geo_cards_count},n.getGeo=function(){return this.get("geo")},n.getGeoBbox=function(){var t=this.getGeo();return t&&t.bbox},n.getGeoCenter=function(){var t=this.getGeo();return t&&t.center},n.getGeoCenterCoordinates=function(){var t=this.getGeoCenter();return t&&t.coordinates},n.setSlug=function(t){this.set("slug",t)},n.getImages=function(){return this.get("images")},n.setImages=function(t){this.set("images",t)},n.getContents=function(){var t=this.getImages();return x.map(function(e){return t[e]})},n.toSubscriptionJSON=function(){return{"channel.slug":this.getSlug()}},n.getContent=function(t){void 0===t&&(t=R.h);var e=this.getImages();return e&&e[t]},n.getShareImageUrl=function(){return Object(P.a)(this.getSlug())},n.getSharePayload=function(t,e){return{title:e.getOGTitle(),description:e.getOGDescription(),url:Object(D.a)(t.router.getLastEventReverseURL("channel"),t),image:this.getShareImageUrl()}},n.getColor=function(){return this.get("color")},n.getVerticals=function(){return this.get("verticals")},n.getFirstVertical=function(){var t=this.getVerticals();return t&&t[0]},n.getFirstVerticalTitle=function(){var t=this.getFirstVertical();if(t)return t.name},n.parse=function(t,e){void 0===e&&(e={});var n=e.request||this.getRequestAdapter();return t.images=t.images||{},t.verticals&&t.verticals.length&&"retsepty"===t.verticals[0].slug&&(t.verticals[0].slug="eda"),x.forEach(function(e){t.images[e]instanceof v.a||(t.images[e]=v.a.dataFactory(t.images[e]||{},{request:n,parse:!0}))}),t},n.setRequestAdapter=function(e){var n=this.getImages();return n&&Object(g.keys)(n).forEach(function(t){n[t]&&n[t].setRequestAdapter&&n[t].setRequestAdapter(e)}),t.prototype.setRequestAdapter.call(this,e)},n.toJSON=function(){var e=t.prototype.toJSON.call(this),n=this.getImages();return n&&(e.images=Object(g.mapValues)(n,function(t){return t instanceof v.a?t.toJSON():t})),e},n.toTopicData=function(){return{slug:this.getSlug(),title:this.getTitle(),image:this.getContent(R.j)}},n.clone=function(){var e=t.prototype.clone.call(this);return e.setImages(Object(g.mapValues)(this.getImages(),function(t){return t instanceof v.a?t.clone():Array.isArray(t)?t.map(function(t){t.clone()}):void 0})),e},n.save=function(e,n,r){var i,o=this;return i=this.getContents().map(function(t){return t&&t._contentPromise?t._contentPromise:Promise.resolve()}),Promise.all(i).then(function(){return t.prototype.save.call(o,e,n,r)})},n.getReloadUrlParams=function(){return{name:"channel",params:{id:this.getSlug(),hintAction:R.F.channelSubscribe,hintTarget:this.getHintTarget()}}},n.getHintTarget=function(){return this.getSlug()},n.updateDependenciesFromEvent=function(t){var e=t.request,n=t.baseState,r=t.event.params.id,i=this.constructor;if(this.setRequestAdapter(e),n.setChannel(this),this.getId()!==r){var o=i.dataFactory({slug:r},{request:e});return n.setChannel(o),o.fetch().then(function(){return o}).catch(function(t){throw 404===t.status?new I.f("Channel "+r+" not found",{},t):t})}},e.restore=function(t){return this.dataFactory(t,{parse:!0})},e}(m.a))||l)||l)||l},"8UQm":function(t,e,n){"use strict";var r=n("9D4S");e.a=r.a.applyDecls()},"8YGJ":function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({ratingMaps:"Яндекс.Карти",showOnMaps:"Показати на Картах",showOnMapsShort:"На Картах",address:"Адреса",phone:"Телефон",website:"Сайт",workingHours:"Відкрито"})},"8Yia":function(t,e,n){"use strict";function r(t){var e=t.url,n=t.title;return e||(e=n||"",n=""),["intent:#Intent","action=android.intent.action.SEND","type=text/plain","S.android.intent.extra.TEXT="+encodeURIComponent(e),n?"S.android.intent.extra.SUBJECT="+encodeURIComponent(n):void 0,"end"].filter(Boolean).join(";")}n.d(e,"a",function(){return r})},"8ZBI":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("rpX3"),i=Object(r.a)("extension")},"8dP3":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("GhlN"),s=function(t){var e,n=t.mod,r=t.mods,s=t.avatar,c=t.title,u=t.desc,l=t.hasLock,d=t.lock,h=t.linkFactory,f=t.children,p=o.createElement(o.Fragment,null,c&&o.createElement("h3",{className:"cl-teaser-info__title"},h?h({className:"link",children:c}):c),u&&o.createElement("p",{className:"cl-teaser-info__desc"},u));return o.createElement("div",{className:Object(a.a)("cl-teaser-info",i()((e={},e[n]=Boolean(n),e),r))},s,l&&(d||o.createElement("div",{className:"cl-teaser-info__side"},o.createElement("span",{className:"cl-teaser-info__lock"}))),l||f?o.createElement("div",{className:"cl-teaser-info__wrap"},p,f):p)}},"8fc2":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("gyQa"),i="hd";function o(t){var e=Object(r.a)(t);return!!e&&e.definition===i}},"8i7z":function(t,e,n){t.exports=n.p+"f/7be8.gif"},"8kuQ":function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({xhrErrorUnknown:"Помилка",xhrError0:"Немає з’єднання з інтернетом",xhrError404:"Нічого не знайдено",xhrError403:"У вас немає доступу до цієї сторінки",xhrError500:"Помилка сервера"})},"8nDD":function(t,e,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("4RqY"),l=n("9NxI"),d=n("NFKc"),h=n("Rd5j"),f=n("izju"),p=function(t){return{source:t.source,source_type:t.source_type||f.a.IMAGE}},g=function(t){return p({source:{title:t.name,url:""}})},m=n("ZDp4"),v=n.n(m),b=n("1XU/"),_=n("c+Ap"),y=function(){return _.jb?"/collections/api/content/":Object(b.a)("https://collections.yandex.ru",void 0,"")+"/collections/api/content/"},C=n("pllQ"),O=Object(d.a)("request",function(){var t=c()(i.a.mark(function t(e,n,r){var o,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(v()(r),n.file){t.next=3;break}return t.abrupt("return",Promise.reject());case 3:return n.source&&(o=n.source.url,Boolean(o&&String(o).match(/^data/))&&(n.source.url="data:image")),n.source_type=n.source_type||f.a.IMAGE,(a=new FormData).append("upload",n.file),a.append("body",JSON.stringify(n)),t.abrupt("return",Object(C.retryPromise)(function(){return e.postData(y(),a,{processData:!1,contentType:!1,xhrFields:{withCredentials:!0}})},3,3e3));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),S=Object(u.a)(function(){var t=c()(i.a.mark(function t(e,n){var r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.dispatch,o=g(e),t.abrupt("return",Promise.all([Object(h.b)(e),r(O(o))]).then(function(t){var e=t[0].url,n=t[1];return o.id=n.id,o.source&&(o.source.url=e),o}).catch(function(t){console.error(t)}));case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),w=n("MTjZ"),E=n("RouB"),k=Object(d.a)("request",function(){var t=c()(i.a.mark(function t(e,n,r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return v()(r),t.abrupt("return",Object(C.retryPromise)(function(){return e.post(y(),n,{xhrFields:{withCredentials:!0}})},3,3e3));case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),j=Object(d.a)("request",function(){var t=c()(i.a.mark(function t(e,n,r){var o,s,c,u,l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.content,s=n.file,c=r.dispatch,u=r.getState,s||o){t.next=4;break}return t.abrupt("return");case 4:if(!s){t.next=9;break}if(!o){t.next=8;break}return o=a()({},o,{file:s}),t.abrupt("return",c(j({content:o})));case 8:return t.abrupt("return",c(j({content:c(S(s))})));case 9:if(!o.id){t.next=11;break}return t.abrupt("return",o);case 11:if(Object(E.a)(Object(w.a)(u()))){t.next=13;break}return t.abrupt("return",o);case 13:if(t.prev=13,!o.file){t.next=20;break}return t.next=17,c(O(o));case 17:l=t.sent,t.next=23;break;case 20:return t.next=22,c(k(o));case 22:l=t.sent;case 23:o=a()({},o,{id:l.id}),t.next=29;break;case 26:throw t.prev=26,t.t0=t.catch(13),t.t0;case 29:return t.abrupt("return",o);case 30:case"end":return t.stop()}},t,this,[[13,26]])}));return function(){return t.apply(this,arguments)}}()),T=n("7/cf"),x=n("U0LE"),R=n("T6Rw"),I=Object(R.a)(function(t,e){var n=Object(T.b)(t);if(n){var r,i=(n.selected_contents||[]).filter(function(t){return t!==e}),o=n.preview_content;return o===e&&(o=i.length?i[0]:void 0),a()({},t,((r={}).currentCard=a()({},n,{selected_contents:i,preview_content:o}),r))}return t}),D=n("Heix"),P=n("ukm6"),L=n("785c");n.d(e,"a",function(){return N});var N=Object(u.a)(function(){var t=c()(i.a.mark(function t(e,n){var r,o,s,c,u,d,h,f,g,m,v;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.id,o=n.dispatch,s=n.getState,!(c=Object(T.b)(s()))||!c.content){t.next=28;break}if(!(u=c.content.find(function(t){return t.id===r}))){t.next=28;break}return o(Object(l.a)({id:r,value:{_loading:!0,_error:!1}})),t.prev=7,d=p(u),u.file&&(d.file=u.file),t.next=12,o(j({content:d}));case 12:h=t.sent,o(Object(l.a)({id:r,value:a()({},h,{_loading:!1})})),t.next=28;break;case 16:return t.prev=16,t.t0=t.catch(7),console.error(t.t0),o(Object(l.a)({id:r,value:{_loading:!1,_error:!0}})),t.next=22,o(I(r));case 22:f=s(),g=Object(D.a)(Object(T.b)(f)),m=Object(P.a)(f)[L.a],v=x.a.UPLOAD_ERROR,g||m.point.view!==L.c.BOARDS_LIST||(v=x.a.UPLOAD_ERROR_ALL),o(Object(x.b)({type:v}));case 28:case"end":return t.stop()}},t,this,[[7,16]])}));return function(){return t.apply(this,arguments)}}())},"8qBK":function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({title:"Карточка уже добавлена",description:"Вы действительно хотите удалить карточку?",confirmLabel:"Видалити",cancelLabel:"Скасувати"})},"8raq":function(t,e,n){"use strict";n("IAoT"),n("gFRy"),n("Pd0M");var r=n("BPL4");e.a=r.a.applyDecls()},"8yzE":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return u});var r=n("c+Ap").I,i=["input","textarea"],o={};function a(t,e,n){var r=(void 0===n?{}:n).priority,i=void 0===r?0:r;o[t]=o[t]||[],o[t].push({priority:i,callback:e})}function s(t,e){o[t]&&(o[t]=o[t].filter(function(t){return t.callback!==e}))}function c(t,e,n,r){var i=n.bind(t);a(e,i,r),t.once("destroy",function(){return s(e,i)})}function u(t){return t&&(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)}document.addEventListener("keydown",function(t){var e=t.which,n=t.target.tagName.toLowerCase();e!==r.ESCAPE&&-1!==i.indexOf(n)||function(t,e){if(o[t])for(var n=o[t].slice().sort(function(t,e){return e.priority-t.priority}),r=0;r<n.length;r++)if(!1===n[r].callback({key:t},e))return}(e,t)})},"8z4Y":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("3lXt"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("readonly",!1))},"9+Bl":function(t,e,n){"use strict";n("lawM"),n("hT9L");var r=n("UjZ0");e.a=r.a.applyDecls()},"9+Yy":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("wy7W");function i(t,e){return function(n,i){return Object(r.a)(n,t,i)||e}}},"91wX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=0;function i(){return"u"+r++}},"9EtG":function(t,e,n){"use strict";function r(t){return t?t.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&euro;/g,"€").replace(/&trade;/g,"™").replace(/&copy;/g,"©").replace(/&reg;/g,"®").replace(/&ndash;/g,"–").replace(/&mdash;/g,"—").replace(/&laquo;/g,"«").replace(/&raquo;/g,"»").replace(/&apos;/g,"'").replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/\u0007/g,""):""}n.d(e,"a",function(){return r})},"9NxI":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("pVnL"),i=n.n(r),o=n("y144"),a=n("T6Rw"),s=n("7/cf"),c=Object(a.a)(function(t,e){var n=e.id,r=e.value,a=Object(s.b)(t);if(a&&a.content){var c=a.content,u=a.selected_contents,l=a.preview_content;return l===n&&(l=r.id),r.id&&u&&(u=u.map(function(t){return t===n?r.id:t})),o.a.reducer(t,{value:{content:c.map(function(t){return t.id===n?i()({},t,r):t}),selected_contents:u,preview_content:l}})}return t})},"9SHX":function(t,e){},"9WP5":function(t,e,n){"use strict";n("C8aN");var r=n("sc3M");e.a=r.a.applyDecls()},"9aKz":function(t,e,n){t.exports=n.p+"f/ea40.woff2"},"9qcP":function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n("pVnL"),i=n.n(r),o=n("VbXa"),a=n.n(o),s=n("E5ki"),c=n("bmsa"),u=n("1vK5"),l=n("DUEF"),d=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).notifications=new s.a,e}a()(e,t);var n=e.prototype;return n.showNotification=function(t){if(!t.mute)return this.getNotifications().add(t)},n.showMessage=function(t,e){return void 0===e&&(e={}),this.showNotification(i()({},e,{message:t(e.translate)}))},n.showXHRMessage=function(t,e){var n=t.status,r=u.xhrErrorUnknown;return 0===n?r=u.xhrError0:404===n?r=u.xhrError404:403===n?r=u.xhrError403:n>=500&&n<600&&(r=u.xhrError500),console.error(t),this.showMessage(r,e)},n.showPersistentOfflineMessage=function(){this.offlineMessage||(this.offlineMessage=this.showMessage(u.xhrError0,{persistent:!0}))},n.hidePersistentOfflineMessage=function(){this.offlineMessage&&(this.offlineMessage.remove(),this.offlineMessage=void 0)},n.showUnknownErrorMessage=function(){return this.showMessage(u.mainErrorUndefined)},n.createXHRErrorHandler=function(t){var e=this;return function(n){return e.showXHRMessage(n,t)}},n.showCardMessage=function(t,e,n){var r=this.getRouterState();if(r){var i=r.getBoardURL(t.getBoard());return n={translate:Object.assign({},n,{board_title:this.getBoardTitle(t.getBoard()),board_url:i}),url:i},this.showMessage(e,n)}},n.showCardMoveMessage=function(t,e){return this.showCardMessage(t,u.cardMove,e)},n.showCardUpdateMessage=function(){return this.showMessage(u.cardUpdate)},n.showCardRemoveMessage=function(t,e){return this.showCardMessage(t,u.cardRemove,e)},n.showCardCreateMessage=function(){this.getEnv()},n.showImageError=function(t){if("dimensions"===t.type)return this.showImageDimensionsError(t.dimensions)},n.showImageDimensionsError=function(t){return this.showMessage(u.imageDimensionSmall,{translate:{dimensions:t}})},n.showImageSizeError=function(t){return this.showMessage(u.imageSizeLarge,{translate:{size:t}})},n.showBoardMessage=function(t,e,n){var r=this.getRouterState();if(r&&(!n||!n.disableNotifications)){var i=t.id?r.getBoardURL(t):null;return n=Object.assign({},n,{translate:{board_title:this.getBoardTitle(t),board_url:i},url:i}),this.showMessage(e,n)}},n.showChannelMessage=function(t,e,n){var r=this.getRouterState();if(r&&(!n||!n.disableNotifications)){var i=t.id?r.getChannelURL(t):null;return n=Object.assign({},n,{translate:{channel_title:t.getTitle(),channel_url:i},url:i}),this.showMessage(e,n)}},n.showBoardCreateMessage=function(t,e){if(this.trigger("board:create",t),e.showNotification)return this.showBoardMessage(t,u.boardCreated,e)},n.showBoardUpdateMessage=function(t,e){return this.trigger("board:update",t),this.showBoardMessage(t,l.boardUpdated,e)},n.showBoardRemoveMessage=function(t,e){return this.trigger("board:remove",t),this.showBoardMessage(t,u.boardRemoved,e)},n.showBoardSubscribeMessage=function(t,e,n){void 0===e&&(e={});var r=(void 0===n?{}:n).disableClck;return this.getRouterState(),this.trigger("board:subscribe",t,i()({},e,{disableClck:r})),this.showBoardMessage(t,u.boardSubscribed,e)},n.showBoardUnsubscribeMessage=function(t,e,n){void 0===e&&(e={});var r=(void 0===n?{}:n).disableClck;return this.getRouterState(),this.trigger("board:unsubscribe",t,i()({},e,{disableClck:r})),this.showBoardMessage(t,u.boardUnsubscribed,e)},n.showRemoveCardReadonlyMessage=function(){return this.showMessage(u.removeCardReadonlyDisallowed)},n.showEditCardReadonlyMessage=function(){return this.showMessage(u.editCardReadonlyDisallowed)},n.showMoveCardReadonlyMessage=function(){return this.showMessage(u.moveCardReadonlyDisallowed)},n.showEditBoardReadonlyMessage=function(){return this.showMessage(u.editBoardReadonlyDisallowed)},n.showChannelSubscribeMessage=function(t,e,n){void 0===e&&(e={});var r=(void 0===n?{}:n).disableClck,i=(this.getRouterState(),e),o=i.loc,a=i.collapsed;return this.trigger("channel:subscribe",t,{loc:o,collapsed:a,disableClck:r}),this.showChannelMessage(t,u.channelSubscribed,e)},n.showChannelUnsubscribeMessage=function(t,e,n){void 0===e&&(e={});var r=(void 0===n?{}:n).disableClck;return this.getRouterState(),this.trigger("channel:unsubscribe",t,{disableClck:r}),this.showChannelMessage(t,u.channelUnsubscribed,e)},n.showCompilationSubscribeMessage=function(t,e,n){return this.showCompilationMessage(u.compilationSubscribed,t,e,n)},n.showCompilationUnsubscribeMessage=function(t,e,n){return this.showCompilationMessage(u.compilationUnsubscribed,t,e,n)},n.showCompilationMessage=function(t,e,n,r){return this.showMessage(t,i()({},r,{translate:{title:e,url:n},url:n}))},n.showBoardSaveError=function(t,e){if(e)throw t&&409===e.status?t.duplicateNameError():this.showXHRMessage(e),e},n.showBoardCreateError=function(t){t&&(409===t.status?this.showMessage(u.createBoardDuplicate):this.showXHRMessage(t))},n.showComplaintMessage=function(t){return this.showMessage(u.complaintSuccess,t)},n.showComplaintHideMessage=function(t){return this.showMessage(u.cardHided,t)},n.showNoAvailableBallotsMessage=function(){this.showMessage(u.noAvailableBallots)},n.showSaveBallotVoteFailedMessage=function(){this.showMessage(u.saveBallotVoteFailed)},n.showFileParseErrorMessage=function(t){return void 0===t&&(t={}),this.showMessage(u.fileParseError,t)},n.showUserMessage=function(t,e,n){var r=this.getRouterState();if(r&&(!n||!n.disableNotifications)){var i=t.id?r.getProfileURL(t):null;return n=Object.assign({},n,{translate:{user_login:t.getLogin(),user_url:i},url:i}),this.showMessage(e,n)}},n.onAuth=function(t){this.trigger("user:auth",t)},n.onCardRemove=function(){this.trigger("card:remove")},n.onCardLike=function(t){this.trigger("card:like",t)},n.onCardUnLike=function(t){this.trigger("card:unlike",t)},n.onCardCommentAdd=function(t){this.trigger("card:comment:add",t)},n.onCardCommentRemove=function(t){this.trigger("card:comment:remove",t)},n.onPluginStore=function(t){this.trigger("plugin:store",t)},n.showUserSubscribeMessage=function(t,e,n){void 0===e&&(e={});var r=(void 0===n?{}:n).disableClck,i=(this.getRouterState(),e),o=i.loc,a=i.collapsed;return this.trigger("user:subscribe",t,{loc:o,collapsed:a,disableClck:r}),this.showUserMessage(t,u.userSubscribed,e)},n.showUserUnsubscribeMessage=function(t,e,n){void 0===e&&(e={});var r=(void 0===n?{}:n).disableClck;return this.getRouterState(),this.trigger("user:unsubscribe",t,{disableClck:r}),this.showUserMessage(t,u.userUnsubscribed,e)},n.getNotifications=function(){return this.notifications},n.setRouterState=function(t){this.set("routerState",t)},n.getRouterState=function(){return this.get("routerState")},n.setCurrentUser=function(t){this.set("currentUser",t)},n.getCurrentUser=function(){return this.get("currentUser")},n.getBoardTitle=function(t){return t.getTitle()},n.updateDependencies=function(t){this.set(t),this.setEnv(t.env)},e.factory=function(){return this.instance||(this.instance=new e),this.instance},e}(c.a)},"9svB":function(t,e,n){t.exports=n.p+"f/2c07.gif"},"9yiq":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(t){return"string"==typeof t&&""===t};function i(t){return Object.keys(t).filter(function(e){return null!=t[e]&&!r(t[e])}).reduce(function(e,n){var r=t[n];return Array.isArray(r)?r.forEach(function(t){return e.push([n,String(t)])}):e.push([n,String(r)]),e},[]).map(function(t){var e=t[0],n=t[1];return encodeURIComponent(e)+"="+encodeURIComponent(n)}).join("&")}},"AF+Z":function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("NFKc"),c=n("+mVu"),u=n("cX81"),l=n("x9gI"),d=n("ICaW"),h=n("pryo"),f=Object(s.a)("SidebarState",function(){var t=a()(i.a.mark(function t(e,n,r){var o,a,s,f,p,g,m;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.getState,a=r.dispatch,!n){t.next=10;break}if(s=o(),f=Object(l.a)(s,d.d.COLLECTIONS_DESKTOP_ADD_INTERNAL),p=Object(l.a)(s,d.d.COLLECTIONS_DESKTOP_ADD_EDIT),!f||!p){t.next=7;break}return t.abrupt("return",a(Object(h.a)({cardId:n,type:"edit"})));case 7:g=Object(c.a)(s,n),(m=u.a.dataFactory(g,{parse:!0}))&&e.editCard(m);case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},AGq3:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("i1uP"),i=n("lc+m"),o=n("rT8E"),a=n("om3R");function s(t,e){return Object(r.a)(i.a,function(n){return!!n&&(0===n.id.indexOf(e)||Object(o.a)(Object(a.a)(n))===t)})}},AHze:function(t,e,n){"use strict";var r,i,o,a,s,c,u,l,d,h,f,p=n("pVnL"),g=n.n(p),m=n("VbXa"),v=n.n(m),b=n("cDcd"),_=n("6ga4"),y=n("8OQS"),C=n.n(y),O={},S=n("CYZy"),w=n("pJdu"),E=n("5/dx"),k=function(t){var e=t.itemRef;return b.createElement(E.a,{mod:"card",mods:{placeholder:!0},picture:!0,itemRef:e})},j=n("U+yc"),T=n.n(j),x=n("JxqJ"),R=n("LH8O"),I=n("7z6F"),D=n("om3R"),P=n("Jxqj"),L=n("WiFc"),N=n("lc+m"),A=n("rT8E"),B=n("x9gI"),M=n("lpMR"),F=n("GGxO"),U=n("ICaW"),z=n("izju"),V=n("CUhL"),H=n("YQQ1"),W=n("JmMj"),q=n("iWNo"),K=function(t){function e(){return t.apply(this,arguments)||this}return v()(e,t),e.prototype.render=function(){var t=this.props,e=t.showCtrl,n=t.onVisibilityChange,r=t.cardId,i=t.showDebugInfo;return e?b.createElement("div",{className:"cl-teaser__action"},b.createElement(q.a,{cardId:r,mod:"card-teaser",size:"S",invert:!0,showDebugInfo:i,onVisibilityChange:n})):null},e}(b.Component),G=Object(x.a)()(K),Y=n("/KRU"),X=n("U9Ap"),J=n("VRo3"),Q=n("80cV"),Z=n("y6Xm"),$=n("RLYd"),tt=Object($.a)(Q.a,Object(Z.a)("comments_count",0)),et=n("MTjZ"),nt=n("RouB"),rt=n("XU4g"),it=n("EC4j"),ot=n("gLBg"),at=n("+XmN"),st=n("h3n8"),ct=Object(x.b)(function(t,e){var n=Object(et.a)(t);return{isAuthorized:Object(nt.a)(n),commentsCount:tt(t,e.cardId)}})(function(t,e){var n=t.cardId,r=t.showStat,i=t.isAuthorized,o=t.commentsCount,a=t.dispatch,s=C()(t,["cardId","showStat","isAuthorized","commentsCount","dispatch"]),c=e.counter;return b.createElement(it.a,g()({label:Object(st.a)(o,r&&!0),onClick:function(){if(i)return a(Object(rt.a)({id:n,counter:c,focus:"comment-form"}));var t={route:ot.a.CARD,params:{id:n}};return a(Object(at.a)({counter:c,retpath:t}))}},s))}),ut=n("tVjm"),lt=n("YHA2"),dt=n("i1uP"),ht=n("c+Ap"),ft=Object(dt.a)(N.a,function(t){return Boolean(t&&t.labels&&t.labels.indexOf(ht.mb)>-1)}),pt=n("14Y5"),gt=n("dDwQ"),mt=Object(x.a)(function(t,e){var n=Object(N.a)(t,e.cardId);return{isFulFilled:ft(n)}})(function(t,e){var n,r=t.mods,i=t.cardId,o=t.iconOnly,a=t.isFulFilled,s=t.dispatch,c=C()(t,["mods","cardId","iconOnly","isFulFilled","dispatch"]),u=e.counter;return o||(n=a?gt.wishDone():gt.wishMove()),b.createElement(it.a,g()({mods:g()({"icon-only":o,state:!!a&&"check"},r),label:n,labelChildren:!o&&a&&b.createElement("span",{className:"button__label-check"},gt.wishDo()),onClick:function(){s(Object(pt.a)({cardId:i,isFulfilled:!a,counter:u}))}},c))}),vt=Object(x.a)(function(t,e){var n=Object(Y.a)(t,e.cardId);return{isOwnerCard:Object(X.a)(t,e.cardId),isWishlist:Boolean(Object(J.a)(n))}})(function(t){var e=t.cardId,n=t.isOwnerCard,r=t.isWishlist;return b.createElement("div",{className:"cl-teaser__ctrl"},n&&r?b.createElement(mt,{mods:{ei:!0,type:"white",shadow:!0,shape:"round",teaser:[!0,"card"]},icon:!0,iconOnly:!0,iconMods:{"ok-24x24":!0},cardId:e}):!n&&b.createElement(lt.a,{mods:{ei:!0,type:"action",shadow:!0,shape:"round",teaser:[!0,"card"]},icon:!0,iconMods:{"bmark-24x24":!0},cardId:e,showStat:!0}),b.createElement(ut.a,{cardId:e,mods:{ei:!0,type:"white",shadow:!0,shape:"round",teaser:[!0,"card"]},icon:!0,hand:!0,showStat:!0}),b.createElement(ct,{mods:{ei:!0,type:"white",shadow:!0,shape:"round",teaser:[!0,"card"]},icon:!0,iconMods:{"msg-24x24":!0},cardId:e,showStat:!0}))}),bt=n("f8gw"),_t=n("Tff5"),yt=n("JFDR"),Ct=n("SAMx"),Ot=n("fFoT"),St=n("EuEB"),wt=Object(x.a)(function(t,e){var n=e.cardId,r=Object(_t.a)(t,n),i=Object(Y.a)(t,n);return{boardId:r,owner:Object(P.a)(t,n),showOwner:Boolean(e.showOwner&&i&&i.title)}})(function(t){var e=t.mods,n=t.showOwner,r=t.boardId,i=t.owner;return b.createElement(b.Fragment,null,i&&n&&b.createElement(Ct.a,{mod:"card-teaser",mods:e,avatar:b.createElement(Ot.a,{mod:"card-teaser",userId:i.id})},b.createElement("h3",{className:"cl-teaser-info__title"},b.createElement(yt.a,{boardId:r,className:"link"})),b.createElement(St.a,{mod:"card-teaser",size:"S",userId:i.id,color:"grey"})))}),Et=Object(x.a)(function(t,e){return{ownerVisible:Boolean(Object(P.a)(t,e.cardId))&&Object(B.a)(t,U.d.DESKTOP_MASONRY_OWNER_VISIBLE)}})(function(t){var e=t.cardId,n=t.storeKey,r=t.showOwner,i=t.showExtension,o=t.ownerVisible;return i||r&&o?b.createElement("div",{className:"cl-teaser__footer"},b.createElement(bt.a,{cardId:e,storeKey:n,wrapper:!1}),o&&b.createElement(wt,{mods:{footer:!0},cardId:e,showOwner:r})):null}),kt=n("PExD"),jt=n("YFOV"),Tt=Object(jt.a)("comments"),xt=Object(dt.a)(Tt,Object(Z.a)("text")),Rt=n("KGKq"),It=n("3D3i"),Dt=Object(x.a)(function(t,e){var n=e.cardId,r=Object(N.a)(t,n),i=Object(I.a)(t,n),o=tt(t,n)||0;return!i&&Object(B.a)(t,U.d.DESKTOP_FEED_SHOW_COMMENT)&&(i=xt(r&&r.last_comment),o-=1),{commentsCount:o,text:i}})(function(t){var e=t.cardId,n=t.storeKey,r=t.commentsCount,i=t.text;return i?b.createElement("div",{className:"cl-teaser__article"},b.createElement(Rt.a,{className:"cl-teaser__article-link",cardId:e,storeKey:n}),b.createElement("div",{className:"cl-teaser__article-text"},Object(kt.b)(i)),b.createElement("div",{className:"cl-teaser__article-more"},b.createElement("span",{className:"cl-teaser__article-more-text"},It.moreComments({count:r})))):null}),Pt=n("4e/Y"),Lt=Object(x.a)(function(t){return{ownerHidden:!Object(B.a)(t,U.d.DESKTOP_MASONRY_OWNER_VISIBLE)}})(function(t){var e=t.cardId,n=t.storeKey,r=t.showOwner,i=t.showReason,o=t.ownerHidden;return b.createElement("div",{className:"cl-teaser__inner"},o&&b.createElement(wt,{cardId:e,showOwner:r}),b.createElement(Dt,{cardId:e,storeKey:n}),b.createElement(Pt.a,{cardId:e,showReason:i}))}),Nt=(r=Object(R.a)(),i=Object(R.a)(),o=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={kebab:!1,renderInternal:!1},e}v()(e,t);var n=e.prototype;return n.onKebabVisibilityChange=function(t){this.setState({kebab:t})},n.onMouseOver=function(){this.state.renderInternal||this.setState({renderInternal:!0})},n.render=function(){var t=this.props,e=t.card,n=t.storeKey,r=t.owner,i=t.badgeType,o=t.showOwner,a=void 0===o||o,s=t.showReason,c=t.showCtrl,u=t.showDebugInfo,l=t.ownerVisible,d=t.itemRef,h=this.state.renderInternal;if(!e||!n)return null;var f=Object(D.a)(e),p=function(t){return!!t&&Boolean(t.object_answer||t.organization||t.market||t.recipe)}(e),m=Object(I.a)(e),v=Object(L.a)(e),_=Object(A.a)(f),y=Object(M.a)(f),C=Object(F.a)(_),O=_===z.a.BOOK,S=_===z.a.LINK,w=Boolean(m||v),k=y&&w||C||S;return b.createElement(V.a,{cardId:e.id},b.createElement(E.a,{mod:"card",mods:{fixed:!0,extension:p||k,info:r&&a&&l,video:y,cover:O?[!0,"book"]:C,link:S,kebab:this.state.kebab},linkFactory:function(t){return b.createElement(H.a,g()({cardId:e.id,storeKey:n},t))},onMouseOver:this.onMouseOver,itemRef:d},h&&b.createElement(vt,{cardId:e.id}),c&&h&&b.createElement(G,{cardId:e.id,showCtrl:c,showDebugInfo:u,onVisibilityChange:this.onKebabVisibilityChange}),h&&b.createElement(Lt,{cardId:e.id,storeKey:n,showOwner:a,showReason:s}),b.createElement(W.a,{cardId:e.id,badgeType:i}),b.createElement(Et,{cardId:e.id,storeKey:n,showExtension:p||k,showOwner:a})))},e}(b.PureComponent),T()(o.prototype,"onKebabVisibilityChange",[r],Object.getOwnPropertyDescriptor(o.prototype,"onKebabVisibilityChange"),o.prototype),T()(o.prototype,"onMouseOver",[i],Object.getOwnPropertyDescriptor(o.prototype,"onMouseOver"),o.prototype),o),At=Object(x.a)(function(t,e){var n=e.cardId;return{card:Object(N.a)(t,n),owner:Object(P.a)(t,n),ownerVisible:Object(B.a)(t,U.d.DESKTOP_MASONRY_OWNER_VISIBLE)}})(Nt),Bt=n("N7+n"),Mt=n("0lHE"),Ft=n("J+iS"),Ut=n("Gium"),zt=n("zsvx"),Vt=n("BbqQ"),Ht=n("V8C4"),Wt=Object(x.b)()(function(t,e){var n=t.dispatch,r=e.counter,i=Object(Mt.a)();return Ht.d.showPluginBanner(g()({},r,{link:i})),b.createElement("div",{className:"ext ext_state_visible ext_type_border ext_views"},b.createElement("div",{className:"ext__wrap"},b.createElement("span",{className:"ext__pic",style:{backgroundImage:"url("+Ft+")"}}),b.createElement("h4",{className:"ext__title"},Ut.title()),b.createElement("div",{className:"ext__text"},Ut.text.r()),b.createElement("div",{className:"ext__ctrl"},b.createElement("a",{target:"_blank",href:i,"data-link-type":"extension",className:"button button_size_M button_type_normal button_ext button_ext_submit",onClick:function(t){Object(Vt.a)()&&(t.preventDefault(),n(Object(zt.b)({counter:r})).catch(function(t){return console.error(t)}))}},b.createElement("span",{className:"button__label"},Ut.button())))))}),qt=function(t){var e=t.itemRef;return b.createElement("div",{className:"cl-teaser",ref:e},b.createElement(Wt,null))},Kt=n("lhXF"),Gt=n("C9FQ"),Yt=n("iJ0M"),Xt=n.n(Yt),Jt=n("6B4A"),Qt=n.n(Jt),Zt=n("15Ko"),$t=n.n(Zt),te=n("5W3L"),ee=n.n(te),ne=n("1qIr"),re=n.n(ne),ie=n("PHAn"),oe=n.n(ie),ae=n("5CNk"),se=n.n(ae),ce=n("EK33"),ue=n.n(ce),le=n("hCJZ"),de=n.n(le),he=n("Ouk0"),fe=n.n(he),pe=n("FJTE"),ge=n("IfkI"),me=[[Xt.a,oe.a],[Qt.a,se.a],[$t.a,ue.a],[ee.a,de.a],[re.a,fe.a]],ve=(a=Object(R.a)(),s=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={visible:!0,imageSrc:["",""]},e}v()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.updatePreferences();var t=this.context.counter,e=g()({},t,{loc:"feedIncut"});this.setState({imageSrc:me[Math.round(Math.random()*(me.length-1))]}),Ht.d.showHuaweiBanner(e)},n.hide=function(){this.setState({visible:!1}),this.updatePreferences()},n.updatePreferences=function(t){void 0===t&&(t=1),(0,this.props.dispatch)(Object(Kt.a)({key:Gt.a,mutation:function(e){return e?e+t:t}})).catch(function(t){return console.error(t)})},n.sendClickCounter=function(){fetch(ge.a,{credentials:"include",mode:"cors"}).catch(function(t){return console.error(t)})},n.render=function(){var t,e=this.props.itemRef,n=this.state,r=n.visible,i=n.imageSrc,o=this.context.counter,a=g()({},o,{loc:"feedIncut"});return t=i[0]&&i[1]?b.createElement("img",{src:i[0],srcSet:i[1],alt:pe.description(),className:Object(_.a)("incut__icon",{round:!0})}):b.createElement("span",{className:Object(_.a)("incut__icon",{round:!0,placeholder:!0})}),b.createElement("div",{className:"cl-teaser",ref:e},b.createElement("div",{className:Object(_.a)("incut",{banner:!0,state:[!0,r?"visible":"hidden"]})},b.createElement("span",{className:"incut__label incut__label_adverts"},pe.label()),b.createElement("div",{className:"incut__close"},b.createElement(it.a,{mods:{type:"clear","icon-only":!0,"action-close":!0},icon:!0,onClick:this.hide,props:{title:pe.buttonHide(),"data-c":Ht.c.clickHuaweiBannerClose(a),"data-disable-counters":"1"}})),b.createElement("a",{className:Object(_.a)("incut__link",{round:!0}),href:Object(ot.d)("huaweirussia","huawei-p20-p20-pro"),"data-c":Ht.c.clickHuaweiBanner(a),onClick:this.sendClickCounter},t),b.createElement("h3",{className:"incut__title"},pe.title.r()),b.createElement("div",{className:"incut__desc"},pe.description()),b.createElement("div",{className:"incut__ctrl"},b.createElement(it.a,{mods:{incut:[!0,"blue"]},label:pe.buttonSubmit(),props:{href:Object(ot.d)("huaweirussia","huawei-p20-p20-pro"),"data-c":Ht.c.clickHuaweiBanner(a)},onClick:this.sendClickCounter}))))},e}(b.Component),T()(s.prototype,"hide",[a],Object.getOwnPropertyDescriptor(s.prototype,"hide"),s.prototype),s),be=Object(x.b)()(ve),_e=function(t){var e=t.item,n=t.showComplain,r=t.itemRef;return"board"===e.entity_type?b.createElement(w.a,{boardId:e.id,showOwner:!0,showCtrl:!0,showComplain:n,itemRef:r}):"channel"!==e.entity_type&&e.entity_type?b.createElement("div",{className:"masonry__hidden",ref:r}):b.createElement(Bt.a,{channelId:e.id,showComplain:n,itemRef:r})},ye=n("o0o1"),Ce=n.n(ye),Oe=n("yXPU"),Se=n.n(Oe),we=n("lQce"),Ee=Object(we.a)("rtbBanner"),ke=n("9+Yy"),je=Object(ke.a)("rtbBanner",{}),Te=n("3oL/"),xe=n("ukm6"),Re=n("T6Rw"),Ie=n("q/UM"),De=Object(Re.a)(function(t,e){return Object(Ie.a)(t,{rtb:e})}),Pe=n("4MLz"),Le=n("iROX"),Ne=n("OYDH"),Ae=(c=Object(R.a)(),u=Object(R.a)(),l=Object(R.a)(),d=Object(R.a)(),h=Object(R.a)(),f=function(t){function e(e){var n=t.call(this,e)||this;return n.isRendered=!1,n.bannerId="bnr"+e.position,n.bannerContainerId="bnr-container"+e.position,n}v()(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.props.isClosed||!this.props.isAdvResourceBlocked?(this.removePseudoBanner(),this.props.isClosed||Te.a.pushCallback(this.loadBanner,{errorHandler:function(){t.props.dispatch(De({isAdvResourceBlocked:!0}))},src:this.props.bkContextSrc})):this.closeBanner()},n.componentDidUpdate=function(){!this.props.isClosed&&this.props.isAdvResourceBlocked&&this.closeBanner()},n.componentWillUnmount=function(){if(!this.isRendered&&!this.props.isClosed){var t=this.getPseudoContainer();if(t.querySelector("#"+this.bannerContainerId))return;var e=this.element&&this.element.cloneNode(!0);e&&this.element&&(e.style.width=this.element.clientWidth+"px",t.appendChild(e))}},n.bannerContainerRef=function(t){t&&(this.element=t)},n.removePseudoBanner=function(){var t=this.getPseudoContainer(),e=t.querySelector("#"+this.bannerContainerId);e&&t.removeChild(e)},n.getPseudoContainer=function(){var t=document.getElementById("adv-pseudo-container");return t||((t=document.createElement("div")).id="adv-pseudo-container",document.body.appendChild(t)),t},n.loadBanner=function(){var t=Se()(Ce.a.mark(function t(){var e,n,r,i,o=this;return Ce.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.props,n=e.itemId,!(r=e.cache)){t.next=20;break}if(!this.element||!r.has(n)){t.next=19;break}if(!this.element.firstChild||!this.element.firstChild.hasChildNodes()){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,r.get(n);case 8:if(!(i=t.sent)){t.next=14;break}return this.element.firstChild&&this.element.removeChild(this.element.firstChild),this.element.appendChild(i),this.isRendered=!0,t.abrupt("return");case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),console.error(t.t0);case 19:r.set(n,this.renderBannerPromise().catch(function(t){throw r&&r.delete(n),o.removePseudoBanner(),t}));case 20:case"end":return t.stop()}},t,this,[[5,16]])}));return function(){return t.apply(this,arguments)}}(),n.renderBannerPromise=function(){var t=this;return new Promise(function(e,n){var r=t.props,i=r.rtbBlockId,o=r.position,a=setTimeout(function(){n(new Le.a(t.bannerId))},1e4);Ya.Context.AdvManager.render({blockId:i,renderTo:t.bannerId,pageNumber:o+Object(Pe.a)(),async:!0,cspNonce:t.props.bkContextNonce,onRender:function(){var n=document.getElementById(t.bannerId);t.removePseudoBanner(),n&&n.hasChildNodes()&&(t.isRendered=!0,clearTimeout(a),e(n))},onHide:t.closeBanner})})},n.closeBanner=function(){var t=this.props,e=t.itemId;(0,t.dispatch)(Ee({id:e,value:{closed:!0}}))},n.render=function(){var t=this.props,e=t.itemRef,n=t.isClosed,r=t.containerClassName,i=t.teaserClassName,o=t.bannerClassName,a=t.minHeight;return b.createElement("div",{className:i,style:n?{paddingBottom:"0",borderBottom:"none"}:{},ref:e},b.createElement("div",{id:this.bannerContainerId,className:r,style:n?{minHeight:1,background:"none",visibility:"hidden"}:{minHeight:a},ref:this.bannerContainerRef},b.createElement("div",{id:this.bannerId,className:o})))},e}(b.Component),T()(f.prototype,"bannerContainerRef",[c],Object.getOwnPropertyDescriptor(f.prototype,"bannerContainerRef"),f.prototype),T()(f.prototype,"removePseudoBanner",[u],Object.getOwnPropertyDescriptor(f.prototype,"removePseudoBanner"),f.prototype),T()(f.prototype,"getPseudoContainer",[l],Object.getOwnPropertyDescriptor(f.prototype,"getPseudoContainer"),f.prototype),T()(f.prototype,"loadBanner",[d],Object.getOwnPropertyDescriptor(f.prototype,"loadBanner"),f.prototype),T()(f.prototype,"closeBanner",[h],Object.getOwnPropertyDescriptor(f.prototype,"closeBanner"),f.prototype),f),Be=Object(x.a)(function(t,e){var n=je(t,e.itemId),r=n&&n.closed,i=function(t){return Object(xe.a)(t).rtb}(t);return{isClosed:r,isAdvResourceBlocked:i&&i.isAdvResourceBlocked,bkContextSrc:Object(B.a)(t,U.d.COLLECTIONS_BK_CONTEXT_URL),bkContextNonce:Object(Ne.a)(t)}})(Ae),Me=function(t){return b.createElement(Be,g()({teaserClassName:"cl-teaser cl-teaser_card cl-teaser_fixed",containerClassName:"cl-teaser__wrap",bannerClassName:"cl-teaser__banner",minHeight:455},t))},Fe=n("wy7W"),Ue=n("hqMG"),ze=Object(x.a)(function(t,e){var n=e.id,r=e.stateKey,i=e.hasClose,o=!1,a=!0;if(n&&r&&!1!==i){var s=Object(Fe.a)(t,r,n);o=!0,a=!s||!s.incutHidden}return{close:o,visible:a}})(function(t){var e=t.title,n=t.close,r=t.visible,i=t.description,o=t.buttonLabel,a=t.onClick,s=t.mods,c=t.id,u=t.stateKey,l=t.prepend,d=t.dispatch,h=t.itemRef;return b.createElement("div",{className:Object(_.a)("incut",g()({state:r?"visible":"hidden"},s)),ref:h},b.createElement("div",{className:"incut__wrap"},n&&b.createElement("div",{className:"incut__close"},b.createElement(it.a,{className:"button_type_clear button_icon-only button_action-close",onClick:function(){d(Object(Ue.a)({id:c,stateKey:u,value:{incutHidden:!0}}))},icon:!0})),l,b.createElement("h3",{className:"incut__title"},e),b.createElement("div",{className:"incut__desc"},i),b.createElement("div",{className:"incut__ctrl"},b.createElement(it.a,{mods:{type:"action",incut:[!0,"login"]},label:o,onClick:a,icon:!0}))))}),Ve=n("t8R9"),He=Object(x.b)()(function(t,e){var n=t.itemRef,r=t.dispatch,i=e.counter;return b.createElement("div",{className:"cl-teaser",ref:n},b.createElement(ze,{title:Ve.title.r(),description:Ve.description.r(),buttonLabel:Ve.button(),onClick:function(){r(Object(at.a)({counter:i}))}}))}),We=n("o7PK"),qe=n("lv8r"),Ke=n("0MRR"),Ge=n("HgPC"),Ye=Object(x.b)(function(t){return{channelTitle:Object(We.a)(Object(qe.a)(t))}})(function(t,e){var n=t.itemRef,r=t.tag,i=t.channelTitle,o=t.coverId,a=e.counter,s=E.a,c="https://yandex.ru/znatoki/tag/"+r+"/?utm_source=collections&utm_medium=teaser",u=function(){return Ht.d.clickZnatokiBanner(g()({},a))};return b.createElement(s,{mod:"channel",picture:o?b.createElement(Ke.a,{mod:"teaser",size:"smart350",src:"https://avatars.mds.yandex.net/get-znatoki-cover/"+o+"/collections-teaser"}):void 0,footer:b.createElement(Ct.a,{mod:"channel-teaser"},b.createElement("h3",{className:"cl-teaser-info__title"},Ge.title({title:i})),b.createElement("p",{className:"cl-teaser-info__desc"},Ge.description())),invertFooter:!1,ctrl:b.createElement(it.a,{props:{href:c,target:"_blank"},mods:{type:"action",incut:[!0,"login"]},label:Ge.buttonLabel(),onClick:u}),itemRef:n,linkFactory:function(){return b.createElement("a",{href:c,className:"cl-teaser__link",onClick:u,target:"_blank"})}})}),Xe=function(t){var e,n=t.item,r=t.stateKey,i=t.options;if(n.type===S.a.CARD){var o=i||{},a=o.badgeType,s=o.showOwner,c=o.showReason,u=o.showCtrl,l=o.showDebugInfo;return b.createElement(At,{cardId:n.item.id,storeKey:r,badgeType:a,showOwner:s,showReason:c,showCtrl:u,showDebugInfo:l,itemRef:n.ref})}if(n.type===S.a.RTB_BANNER)return b.createElement(Me,{itemRef:n.ref,position:n.position,itemId:n.item.id,cache:i.cache,rtbBlockId:n.item.rtbBlockId});if(n.type===S.a.BOARD){var d=(i||{}).showOwner;return b.createElement(w.a,{boardId:n.item.id,showOwner:d,index:n.position,itemRef:n.ref})}if(n.type===S.a.CHANNEL){var h=(i||{}).showComplain;return b.createElement(Bt.a,{channelId:n.item.id,showComplain:h,itemRef:n.ref})}if(n.type===S.a.CHANNEL_BOARDS){var f=(i||{}).showComplain;return b.createElement(_e,{item:n.item,showComplain:f,itemRef:n.ref})}return n.type===S.a.EXTENSION?b.createElement(qt,{itemRef:n.ref}):n.type===S.a.AUTH?b.createElement(He,{itemRef:n.ref}):n.type===S.a.PSEUDO?b.createElement(k,{itemRef:n.ref}):n.type===S.a.HUAWEI_BANNER?b.createElement(be,{itemRef:n.ref}):n.type===S.a.ZNATOKI_BANNER?b.createElement(Ye,g()({itemRef:n.ref},n.item)):(e='Unsupported type "'+n.type+'" from store "'+n.storeKey+'"',O[e]||(O[e]=!0,console.error(e)),b.createElement("div",{className:"masonry__hidden",ref:n.ref}))};function Je(t){return t.items.map(function(t){return t.id}).join(",")}var Qe=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).latestHash=Je(e.props.column),e}v()(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(t){var e=Je(t.column);return e!==this.latestHash&&(this.latestHash=e,!0)},n.render=function(){var t=this.props,e=t.stateKey,n=t.options,r=t.column,i=t.columnsCount,o=Xe;return n&&n.Item&&(o=n.Item),b.createElement("div",{className:"masonry__column masonry__column_"+i,style:{paddingTop:r.offset+"px"}},r.items.map(function(t){return b.createElement(o,{key:t.id,item:t,stateKey:e,options:n})}))},e}(b.Component);function Ze(t){return t.map(Je).join("/")}var $e=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).latestHash=Ze(e.props.columns),e}v()(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(t){var e=Ze(t.columns);return e!==this.latestHash&&(this.latestHash=e,!0)},n.render=function(){var t=this.props,e=t.columns,n=t.columnsCount,r=C()(t,["columns","columnsCount"]);return b.createElement(b.Fragment,null,e.map(function(t,e){return b.createElement(Qe,g()({key:e,column:t,columnsCount:n},r))}))},e}(b.Component);n.d(e,"a",function(){return tn});var tn=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).latestHash=Ze(e.props.columns),e}v()(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(t){var e=this;if(["height","initColumns","more","overflow","children"].some(function(n){return t[n]!==e.props[n]}))return!0;var n=Ze(t.columns);return n!==this.latestHash&&(this.latestHash=n,!0)},n.render=function(){var t=this.props,e=t.id,n=t.overflow,r=t.stateKey,i=t.more,o=t.height,a=t.children,s=t.containerRef,c=t.columns,u=t.initColumns,l=t.options,d=void 0===l?{}:l,h=d.header,f=u?c.slice(0,u):[],p=u?c.slice(u):c,m={stateKey:r,options:d,columnsCount:c.length};return b.createElement("div",{className:Object(_.a)("masonry-wrap",{overflow:n,more:i}),id:e,ref:s},b.createElement("div",{className:"masonry-wrap__container",style:{minHeight:n?"none":o+"px",maxHeight:n?o+"px":"none"}},b.createElement("div",{className:Object(_.a)("masonry",{size:c.length})},f.length>0&&b.createElement("div",{className:Object(_.a)("masonry__wrap",{size:!!p.length&&f.length,max:!p.length})},h&&b.createElement("div",{className:"masonry__header"},h),b.createElement("div",{className:"masonry__columns"},b.createElement($e,g()({columns:f},m)))),b.createElement($e,g()({columns:p},m)))),a)},e}(b.Component)},ANKn:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("pVnL"),i=n.n(r),o=n("T6Rw"),a=n("RvyH"),s=n("q/UM"),c=Object(o.a)(function(t,e){var n=Object(a.a)(t);return n&&n.sidebarOpen===e?t:Object(s.a)(t,{layout:i()({},n,{sidebarOpen:e})})})},ASKi:function(t,e,n){t.exports=n.p+"f/a6ee.svg"},Aaw5:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var r=n("pllQ"),i=n("c+Ap");n.d(e,"c",function(){return r.retryPromise});var o=3;function a(t){var e=t.name,n=t.target,r=t.number,i=void 0===r?o:r,a=t.codes,s=t.timeout;return e||(e="retry"+n[0].toUpperCase()+n.slice(1)),function(t){var r=t.prototype[n];t.prototype[e]=function(){for(var t=this,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var c=i;return function e(){c--;try{return r.apply(t,n).catch(function(t){if(c&&(!a||a.indexOf(t.status)>-1))return s?new Promise(function(t){return setTimeout(t,s)}).then(e):e();throw t})}catch(t){return Promise.reject(t)}}()}}}function s(t){return Object(r.retryPromise)(t,i.k,i.l)}},Ahwa:function(t,e,n){"use strict";function r(t,e){void 0===e&&(e=t,t=null);var n=e.data.view;return t||(t=n&&n.options&&void 0!==n.options.content?n.options.content:this.content),"function"==typeof t?t.call(n,this):t}n.d(e,"a",function(){return r})},"Am/A":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("IWXk"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("preferences"))},AnPS:function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.pop(),i=r.router,o=r.hash,a=r.data.view,s=e.shift(),c={};e.length&&(c=e.reduce(function(t,e){return Object.assign(t,e)},{}));var u=Object.assign(c,o);if(i)return i.reverse(s,u);if(a)return a.getEnv().router.reverse(s,u);throw new Error("Cannot find view context")}n.d(e,"a",function(){return r})},"Aq/C":function(t,e,n){t.exports=n.p+"f/5eff.svg"},AwAT:function(t,e,n){t.exports=n.p+"f/7dba.svg"},B8Yn:function(t,e,n){"use strict";function r(t,e,n){return function(r,i){if(r&&i){var o=t(r,i);return o&&o[e]?n(r,o[e].id):void 0}}}n.d(e,"a",function(){return r})},BCLc:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("T6Rw"),i=n("q/UM"),o=Object(r.a)(function(t,e){return Object(i.a)(t,{currentBoard:e})})},BKHA:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("ukm6");function i(t){return Object(r.a)(t).bulk||{}}},BMkj:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({description:"Открыть коллекцию и сделать видимой для всех?",notify:"Коллекция открыта и видна всем"})},BXUJ:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("IWXk"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("is_verified"))},"BZL/":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r,i=1e4,o="img-preloader",a="-9999px",s="10px",c={};function u(t,e){var n=(void 0===e?{}:e).timeout,u=void 0===n?i:n;return new Promise(function(e,n){var i,l=new Image;function d(){clearTimeout(i),c[l.currentSrc]||((r||((r=document.createElement("div")).className=o,r.style.position="absolute",r.style.overflow="hidden",r.style.top=a,r.style.left=a,r.style.width=s,r.style.height=s),r.parentNode||document.body.appendChild(r),r).appendChild(l),c[l.currentSrc]=!0),e(l)}u>0&&(i=setTimeout(function(){return n(new Error("Image load timeout("+u+'): "'+t+'"'))},u)),l.onload=d,l.onerror=function(){n(new Error("Can't load image \""+t+'"'))},l.src=t,l.complete&&l.naturalWidth>0&&l.naturalHeight>0&&d()})}},BbqQ:function(t,e,n){"use strict";function r(){return Boolean(window.chrome&&window.chrome.webstore||window.opr)}n.d(e,"a",function(){return r})},BpHA:function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"b",function(){return c}),n.d(e,"a",function(){return u});var r,i=n("cVdW"),o="food",a="hairstyles",s="interiors",c={INCLUDE:"+",EXCLUDE:"-"},u=["ingredients","cooking_time__lte","types","cuisines","mealtime","event","diets","allergies","target","length","color","platforms","genres","rating","price","release_year","modes","age_limits"];(r={})[""]="360x270",r.header="360x270",r.square="360x270",r.rectangle="360x270",i.feedRecipes,i.feedInteriors,i.feedDiy,i.feedWeddings,i.feedBeauty,i.feedHairstyles,i.feedNature,i.feedGardening,i.feedFashion,i.feedTravel,i.feedTattoo,i.feedAuto},BrWi:function(t,e,n){"use strict";function r(t){return void 0===t&&(t=100),function(e,n,r){return{configurable:!0,enumerable:r.enumerable,get:function(){var e,i,o,a;return Object.defineProperty(this,n,{configurable:!0,enumerable:r.enumerable,value:(e=r.value.bind(this),i=t,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=this;a?(clearTimeout(o),o=setTimeout(function(){Date.now()-a>=i&&(e.apply(s,n),a=Date.now())},i-(Date.now()-a))):(e.apply(s,n),a=Date.now())})}),this[n]}}}}n.d(e,"a",function(){return r})},C0Ug:function(t,e,n){"use strict";n("yHZp");var r=n("z1sr");e.a=r.a.applyDecls()},C4oF:function(t,e,n){"use strict";n.r(e),n.d(e,"translateWrapper",function(){return u});var r,i,o=n("pVnL"),a=n.n(o),s=n("967j");function c(t,e,n){var o,a,s=t[e];if(n&&s&&n.hasOwnProperty("count")&&Array.isArray(s)&&(s=s[(o=n.count,a=s.length,0===Number(o)&&a>r?r:("string"==typeof o&&(o=Number(o.replace(" ",""))),i(o)))]),"function"==typeof s)return s(n);if(s&&s.v){if(n&&n.react)return s.r(n);if(n&&n.hvalanka)return s.h.call(n.hvalanka,n);s=s.v}return n&&s&&Object.keys(n).forEach(function(t){s=s.replace("__"+t+"__",function(){return String(n[t]||"")})}),s}function u(t){for(var e=c.bind(null,t),n=Object.keys(t),r=function(r){var i=n[r],o=c.bind(null,t,i);o.toString=o,o.r=function(t){return o(a()({react:!0},t))},o.h=function(t){return o(a()({hvalanka:this},t))},o.p=function(t){return o(a()({plain:!0},t))},e[i]=o},i=0;i<n.length;i++)r(i);return e}i=s,r=3},C9FQ:function(t,e,n){"use strict";n.d(e,"e",function(){return r}),n.d(e,"f",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"g",function(){return c}),n.d(e,"h",function(){return u}),n.d(e,"j",function(){return l}),n.d(e,"k",function(){return d}),n.d(e,"a",function(){return h});var r="is_toloker",i="onboard_done",o="include_food_preferences",a="food_prefs_quiz_done",s="food_prefs_quiz_closed",c="shown_plugin",u="shown_plugin_date",l="save_alert_shown",d="save_alert_shown_date",h="huawei_banner_shown"},CFJC:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("izju"),i=[r.a.FILM,r.a.SERIES];function o(t){return!!t&&-1!==i.indexOf(t)}},CHZ4:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("+r4z");function i(t,e){return Boolean(Object(r.a)(t)===e)}},CRez:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({moreLabel:"Докладніше",moreLabelRecipe:"Інгредієнти",moreLabelMarket:"Опис"})},CSYv:function(t,e,n){"use strict";n.d(e,"b",function(){return b}),n.d(e,"d",function(){return m}),n.d(e,"c",function(){return v}),n.d(e,"e",function(){return l}),n.d(e,"a",function(){return d});var r=n("Y+Td"),i="function"==typeof Symbol?Symbol("DI.js instance id"):"___di.js",o=/^!?([^.#]+)(\.([^#]+))?(#(.+))?$/,a=Object.keys,s=Object.assign,c=function(t,e){return Object(r.omit)(t,function(t,n){return n===e})},u=0,l=function(t,e,n){if(t&&t.then)return t.then(e,n);try{return e(t)}catch(t){return n?n(t):Promise.reject(t)}},d=function(t,e,n){if(t.some(function(t){return Boolean(t&&t.then)}))return Promise.all(t).then(e,n);try{return e(t)}catch(t){return n?n(t):Promise.reject(t)}},h=function(t){var e=t?t.match(o):null;if(!e)throw new Error("Unknown module format: "+JSON.stringify(t));var n=e[1],r=e[3],i=e[5];if("!"===t[0]){var a={reuse:n};return r&&(a.factory=r),i&&(a.update=i),a}return{parentId:t,bundleName:n,factory:r,update:i}},f=function(t,e){var n={id:t};if("string"==typeof e)s(n,h(e));else if(Object(r.isArray)(e))"object"==typeof e[0]?s(n,e[0]):s(n,h(e[0]),{dependencies:e[1]});else if(Object(r.isObject)(e))s(n,h(t),{dependencies:e});else{if("string"!=typeof t||e)throw new Error("Unknown type of dependency definition");s(n,h(t))}var i=n.dependencies;return i&&i.static&&(n.static=i.static,n.dependencies=c(i,"static")),n},p=function(t){return t.reuse?Object(r.defaults)(t,{dependencies:{}}):Object(r.defaults)(t,{factory:"factory",update:"updateDependencies",dependencies:{}})},g=function(t){if(!0===t.__esModule)return t.default?t.default:Object(r.find)(t,function(t){return Object(r.isFunction)(t)||Object(r.isObject)(t)});if("object"==typeof t){var e=Object.getOwnPropertyNames(t).map(function(e){return Object.getOwnPropertyDescriptor(t,e)}).find(function(t){return t.get});if(e)return e.get()}return t},m=function(){return function(t,e){var n=t.Module,r=t.factory,i=t.id;if(n[r])return l(n[r](e),function(t){if(!t)throw new Error('Factory "'+i+"."+r+'" return instance of '+typeof t+" type");return t});if(r&&"factory"!==r)throw new Error('Module "'+i+'" has no factory with name "'+r+'"')}},v=function(){return function(t,e){var n=t.Module,r=t.id,i=typeof n;if("function"!==i)throw new Error('Module "'+r+'" cannot be constructed, because has '+i+" type");return new n(e)}},b=function t(e){var n=void 0===e?{}:e,o=n.resolvers,b=void 0===o?[]:o,_=n.dependencies,y=void 0===_?{}:_,C=n.factories,O=void 0===C?[m(),v()]:C,S=n.definitions,w=void 0===S?function(t){var e={},n=function n(o){Object(r.forEach)(o.dependencies,function(a,s){if("object"!=typeof a||Object(r.isArray)(a)||(a=[s,a]),"string"!=typeof a||t[a]||(h(a).bundleName===a?t[a]=i(a).id:a=[a,{}]),Object(r.isArray)(a)){var c=o.id+"/"+s;t[c]=a;var u=i(c);e[u.id]=u,o.dependencies[s]=u.id,n(u)}})},i=function i(o){if(e[o])return e[o];var a,c=f(o,t[o]);if(c.reuse){var u=i(c.reuse);(c=s(Object.create(u),c)).parentId=c.id,c.dependencies=s({},u.dependencies,c.dependencies)}if(c.id!==c.parentId)if((a=t[c.parentId]?c.parentId:c.bundleName)===o)c.parentId=c.bundleName,c=p(c);else{var l=i(a);if(l.reuse){var d=i(l.reuse);c=s(Object.create(d),c)}(c=Object(r.defaults)(c,l)).parentId=a,c.bundleName=l.bundleName,c.dependencies!==l.dependencies&&(c.dependencies=s({},l.dependencies,c.dependencies),c.dependencies=Object(r.omit)(c.dependencies,function(t){return null==t})),l.static&&(c.static=s({},l.static,c.static))}else c=p(c);return n(c),e[o]=c};return a(t).forEach(i),e}(y):S,E=n.resolve,k=void 0===E?function(t){var e={};return function(n){var r=t.slice();return e[n]?e[n]:e[n]=function t(){if(r.length){var i=r.shift();return l(i(n),function(r){return r?e[n]=r:t()})}}()}}(b):E,j=n.factory,T=void 0===j?function(t){return function(e,n){var r=t.slice();return function t(){var i=r.shift();return l(i(e,n),function(e){return e||(r.length?t():void 0)})}()}}(O):j,x=[],R=function(t){return t.Module?t.Module:l(k(t.bundleName),function(e){if(!e)throw new Error('Cannot find bundle with name "'+t.bundleName+'"');return t.Module=g(e),e})},I=function(t){if("string"==typeof t)return w[t]?w[t]:w[t]=p(f(t,{}));throw new Error("Unknown module: "+JSON.stringify(t))},D=function(t,e){var n,o=I(t),a=function(t,e){var n=o.instance;return n&&n.isInstanceValid?n.isInstanceValid(e):Boolean(n)}(0,e),s=function(t,e){return!e||t.diSessionId!==e}(o,e.diSessionId)||!a;return o._progress?o._progress:o.hasOwnProperty("instance")&&o.instance&&!s?o.instance:(o._progress=l((n=[L(o,e),o.instance?null:R(o)],d(n,function(t){var n=t[0];return n.definition=o,l(o.instance&&a?o.instance:T(o,n),function(t){if(!t)throw new Error('Factory of "'+o.id+'" return instance of '+typeof t+" type");if(t[i]=o.id,o.diSessionId=e.diSessionId,Object(r.isFunction)(t[o.update])){if(s)return l(t[o.update](n),function(e){return e&&t!==e&&e instanceof t.constructor?(x.push(t),e):t})}else if(o.update&&"updateDependencies"!==o.update)throw new Error('Module "'+o.id+'" has no instance method with name "'+o.update+'"');return t})})),function(t){if(o.instance=t,o.reuse){var n=I(o.reuse);n.instance=t,n.diSessionId=e.diSessionId}return t}),l(o._progress,function(t){return o._progress=null,t},function(t){throw o._progress=null,t}))},P=function(t,e,n){void 0===n&&(n=!0);var i=n?s({},e):{};if(t){var o=Object(r.map)(t,function(t,n){return l(D(t,e),function(t){return i[n]=t})});return d(o,function(){return i})}return i},L=function(t,e){return l(P(t.dependencies,e),function(e){return t.static?s(e,t.static):e})},N=function(t,e){var n=t.instance;n&&(t.reuse?delete t.instance:(A(n,e),t.instance=null))},A=function(t,e){var n=void 0===e?{}:e,o=n.trigger,a=void 0===o||o,s=n.destroy,c=void 0===s||s;try{t[i]&&(a&&Object(r.isFunction)(t.trigger)&&t.trigger("di:destroy"),c&&Object(r.isFunction)(t.destroy)&&t.destroy(),t[i]=void 0)}catch(t){console.error(t)}},B=function(t,e){return void 0===e&&(e={}),"string"==typeof t?D(t,e):P(t,e,!1)};return B.session=function(t){void 0===t&&(t={});var e="di"+u++;t.diSessionId=e;var n,i=function(e,n){return void 0===n&&(n={}),s(n,t),B(e,n)};return i.load=i,i.close=function(t){for(Object(r.forEach)(w,function(n){var r=n.instance;!n.isPersistent&&n.diSessionId&&n.diSessionId!==e&&r&&N(n,t)});x.length;){var n=x.shift(),i=B.getInstanceDefinition(n);i&&n===i.instance||A(n,t)}},(n=B,a(n).filter(function(t){return Object(r.isFunction)(n[t])})).forEach(function(t){i[t]=B[t]}),i},B.put=function(t,e,n){var r=I(t);return s(r,{instance:e,isPersistent:!0},n),e[i]=r.id,this},B.serialize=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i={},o=Object(r.filter)(w,function(t){if(t.hasOwnProperty("instance")){var e=t.instance;return e&&Object(r.isFunction)(e.serialize)}}).map(function(t){var n=t.id,r=t.instance;return l(r.serialize.apply(r,e),function(t){return i[n]=t})});return d(o,function(){return i})},B.restore=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o=Object(r.map)(t,function(t,e){return B.restoreModule.apply(B,[e,t].concat(n))});return d(o,function(t){return t})},B.restoreModule=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=I(t);return l(R(i),function(t){var e;if(!(t=g(t)).restore)throw new Error("Cannot restore module");return l((e=t).restore.apply(e,n),function(t){return i.instance=t})})},B.getDefinitions=function(){return w},B.getDefinition=function(t){return I(t)},B.getInstanceDefinition=function(t){if(t){var e=t[i];if(e)return w[e];for(var n=a(w),r=0;r<n.length;r++){var o=n[r];if(w[o].instance===t)return w[o]}}},B.destroy=function(t){Object(r.forEach)(w,function(e){return N(e,t)})},B.annihilate=function(){B.destroy(),Object.keys(w).forEach(function(t){Object.keys(w[t]).forEach(function(e){delete w[t][e]}),delete w[t]})},B.clone=function(e){var n=(void 0===e?{}:e).cloneInstances,i=void 0!==n&&n,o={},a=[],u=function(t,e){void 0===e&&(e={});var n,r=Object.create(e);return s(r,i?t:c(t,"instance")),r.dependencies=(n=r.dependencies,s({},n)),r};return Object(r.forEach)(w,function(t,e){t.reuse?a.push({definition:t,id:e}):o[e]=u(t)}),a.forEach(function(t){var e=t.definition,n=t.id;o[n]=u(e,o[e.reuse])}),t({resolve:k,definitions:o,factory:T})},B.loadModuleBundle=function(t){return R(I(t))},B}},CUhL:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n("pVnL"),i=n.n(r),o=n("8OQS"),a=n.n(o),s=n("VbXa"),c=n.n(s),u=n("cDcd"),l=n("17x9"),d=function(t){function e(){return t.apply(this,arguments)||this}c()(e,t);var n=e.prototype;return n.getChildContext=function(){var t=this.props,e=(t.children,a()(t,["children"]));return i()({},this.context,{counter:i()({},this.context.counter,e)})},n.render=function(){return this.props.children},e}(u.PureComponent);d.displayName="Counter",d.childContextTypes={counter:l.object},d.contextTypes={counter:l.object}},CYZy:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return l});var r=n("pVnL"),i=n.n(r),o=n("wy7W"),a=function(t,e){return t[t[e="CARD"]="cards"]=e,t[t[e="BOARD"]="boards"]=e,t[t[e="CHANNEL"]="channels"]=e,t[t[e="CHANNEL_BOARDS"]="channelBoards"]=e,t[t[e="EXTENSION"]="extension"]=e,t[t[e="AUTH"]="auth"]=e,t[t[e="PSEUDO"]="pseudo"]=e,t[t[e="HUAWEI_BANNER"]="huaweiBanner"]=e,t[t[e="CHANNEL_CAROUSEL"]="channelCarousel"]=e,t[t[e="BOARDS_CAROUSEL"]="boardsCarousel"]=e,t[t[e="CHANNEL_BOARDS_CAROUSEL"]="channelBoardsCarousel"]=e,t[t[e="RTB_BANNER"]="rtbBanner"]=e,t[t[e="ZNATOKI_BANNER"]="znatokiBanner"]=e,t[t[e="BOARD_FOOTER"]="boardFooter"]=e,t[t[e="USER_RECENT"]="userRecent"]=e,t}({}),s={},c=[];function u(t,e){var n=[],r={},o=s[e.id],a={},u=e.entries.filter(Boolean),l=!o;if(u.forEach(function(e){var n,r=e.storeKey,i=e.infinite;n=e.items||(i?c:t[r]&&t[r].results),l||o.prev[r]===n||(l=!0),a[r]=n}),!l)return o.value;u.forEach(function(e){var n=e.storeKey,i=e.items,o=e.infinite;if(i)r[n]=i.slice();else if(o)r[n]=[];else{var a=t[n];a&&a.results?r[n]=a.results.slice():r[n]=[]}});for(var d,h=!0,f=1e4;h&&f--;){var p=n.length;h=!1;for(var g=0;g<u.length;g++){var m=u[g],v=m.storeKey,b=m.infinite,_=m.infiniteHash,y=m.type,C=m.start,O=m.step,S=m.autoload,w=m.options;if(r[v].length||b){if(p>=C&&(p-C)%O==0){var E=b?i()({id:"infinite-"+p+(_?"-"+_:""),index:p},w):r[v].shift(),k=y&&t.entities[y]&&t.entities[y][E.id];n.push({id:v+"/"+E.id,storeKey:v,type:y||v,item:k||E,position:p}),h=!0;break}}else if(S&&t[v]&&t[v].next&&p>=C&&(p-C)%O==0){h=!1,d=v;break}}}var j={nextStoreKey:d,result:n};return s[e.id]={prev:a,value:j},j}function l(t,e){return e.reduce(function(e,n){var r=Object(o.a)(t,n.type,n.item.id);return r&&(e[n.id]=r),e},{})}},Ckfx:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({subscribe:"Підписатися",unsubscribe:"Ви підписані",unsubscribeAction:"Відписатися"})},CmRB:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("EVdn"),i=n("LGxj"),o=n("bmsa"),a=n("E5ki"),s=n("mtHV"),c=new i.a;c.$=r,c.Model=o.a,c.Collection=a.a,c.View=s.a,c.Events=new i.a,e.b=c;var u=o.a;a.a,s.a,i.a},CsIx:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("IWXk"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("is_restricted"))},D79k:function(t,e,n){"use strict";var r=n("fNuf");e.a=r.a.applyDecls()},DBAK:function(t,e,n){t.exports=n.p+"f/26bf.gif"},DKyp:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("NFKc"),i=n("/bNA"),o=n("wBxh"),a=n("WXND"),s=n("TChA"),c={cards:function(t){return"/collections/api/cards/"+t+"/"}},u={cards:function(t,e){var n=e.dispatch,r=t.board.id;return Promise.all([n(Object(o.a)({})),n(Object(a.a)({boardId:r})),n(Object(s.a)({id:t.id}))])}},l=Object(r.a)("request",function(t,e,n){var r=e.id,o=e.storeKey,a=n.getState,s=n.dispatch,l=a().entities[o],d=l&&l[r],h=c[o];if(d&&h){var f=h(r);return t.del(f).then(function(){var t=u[o];t&&t(d,{dispatch:s})}).catch(function(t){throw i.a.showXHRMessage(t),t})}return Promise.resolve()})},DPpg:function(t,e,n){"use strict";var r=n("c+Ap"),i=n("/bNA");function o(t){return function(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];o.size<=r.N.byte&&e.push(o)}return e.length<t.length&&i.a.showImageSizeError(r.N.label),e}(function(t){for(var e=[],n=0;n<t.length;n++)(t[n].type.match(/^image\//)||""===t[n].type)&&e.push(t[n]);return e}(t))}n.d(e,"a",function(){return o})},DSRK:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("4RqY"),i=n("rreP"),o=n("7wgA"),a=n("lPPs"),s=n("/KRU"),c=n("gLBg"),u=n("IWXk"),l=Object(r.a)(function(t,e){var n=t.id,r=t.storeKey,l=e.getState,d=e.dispatch,h=l(),f=Object(s.a)(h,n);if("cards"===r&&f){var p=Object(u.a)(h,f.owner.id)||{},g=o.cardRemove.r({board_url:"https://yandex.ru"+Object(c.d)(p.login,f.slug),board_title:Object(a.a)(f)});d(Object(i.a)({message:g}))}})},DUEF:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({boardUpdated:"Зміни збережено"})},E097:function(t,e,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),o=n("9TW5").e,a=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;t.exports=r({cardSave:{v:'Картка додана до колекції «<a href="__board_url__">__board_title__</a>»',r:function(t){return i.createElement(i.Fragment,null,"Картка додана до колекції «",i.createElement("a",{href:t.board_url},t.board_title),"»")},h:function(t){return(this.isRestored?c:s)(["Картка додана до колекції «",(this.isRestored?a:o)("a","",{href:t.board_url},[t.board_title],{view:this}),"»"])}}})},E2lk:function(t,e,n){"use strict";var r=n("sDtP");e.a=r.a.applyDecls()},EC4j:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("6ga4"),s=function(t){var e=t.mods,n=t.tagName,r=t.className,s=t.label,c=t.forceLabel,u=t.labelChildren,l=t.icon,d=t.iconMods,h=t.iconRef,f=t.onClick,p=t.preventDefault,g=t.props,m=t.children,v=g&&g.href?"a":n||"button",b=i()({className:Object(a.a)("button",i()({size:"M",type:"normal"},e),r),onClick:f},g);return p&&(b["data-prevent"]="1"),o.createElement(v,b,l&&o.createElement("span",{className:Object(a.a)("button__icon",d),ref:h}),(s||c)&&o.createElement("span",{className:"button__label"},s,u),m)}},EF4d:function(t,e,n){"use strict";var r=n("PEpF");Object(r.decl)({block:"textinput",content:function(t){var e=t.children;return this.__base.apply(this,arguments).concat(e)}})},EGrl:function(t,e,n){"use strict";var r=n("ORoY");e.a=r.a.applyDecls()},EK33:function(t,e,n){t.exports=n.p+"f/1888.jpg"},Ed8H:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("n73F");function i(t){return!!t&&(t instanceof r.a?(e=t.getOwnerLogin(),n=t.getSlug()):(e=t.owner&&t.owner.login,n=t.slug),"huaweirussia"===e&&"huawei-p20-p20-pro"===n);var e,n}},EffQ:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("T6Rw"),i=n("q/UM"),o=Object(r.a)(function(t,e){return Object(i.a)(t,{searchBoards:{loading:Boolean(e)}})})},EgTM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("YFOV"),i=Object(r.a)("channels")},ElOb:function(t,e,n){"use strict";n.d(e,"g",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"a",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"f",function(){return l});var r=n("Zoo8");function i(t){return String(r.d[t]||t).replace(/s$/,"")}function o(t){return 4800*t/146097}function a(t){return 146097*t/4800}function s(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function c(t){return t<0?Math.floor(t):Math.ceil(t)}function u(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function l(t){return r.f[t]||r.f.ru||r.f[Object.keys(r.f)[0]]}},Eo2z:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("/Epz"),i=n("Wopx"),o=n("y6Xm"),a=Object(r.a)(i.a,Object(o.a)("tld","ru"))},EsBG:function(t,e,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("VbXa"),a=n.n(o),s=n("EVdn"),c=n.n(s),u=n("Y+Td"),l=n("1XU/"),d=function(){function t(){}var e=t.prototype;return e.getTestParams=function(){var t={};if(this.env){var e=this.env,n=e.testId,r=e.expConfs;n&&(t["test-id"]=n),r&&(t.exp_confs=r)}return t},e._checkCookieReset=function(t){var e=this;if(t&&!this._latestCookieUpdate){var n=this.env&&this.env.tld,r=Object(l.a)("https://passport.yandex.ru/auth/update",n);return this._latestCookieUpdate=this.sync("read",null,{url:r,insecure:!0,parseJSON:!1,xhrFields:{withCredentials:!0}}),this._latestCookieUpdate.then(function(){e._latestCookieUpdate=null}).catch(function(t){console.error(t),e._latestCookieUpdate=null})}return Promise.resolve()},e.get=function(t,e){if(e&&e.metadata){var n=Date.now(),r={_url:t},o=e&&e.data,a=e&&e.headers;return o&&(r._query=o),a&&(r._headers=a),this._get(t,e).then(function(t){return r._time=Date.now()-n,i()({},r,t)})}return this._get(t,e)},e.getJson=function(t,e){return this.get(t,e)},e._get=function(t,e){return this.sync("read",null,i()({url:t},e))},e.postData=function(t,e,n){return this.sync("create",null,i()({url:t,data:e},n))},e.post=function(t,e,n){return this.postData(t,JSON.stringify(e),i()({contentType:"application/json"},n))},e.put=function(t,e,n){return this._syncJSON("update",t,e,n)},e.patch=function(t,e,n){return this._syncJSON("patch",t,e,n)},e.del=function(t,e,n){return this._syncJSON("delete",t,e,n)},e._syncJSON=function(t,e,n,r){return this.sync(t,null,i()({url:e,data:n?JSON.stringify(n):void 0,contentType:"application/json"},r))},t}(),h=n("c+Ap"),f=n("QEzC"),p=n("Z0W1"),g=n("Wopx"),m=n("+r4z"),v=n("gLBg"),b=function(t,e){return t[t[e="yandexsearch"]="yandexsearch"]=e,t[t[e="yabrowser"]="yabrowser"]=e,t[t[e="lego"]="lego"]=e,t[t[e="plugin"]="plugin"]=e,t[t[e="collections"]="collections"]=e,t}({}),_=function(t,e){return t[t[e="touch"]="touch"]=e,t[t[e="desktop"]="desktop"]=e,t[t[e="pad"]="pad"]=e,t}({}),y=["Android","iOS"];function C(t){var e=function(t){return t.isTablet?_.pad:t.isMobile?_.touch:_.desktop}(t),n=function(t){if(y.includes(t.OSFamily))return t.OSFamily.toLocaleLowerCase()}(t);return n?e+"."+n:e}function O(t){var e=Object(p.a)(t),n=function(t){var e=Object(g.a)(t);return Object(m.a)(t)===v.a.ADD_FLOW?b.lego:e.isYandexApp?b.yandexsearch:e.isBrowserApp?b.yabrowser:e.isEmbed?b.plugin:b.collections}(t),r={source_name:n,ui:C(e)};return[b.yabrowser,b.yandexsearch].includes(n)&&(r.source_version=e.BrowserVersion),r}var S=n("0Boe");n.d(e,"a",function(){return E});var w={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"},E=function(t){function e(e){var n,r=void 0===e?{}:e,i=r.logger,o=r.env;return(n=t.call(this)||this).env=o,n.logger=i,n}a()(e,t);var n=e.prototype;return n.sync=function(t,e,n){if(e||(e={trigger:function(){}}),"read"===t){n.cache=!1!==n.cache;var r=3;return n&&"retries"in n&&(r=n.retries),this._makeRetryRequest(t,e,n,r)}return this._makeRequest(t,e,n)},n._makeRequest=function(t,e,n){var r=this;return new Promise(function(o,a){var s,c=Date.now(),l=n.success,d=n.error,p=r.logger,g=3,m=function(t){var e=t.getResponseHeader("x-csrftoken");e&&f.a.setItem("csrftoken",e)},v=function(){var o=i()({},n);if(o.headers=o.headers||{},!o.insecure){var a=f.a.getItem("csrftoken");a&&(o.headers["X-CSRFToken"]=a),r.env&&(o.headers["x-req-id"]=r.env.getRequestId(),r.env.isRobot&&(o.headers["Y-Collections-Robot"]=1))}if("read"!==t){var s=O({env:r.env,event:r.env.event}),c=o.url||Object(u.result)(e,"url");o.url=Object(S.a)(c,s)}var l=r.getTestParams();Object.keys(l).length&&r.env&&("read"===t?o.data=i()({},o.data,l):o.url=Object(S.a)(o.url,l)),r._sync(t,e,o)},b=function(t){var e=t.getResponseHeader(h.eb);e&&r._checkCookieReset(e)},_=function(){return{response:{url:s.url,method:s.method,statusCode:s.status,time:Date.now()-c}}};n.xhr=function(){return(s=new XMLHttpRequest).open=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return s.method=e[0],s.url=e[1],XMLHttpRequest.prototype.open.apply(this,e)},s},n.success=function(t,e,n){m(n),b(n),!!s&&-1===String(s.url).indexOf("/collections/counters")&&p&&p.info(_()),l&&l.call(this,t,e,n),o(t)},n.error=function(e,r,i){var o=e.status;if(m(e),b(e),201===o||!n.notHideErrorNotFound&&"delete"===t&&404===o)return n.success({},"success",e);p&&"abort"!==r&&p.error(_()),403===o&&g--?v():(d&&d.call(this,e,r,i),a(e))},v()})},n._makeRetryRequest=function(t,e,n,r){var o=this;return void 0===r&&(r=3),new Promise(function(a,s){!function c(){try{o._makeRequest(t,e,i()({},n)).then(a,function(t){r--&&t.status>=500?setTimeout(c,3e3):s(t)})}catch(t){s(t)}}()})},n._sync=function(t,e,n){var r=w[t],i=!0;"boolean"==typeof(n=n||{}).parseJSON&&(i=n.parseJSON);var o={type:r,dataType:i?"json":"text",url:n.url};if(o.url||(o.url=Object(u.result)(e,"url")),!o.url)throw new Error('A "url" property or function must be specified');null!=n.data||!e||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(n.attrs||e.toJSON(n))),"GET"!==o.type&&(o.processData=!1);var a=n.error;n.error=function(t,e,r){n.textStatus=e,n.errorThrown=r,a&&a.call(n.context,t,e,r)};var s=n.xhr=this._ajax(Object.assign(o,n));return e.trigger("request",e,s,n),s},n._ajax=function(t){return c.a.ajax(t)},e.factory=function(t){if(!this.instance){if(!t)return null;this.instance=new this(t)}return this.instance},e}(d)},EuEB:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("JxqJ"),s=n("MTjZ"),c=n("8KBr"),u=n("IWXk"),l=n("jGRQ"),d=n("ZMRC"),h=n("51KI"),f=n("prdO"),p=Object(a.a)(function(t,e){var n=e.userId,r=n?Object(u.a)(t,n):Object(s.a)(t);return{displayName:Object(c.a)(r)||""}})(function(t){var e=t.insertHref,n=void 0===e||e,r=t.userLetter,a=void 0===r||r,s=t.userId,c=t.displayName,u=o.createElement(d.a,{displayName:c,noWrapper:n,userLetter:a});return n&&(u=o.createElement(l.a,{userId:s,className:"ya-login__name"},u)),o.createElement(h.a,i()({verifiedTitle:f.userVerified()},t),u)})},Ev79:function(t,e,n){t.exports=n.p+"f/ae29.gif"},EyUQ:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("VbXa"),i=n.n(r),o=n("mdRN"),a=n("jOGB"),s=n("EVdn"),c=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.initialize=function(){this.view.$on("click",this.clickOut.bind(this))},n.clickOut=function(t){var e=s(t.target),n=this.options,r=n.ignoreDetachedNodes,i=n.includeSelf;r&&!e.closest(document).length||(i&&!e.closest(this.$el).length||!this.$(t.target).length)&&this.triggerEvent(t)},n.triggerEvent=function(t){this.view.triggerMethod(this.options.eventName,null,t)},e}(a.a);Object(o.a)({defaults:{includeSelf:!0,eventName:"clickOut",ignoreDetachedNodes:!1}})(c)},F7wz:function(t,e,n){t.exports=n.p+"f/84ac.gif"},F9NN:function(t,e,n){"use strict";var r,i,o,a,s,c=n("VbXa"),u=n.n(c),l=n("U+yc"),d=n.n(l),h=n("cDcd"),f=n("JxqJ"),p=n("LH8O"),g=n("x9gI"),m=n("MBmZ"),v=n("ICaW"),b=n("EC4j"),_=n("6ga4"),y=n("pnMn"),C=1e3,O=1e3,S=(r=Object(p.a)(),i=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={visible:Boolean(e.props.visible),iconOnly:Boolean(e.props.iconOnly)},e.showThreshold=void 0===e.props.showThreshold?C:e.props.showThreshold,e.iconThreshold=void 0===e.props.iconThreshold?O:e.props.iconThreshold,e}u()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.showThreshold||this.state.visible||this.setState({visible:!0}),(this.showThreshold||this.iconThreshold)&&this.addScrollListener()},n.componentWillUnmount=function(){this.removeScrollListener()},n.componentWillUpdate=function(t){this.props.container!==t.container&&this.removeScrollListener()},n.componentDidUpdate=function(t){t.container!==this.props.container&&(this.addScrollListener(),this.onScroll())},n.onScroll=function(){var t=this.props.container?this.props.container.scrollTop:Object(y.a)();if(0!==this.showThreshold){var e=t>this.showThreshold;e!==this.state.visible&&this.setState({visible:e})}if(0!==this.iconThreshold){var n=t>this.iconThreshold;n!==this.state.iconOnly&&this.setState({iconOnly:n})}},n.render=function(){var t,e=this.props,n=e.mod,r=e.double,i=e.children,o=e.iconOnly,a=void 0===o?this.state.iconOnly:o,s=this.state.visible;return h.createElement("div",{className:Object(_.a)("ctrl",(t={},t[n]=Boolean(n),t.state=s?"visible":"hidden",t["icon-only"]=a,t.double=r,t))},i)},n.addScrollListener=function(){(this.props.container||document).addEventListener("scroll",this.onScroll,{passive:!0,capture:!1})},n.removeScrollListener=function(){(this.props.container||document).removeEventListener("scroll",this.onScroll,!1)},e}(h.Component),d()(i.prototype,"onScroll",[r],Object.getOwnPropertyDescriptor(i.prototype,"onScroll"),i.prototype),i),w=n("V8C4");n.d(e,"a",function(){return T});var E=1.5;function k(){return document.querySelector(".layout")}var j=(o=Object(p.a)(),a=Object(p.a)(),s=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={threshold:e.props.visible?0:window.innerHeight*E,scrollableContainer:e.props.useLayout?k():null},e}u()(e,t);var n=e.prototype;return n.componentDidMount=function(){window.addEventListener("resize",this.onResize,{passive:!0,capture:!1})},n.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!1)},n.componentWillUpdate=function(t){this.props.useLayout!==t.useLayout&&this.setState({scrollableContainer:t.useLayout?k():null})},n.onResize=function(){this.setState({threshold:window.innerHeight*E})},n.render=function(){return this.props.isShown?h.createElement(S,{mod:"corner",container:this.state.scrollableContainer,visible:this.props.visible,showThreshold:this.state.threshold,iconThreshold:0},h.createElement("div",{className:"ctrl__i"},h.createElement(b.a,{mods:{ei:!0,up:!0,type:"white",shadow:!0,shape:"round","icon-only":!0},icon:!0,iconMods:{"top-24x24":!0},onClick:this.scrollToTop}))):null},n.scrollToTop=function(){w.d.clickPageUp(),this.state.scrollableContainer?this.state.scrollableContainer.scrollTop=0:window.scrollTo(0,0)},e}(h.Component),d()(s.prototype,"onResize",[o],Object.getOwnPropertyDescriptor(s.prototype,"onResize"),s.prototype),d()(s.prototype,"scrollToTop",[a],Object.getOwnPropertyDescriptor(s.prototype,"scrollToTop"),s.prototype),s),T=Object(f.a)(function(t,e){return{isShown:e.visible||Object(g.a)(t,v.d.COLLECTIONS_BUTTON_UP),useLayout:Object(m.a)(t)}})(j)},FH3s:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n("pVnL"),i=n.n(r),o=n("4RqY"),a=n("V8C4"),s=n("1WnH"),c=n("QodL"),u={boards:function(t){return{boardId:t}},cards:function(t){return{cardId:t}},comments:function(t){return{commentId:t}}},l={boards:a.d.clickBoardComplain,cards:a.d.clickCardComplain,comments:a.d.clickCommentComplain},d=Object(o.a)(function(t,e){var n=t.id,r=t.storeKey,o=t.type,a=t.counter,d=(e.di,e.getState,e.dispatch);return a=i()({},a,u[r](n)),l[r](a),d(Object(s.a)({type:"feed"===o?c.a.FEED_COMPLAIN:c.a.COMPLAIN,animationType:"modal",options:{id:n,type:o,counter:a,stateKey:r}}))})},FJTE:function(t,e,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),o=n("9TW5").e,a=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;t.exports=r({title:{v:"Знято на Huawei<br>P20 | P20 Pro",r:function(t){return i.createElement(i.Fragment,null,"Знято на Huawei",i.createElement("br",{}),"P20 | P20 Pro")},h:function(t){return(this.isRestored?c:s)(["Знято на Huawei",(this.isRestored?a:o)("br","",{},[],{view:this}),"P20 | P20 Pro"])}},description:"Колекція фото",buttonSubmit:"Переглянути",buttonHide:"Приховати",label:"Реклама"})},FPVx:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("om3R"),i=n("Q6yW"),o=n("rT8E"),a=n("Hxdx"),s=n("LyO5"),c=n("izju"),u=n("Wopx"),l=[c.a.BOOK,c.a.FILM,c.a.SERIES],d=[c.a.LINK,c.a.NEWS],h=[c.a.GEO,c.a.ORGANIZATION];function f(t,e){if(e){var n=Object(r.a)(e);if(n&&e){var c=Object(s.a)(n),f=Object(o.a)(n);if(f&&-1!==l.indexOf(f)&&t){var p=Object(u.a)(t);return c&&c.entity?p.origin+c.entity.web_search_link:""}return f&&-1!==d.indexOf(f)?Object(a.a)(n):f&&-1!==h.indexOf(f)?Object(i.a)(e):void 0}}}},"FVd+":function(t,e,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("wBxh"),l=n("S7YN"),d=n("K5nR"),h=n("dNc+"),f=n("YFOV"),p=Object(f.a)("tasks"),g=Object(d.a)({normalizer:h.h,getEntity:p}),m=n("NFKc"),v=n("qAEN"),b=n("Oaat"),_=n("c+Ap");n.d(e,"a",function(){return y});var y=Object(m.a)("request",function(){var t=c()(i.a.mark(function t(e,n,r){var o,s,c,d,h,f,p,m;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.taskId,s=n.storeKey,c=r.getState,r.di,d=r.dispatch,h=c(),f=10,!o){t.next=31;break}case 5:if(!f--){t.next=22;break}return t.prev=6,t.next=9,e.get("/collections/api/tasks/"+encodeURIComponent(o));case 9:if((p=t.sent).state===v.a.QUEUED){t.next=12;break}return t.abrupt("break",22);case 12:t.next=18;break;case 14:if(t.prev=14,t.t0=t.catch(6),t.t0.status!==_.G.NOT_FOUND){t.next=18;break}return t.abrupt("break",22);case 18:return t.next=20,Object(b.a)(1e3);case 20:t.next=5;break;case 22:if(!p||!s||p.state!==v.a.SUCCESS){t.next=29;break}if(m=h[s],d(g({id:o,value:a()({},p)})),m){t.next=27;break}throw new Error("Cannot sync empty collection");case 27:return t.next=29,d(Object(l.a)({storeKey:s,url:m._url,query:a()({},m._query,{page:1}),reset:{results:[]}}));case 29:return setTimeout(function(){d(Object(u.a)({})).catch(function(t){return console.error(t)})},1e3),t.abrupt("return",p);case 31:case"end":return t.stop()}},t,this,[[6,14]])}));return function(){return t.apply(this,arguments)}}())},Fe8d:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n("pVnL"),i=n.n(r),o=n("8OQS"),a=n.n(o),s=1e3,c=150;function u(t){return t}function l(t){return t*(2-t)}function d(t){var e=t.duration,n=void 0===e?c:e,r=a()(t,["duration"]);return function(t){var e=t.duration,n=void 0===e?s:e,r=t.ease,i=void 0===r?u:r,o=t.step;return new Promise(function(t){var e=Date.now();requestAnimationFrame(function r(){var a=(Date.now()-e)/n;a>1&&(a=1);var s=i(a);o(s),a<1?requestAnimationFrame(r):requestAnimationFrame(t)})})}(i()({duration:n,ease:l},r))}},"Ff+0":function(t,e,n){"use strict";function r(t){return t.slice(0,1).toUpperCase()+t.slice(1).toLowerCase()}n.d(e,"a",function(){return r})},FfN0:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("i7uI"),i=n("y6Xm"),o=n("RLYd"),a=Object(o.a)(r.a,Object(i.a)("subscribers_count"))},Fh3J:function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"default",function(){return g});var i=n("pVnL"),o=n.n(i),a=n("VbXa"),s=n.n(a),c=n("mdRN"),u=n("NpBQ"),l=n("/bNA"),d=n("c+Ap"),h=n("QCEX"),f=n("+LNT"),p=n("9TW5"),g=function(t){return(this&&this.isRestored?p.fr:p.f)([f.a.call(this,{close:!0,title:Object(h.a)(t.title,{hash:{title:t.titleData&&t.titleData.title},data:{view:this}}),description:t.subtitle?Object(h.a)(t.subtitle,{hash:{},data:{view:this}}):"",buttons:[{close:!0,label:"Скасувати"},{label:"Видалити",type:"action",method:this.onModelRemove.bind(this)}]})])},m=n("5GKB");n.d(e,"a",function(){return v});var v=function(t){function e(){return t.apply(this,arguments)||this}s()(e,t);var n=e.prototype;return n.initialize=function(){t.prototype.initialize.call(this)},n.onModalClick=function(e){t.prototype.onModalClick.call(this,e),e.stopPropagation()},n.onModelRemove=function(){var t=this;this.options.defaultImmediate&&this.options.defaultImmediate(),this.options.immediate&&this.options.immediate(),this.options.closeImmediate&&this.close();var e=this.options.customPromise;return(e?e.call(this.model):this.model.remove()).then(function(){t.options.complete&&t.options.complete(),t.close()}).catch(function(e){t.options.defaultOnError&&t.options.defaultOnError(),t.options.error&&t.options.error(),l.a.showXHRMessage(e)})},n.serializeData=function(){return o()({},this.model.toJSON(),this.options)},e.showImmediateRemoveCard=function(t){var n=t.model.getCard&&t.model.getCard()||t.model,r=n.getBoard();e.show(Object.assign({},{closeImmediate:!0,title:m.cardRemoveTitle,defaultImmediate:function(){return n.trigger("destroy:start")},defaultOnError:function(){setTimeout(function(){r.trigger("card:destroy:fail",n)},d.u)}},t))},e.showRemoveBoard=function(t){e.show(Object.assign({},{title:m.boardRemoveTitle,titleData:{title:t.model.getTitle()},subtitle:m.boardRemoveSubtitle,group:!0},t))},e.showRemoveFromSeries=function(t){e.show(Object.assign({},{title:m.cardRemoveSeriesTitle},t))},e.showRemoveComment=function(t){e.show(Object.assign({},{title:m.commentRemoveTitle},t))},e}(u.a);Object(c.a)({template:r,attributes:{id:"modal_remove"}})(v)},FqSg:function(t,e,n){var r={"./spinner-L-gray@2x.gif":"L3d8","./spinner-L-invert@2x.gif":"hA21","./spinner-L-normal@2x.gif":"8i7z","./spinner-M-gray@2x.gif":"Zngv","./spinner-M-invert@2x.gif":"jjJ1","./spinner-M-normal@2x.gif":"3ROj","./spinner-S-gray@2x.gif":"9svB","./spinner-S-invert@2x.gif":"Sn9x","./spinner-S-normal@2x.gif":"5p+6","./spinner-XL-gray@2x.gif":"yxf4","./spinner-XL-invert@2x.gif":"S7CM","./spinner-XL-normal@2x.gif":"KyvS","./spinner-XS-gray@2x.gif":"+Ipk","./spinner-XS-invert@2x.gif":"tvkE","./spinner-XS-normal@2x.gif":"RPZc"};function i(t){var e=o(t);return n(e)}function o(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id="FqSg"},FzJZ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("ivQ0");function i(t){return Object(r.a)(t)||"/"===t[0]&&"/"!==t[1]}},G7lA:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("VbXa"),i=n.n(r),o=n("mdRN"),a=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.initiaize=function(){this.toggled=this.options.toggled},n.toggle=function(t){t!==this.toggled&&(this.toggled=Boolean(t),this.view.triggerMethod("toggleRefresh",this.toggled))},n.onToggle=function(t){this.processEvent(t),this.toggle(!this.toggled)},n.onToggleShow=function(t){this.processEvent(t),this.toggle(!0)},n.onToggleHide=function(t){this.processEvent(t),this.toggle(!1)},n.onToggleRefresh=function(){this.options.defaultRefresh&&this.view.$el.toggle(this.toggled)},n.processEvent=function(t){t&&t.preventDefault&&this.options.preventDefault&&t.preventDefault()},e}(n("jOGB").a);Object(o.a)({defaults:{toggled:!1,includeSelf:!1,preventDefault:!0,defaultRefresh:!1}})(a)},"G7p/":function(t,e,n){"use strict";function r(t,e){var n=window.requestIdleCallback;return n?n(t,{timeout:e}):window.setTimeout(t)}n.d(e,"a",function(){return r})},G8BI:function(t,e,n){"use strict";var r=n("iIFs");e.a=r.a.applyDecls()},GFGB:function(t,e,n){"use strict";var r=n("1MlA").tooltip__close;e.a=function(t,e){return"function"==typeof r[t]?r[t](e):r[t]}},GGxO:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("izju"),i=[r.a.BOOK,r.a.FILM,r.a.SERIES];function o(t){return!!t&&-1!==i.indexOf(t)}},GWHe:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({hide:"Приховати"})},GZ4p:function(t,e,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("NFKc"),c=n("IxYx"),u=n("wjhi"),l=n("dohL"),d=n("4RqY"),h=n("Rd5j"),f=n("y144"),p=n("c+Ap");function g(t){return t.valid=t.valid.filter(function(e){var n=e.size<=p.N.byte;return n||t.invalid.push({file:e,error:v.SizeError}),n}),t}function m(t){return t.valid=t.valid.filter(function(e){var n=e.type.match(/^image\//);return n||t.invalid.push({file:e,error:v.TypeError}),n}),t}var v,b=n("OZAH");function _(t){return Object(b.a)(g,m)({valid:Array.from(t),invalid:[]})}!function(t){t[t.TypeError=0]="TypeError",t[t.SizeError=1]="SizeError"}(v||(v={}));var y=n("9NxI"),C=n("T6Rw"),O=n("7/cf"),S=Object(C.a)(function(t,e){var n=e.id,r=Object(O.b)(t);if(r&&r.content){var i=r.content;return f.a.reducer(t,{value:{content:i.filter(function(t){return t.id!==n})}})}return t}),w=n("8nDD"),E=n("ujXg"),k=n("1qWu"),j=n("U0LE"),T=n("izju"),x=Object(d.a)(function(){var t=a()(i.a.mark(function t(e,n){var r,o,s,c,u,l,d,p,g,m,b,C,x;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.files,o=e.description,s=n.getState,c=n.dispatch,(u=_(r)).invalid.length&&(l=!1,d=!1,u.invalid.forEach(function(t){t.error===v.TypeError&&(l=!0),t.error===v.SizeError&&(d=!0)}),l&&c(Object(j.b)({type:j.a.NOT_ALL,options:{loaded:u.valid.length,all:r.length}})),d&&c(Object(j.b)({type:j.a.BIG_SIZE}))),p=[],!((g=u.valid).length<1)){t.next=8;break}throw new Error("Valid cards not found");case 8:for(m=0;m<g.length;m++)b=g[m],p.push({id:Object(E.a)(),file:b,source_type:T.a.IMAGE});return C=Object(O.b)(s())||{},c(Object(f.a)({value:{content:C.content?p.concat(C.content):p,source_meta:C.source_meta||{}}})),x=p.map(function(t){var e,n=t.file,r=o||n.name.replace(/[-_]/g," ").replace(/\s+/," ").replace(/\.(png|jpg|jpeg|webp|gif)$/i,"").trim();return Object(h.b)(n).then((e=a()(i.a.mark(function e(o){var a,s,u,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.url,s=o.width,u=o.height,l={title:n.name,preview:a,url:a},C.description||c(Object(f.a)({value:{description:r}})),c(Object(y.a)({id:t.id,value:{source:l,description:r,_image_meta:{width:s,height:u}}})),e.next=6,c(Object(k.a)(t.id));case 6:return c(Object(w.a)({id:t.id})),e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})).catch(function(e){console.error(e),"dimensions"===e.type?(c(Object(j.b)({type:j.a.SMALL_DIMENSION})),c(S({id:t.id}))):(c(Object(j.b)({type:j.a.UNKNOWN})),c(Object(y.a)({id:t.id,value:{_loading:!1,_error:!0}})))})}),t.abrupt("return",Promise.all(x).then(function(t){return t.filter(Boolean)}));case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}());n.d(e,"a",function(){return R}),n.d(e,"b",function(){return I});var R="add-file",I=Object(s.a)("env",function(){var t=a()(i.a.mark(function t(e,n,r){var o,a,s,d,h;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.getState,a=r.dispatch,n&&0!==n.length){t.next=3;break}return t.abrupt("return");case 3:return s=function(){var t=o();return Object(u.a)(t)[R]},(d=function(t){var e;a(Object(c.a)(((e={})[R]=t,e)))})(!0),t.prev=6,t.next=9,a(x({files:n}));case 9:h=t.sent,t.next=16;break;case 12:throw t.prev=12,t.t0=t.catch(6),s()&&a(Object(l.a)(t.t0)),t.t0;case 16:if(!(h.length<1)){t.next=18;break}throw new Error("Valid cards not found");case 18:if(s()){t.next=20;break}return t.abrupt("return");case 20:d(!1);case 21:case"end":return t.stop()}},t,this,[[6,12]])}));return function(){return t.apply(this,arguments)}}())},GhlN:function(t,e,n){"use strict";function r(t,e,n){var r=[t];return e&&Object.keys(e).forEach(function(n){e[n]&&(r=r.concat(function t(e,n,r){return r?!0===r?[e+n]:Array.isArray(r)?[].concat.call([],r.map(function(r){return t(e,n,r)})):[e+n+"_"+r]:[]}(t+"_",n,e[n])))}),n&&r.push(n),r.join(" ")}function i(t,e){return r(t,e.hash)}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},Gium:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({title:"Розширення колекцій",text:"Щоб швидше додавати до своїх колекцій зображення з Інтернету, встановіть розширення браузера.",button:"Установити"})},Gk7b:function(t,e,n){t.exports=n.p+"f/236a.gif"},Gony:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r="https://yastatic.net/collections/_/assets/desktop";function i(t){return t.match(/^(https?|data:|\/\/)/)||0===t.indexOf(r)?t:r+"/"+t}},Gqcu:function(t,e,n){"use strict";var r=n("27WM");e.a=r.a.applyDecls()},Gxl1:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("+Ncb");function i(t,e){void 0===e&&(e=!1);var n={};if(t)for(var i=t.split("&"),o=0;o<i.length;o++){var a=i[o].split("="),s=a[0],c=a[1];s=decodeURIComponent(s);var u=Object(r.a)(c);e&&s in n?Array.isArray(n[s])?n[s].push(u):n[s]=[n[s],u]:n[s]=u}return n}},H0hN:function(t,e,n){"use strict";var r,i,o=n("o0o1"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("pVnL"),l=n.n(u),d=n("cDcd"),h=n("JxqJ"),f=n("gLBg"),p=n("V8C4"),g=n("i+Us"),m=n("l61k"),v=n("ODs8"),b=n("VbXa"),_=n.n(b),y=n("U+yc"),C=n.n(y),O=n("LH8O"),S=(r=Object(O.a)(),i=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).loading=!1,e}_()(e,t);var n=e.prototype;return n.onClick=function(){var t=c()(a.a.mark(function t(e){var n,r,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.props,r=n.preventDefault,i=n.onClick,r&&e.preventDefault(),this.loading){t.next=11;break}if(this.loading=!0,t.prev=4,!i){t.next=8;break}return t.next=8,i(e);case 8:return t.prev=8,this.loading=!1,t.finish(8);case 11:case"end":return t.stop()}},t,this,[[4,,8,11]])}));return function(){return t.apply(this,arguments)}}(),n.render=function(){var t=this,e=this.props,n=e.children,r=e.preventDefault,i={};return r&&(i={"data-trigger":"false","data-navigate":"false"}),d.createElement(d.Fragment,null,d.Children.map(n,function(e){return d.cloneElement(e,l()({},i,{onClick:t.onClick}))}))},e}(d.PureComponent),C()(i.prototype,"onClick",[r],Object.getOwnPropertyDescriptor(i.prototype,"onClick"),i.prototype),i);n.d(e,"a",function(){return w});var w=Object(h.b)(function(t,e){return e.channel?{}:Object(g.a)(t,e)})(function(t,e){var n=t.channel,r=(t.channelId,t.className),i=t.withoutTitle,o=t.onboarding,s=t.onClickSubscribe,u=t.children,h=t.dispatch,g=t.target,b=e.counter;if(!n)return null;var _=d.createElement("a",{href:Object(f.f)(n.slug),className:r,target:g,"data-c":p.c.clickChannel(l()({},b,{channelSlug:n.slug,recId:n.recommendations_id}))},!i&&(u||n.title));if(s){var y=function(){var t=c()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(Object(m.a)({id:n.id,storeKey:"channels",isSubscribed:!n.is_subscribed,counter:b}));case 2:if(!o){t.next=5;break}return t.next=5,h(Object(v.a)({onboarding:!0}));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}();return d.createElement(S,{onClick:y,preventDefault:!0},_)}return _})},H2ZY:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("pVnL"),i=n.n(r),o=n("T6Rw"),a=n("+lu/"),s=n("LiK1"),c=Object(o.a)(function(t,e){var n,r=e.key,o=e.items,c=e.next,u=e.loading,l=e.errorLoading,d=e.prepend,h=e.props,f=t[r];if(!f)return t;var p=f.results;if(o&&o.length){var g=Object(a.a)(f.results),m=Object(a.a)(o),v=f.results.map(function(t){return m[t.id]||t}),b=Object(s.a)(o,function(t){return t.id}).filter(function(t){return!g[t.id]});p=d?b.concat(v):v.concat(b)}return i()({},t,((n={})[r]=i()({},f,{next:"next"in e?c:f.next,_loading:void 0===u?f._loading:u,_errorLoading:void 0===l?f._errorLoading:l,results:p},h),n))})},H2tK:function(t,e,n){"use strict";n("TJtd");var r=n("vc5L");e.a=r.a.applyDecls()},H3QP:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("pVnL"),i=n.n(r),o=n("VbXa"),a=n.n(o),s=n("5Yhn"),c=n("mdRN"),u=n("NDfO"),l=n("N4H6"),d=n("R8S4"),h=n("vjVR"),f=function(t){function e(){return t.apply(this,arguments)||this}a()(e,t);var n=e.prototype;return n.className=function(){return Object(u.a)("textarea",["size","type","disabled","readonly","resize","scroll"],this.options)},n.onKeydown=function(t){"MSIE"===this.env.ua.BrowserName&&t.keyCode===h.c&&t.preventDefault(),!this.options.submitable||!t.ctrlKey&&!t.metaKey||10!=t.keyCode&&13!=t.keyCode||(this.ui.input.trigger("submit"),t.preventDefault())},n.onBlur=function(){t.prototype.onBlur.call(this)},n.onInput=function(){this.copyViewToModel(),this._updateClearPosition()},n.onInputDelayed=function(){setTimeout(this.onInput.bind(this))},n.onRender=function(){this._updateClearPosition()},n._getDefaultScrollOptions=function(){return this._getScrollWidth()>0?"visible":"hidden"},n._getScrollWidth=function(){return l.a.factory().getScrollWidth()},n._getClearPosition=function(){var t=this.ui.input[0];return t.clientHeight<t.scrollHeight?this._getScrollWidth():0},n._updateClearPosition=function(){this.isIntact()&&this.ui.clear.css("right",this._getClearPosition())},e}(s.a);Object(c.a)({template:d.a,ui:{input:".textarea__textarea_original",clear:".textarea__clear"},events:{"focus    @ui.input":"onFocus","blur     @ui.input":"onBlur","keydown  @ui.input":"onKeydown","keyup    @ui.input":"onInput","cut      @ui.input":"onInputDelayed","paste    @ui.input":"onInputDelayed","click    @ui.clear":"onClear"},options:i()({},s.a.prototype.options,{focusClass:"textarea_focus_yes",emptyClass:"textarea_state_empty",filledClass:"textarea_state_filled"})})(f)},HBng:function(t,e,n){"use strict";n("2apU").a.applyDecls()},"HC/e":function(t,e,n){var r=n("cDcd");function i(t){return r.createElement("svg",t,r.createElement("path",{className:"icon",d:"M22 17.8V4H9V2h15v17l-2-1.2zM5 6h15v17l-7.5-4.5L5 23V6z"}))}i.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24"},t.exports=i,i.default=i},HZC2:function(t,e,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("AHze"),s=n("++4/"),c=n("cD64"),u=n("rVhC"),l=n("Ryll"),d=n("oWpj");n.d(e,"a",function(){return h});var h=function(t){var e,n,r,h=i()({},t),f=h.options,p=h.shaker;return o.createElement(u.a,i()({Items:a.a,rum:(e=l.a.FEED,n=p.id,r=Object(d.a)(e,[l.a.REQUEST_START,l.a.REQUEST_END,l.a.PROCESSING,l.a.RENDER]),{requestStart:r.bind(null,n,l.a.REQUEST_START),requestEnd:r.bind(null,n,l.a.REQUEST_END),render:r.bind(null,n,l.a.RENDER),parse:r.bind(null,n,l.a.PROCESSING)}),initColumns:f&&f.header?2:0,grid:new s.a({coverCardHeight:c.a,xGap:c.c,xPadding:c.d,threshold:1500,xCardPadding:c.b,virtualCount:10,virtualSpaceHeight:1e4,minColumnsCount:3,maxColumnsCount:9,serverColumns:document.querySelectorAll("#"+p.id+" .masonry__column").length})},h))}},Heix:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("i1uP"),i=n("lc+m"),o=Object(r.a)(i.a,function(t){return t&&t.selected_contents?t.selected_contents.length:0})},HgPC:function(t,e,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;t.exports=r({title:function(t){return"Задавайте будь-які питання по темі «"+i(t.title)+"»."},description:"Відповідають Яндекс.Знавці",buttonLabel:"Перейти"})},Hkgn:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("6EC7"),i=n("LyO5");function o(t,e){if(!e)return r.a;var n=Object(i.a)(e);if(n&&n.thumb_height&&n.thumb_width)return Object(r.b)(t,{height:n.thumb_height,width:n.thumb_width});if(!e.content||!e.content.sizes)return r.a;var o=e.content.sizes.orig;return o?Object(r.b)(t,o):r.a}},Hnsh:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("VbXa"),i=n.n(r),o=n("jOGB"),a=n("mdRN"),s=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.initialize=function(){var t=this;this._model=this.getOption("model")||this.view.getOption("model"),this.options.dynamic&&this._model&&(this.view.listenTo(this._model,"change:type",function(){return t.onModelTypeChanged()}),this.onModelTypeChanged())},n.events=function(){return this.options.dynamic?{}:{wheel:"onScroll"}},n.onModelTypeChanged=function(){var t=this;this._control&&this._control.close(),this._model.isClosed()||(this._control=this.view.$on(window,"wheel",function(e){return t.onScroll(e)}))},n.onScroll=function(t){var e=this.$(this.options.selector);if(e[0]){e[0].contains(t.target)||t.preventDefault();var n,r=this.options.excludeTarget&&this.$(this.options.excludeTarget),i=!!r&&r.is(t.target),o=t.originalEvent.deltaY>0,a=t.originalEvent.deltaY<0;i?(n=$(t.target),(this.isScrollReachedBottom(n)&&o||this.isScrollReachedTop(n)&&a)&&(n=e)):n=e;var s=this.isScrollReachedBottom(n),c=this.isScrollReachedTop(n);(s&&o||c&&a)&&t.preventDefault()}},n.isScrollReachedBottom=function(t){var e=t[0],n=t.scrollTop();return e.scrollHeight-n-t.outerHeight()<=1},n.isScrollReachedTop=function(t){return 0===t.scrollTop()},e}(o.a);Object(a.a)({options:{dynamic:!1}})(s)},HpZU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("o/z3"),i=200;function o(t){var e=String(t).trim(),n={valid:!0};return e&&e.length>i&&(n={valid:!1,message:r.boardDescriptionLong}),n}},HtIP:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("cDcd"),i=n("6ga4"),o=n("Gony"),a=function(t){var e=t.size,a=void 0===e?"M":e,s=t.gif,c=void 0===s||s,u=t.type,l=void 0===u?"normal":u,d=a+"-"+l,h=n("/e/s")("./spinner-"+d+".gif"),f=n("FqSg")("./spinner-"+d+"@2x.gif");return r.createElement("div",{className:Object(i.a)("spinner",{size:a,gif:c,type:l})},c&&r.createElement("img",{className:"spinner__image",src:Object(o.a)(h),srcSet:Object(o.a)(f)+" 2x"}),c||r.createElement("div",{className:"spinner__circle"}))}},Hxdx:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("y6Xm"),i=n("LyO5"),o=n("/Epz"),a=Object(o.a)(i.a,Object(r.a)("url",""))},Hy4r:function(t,e,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;t.exports=r({shortMinutes:function(t){return i(t.value)+" хв."},shortHours:function(t){return i(t.value)+" г."},shortDays:[function(t){return i(t.count)+" день"},function(t){return i(t.count)+" дні"},function(t){return i(t.count)+" днів"}],shortMonths:function(t){return i(t.value)+" міс."}})},I4Ii:function(t,e,n){"use strict";function r(t){return"https://yandex.ru/collections/picture/competitions/"+encodeURIComponent(t)+"/"}n.d(e,"a",function(){return r})},ICKy:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("JxqJ"),i=n("ICaW"),o=n("x9gI"),a=n("qQ+z"),s=Object(r.a)(function(t){return{isOuterLabelHidden:Object(o.a)(t,i.d.OUTER_LINK_ICON_HIDE)}})(a.a)},ICaW:function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=function(t,e){return t[t[e="MOBILE"]=1]=e,t[t[e="DESKTOP"]=2]=e,t[t[e="MOBILE_EXT"]=4]=e,t[t[e="DESKTOP_EXT"]=8]=e,t[t[e="DESKTOP_EXT_YABRO"]=16]=e,t[t[e="ALL"]=t.MOBILE|t.DESKTOP|t.MOBILE_EXT|t.DESKTOP_EXT|t.DESKTOP_EXT_YABRO]=e,t}({}),i=function(t,e){return t[t[e="NONE"]=0]=e,t[t[e="GUEST"]=1]=e,t[t[e="RESTRICTED_USER"]=2]=e,t[t[e="USER"]=4]=e,t[t[e="TOLOKA"]=8]=e,t[t[e="YT"]=16]=e,t[t[e="ALL"]=t.GUEST|t.RESTRICTED_USER|t.USER|t.TOLOKA|t.YT]=e,t[t[e="AUTH_USER"]=t.USER|t.TOLOKA|t.YT]=e,t}({}),o=function(t,e){return t[t[e="OBJECT_ANSWER"]="object_answer"]=e,t[t[e="CARD_EDIT_CATALOG"]="card_edit_catalog"]=e,t[t[e="EXT_GUEST"]="ext_guest"]=e,t[t[e="TOUCH_CBIR_INSIDE_INPUT"]="touch_cbir_inside_input"]=e,t[t[e="GLOBAL_NOTIFICATIONS"]="global_notifications"]=e,t[t[e="YA_PLUS"]="ya_plus"]=e,t[t[e="YAPLUS"]="yaplus"]=e,t[t[e="YAPLUS_KZ"]="yaplus_kz"]=e,t[t[e="MY_OBJECTS_SEARCH"]="my_objects_search"]=e,t[t[e="COLLECTIONS_BUTTON_UP"]="collections_button_up"]=e,t[t[e="DESKTOP_RICH_SUGGEST"]="desktop_rich_suggest"]=e,t[t[e="DESKTOP_RICH_SUGGEST_MY_CARDS"]="desktop_rich_suggest_my_cards"]=e,t[t[e="DESKTOP_RICH_SUGGEST_MY_BOARDS"]="desktop_rich_suggest_my_boards"]=e,t[t[e="DESKTOP_SUGGEST_CUSTOM_URL"]="desktop_suggest_custom_url"]=e,t[t[e="DESKTOP_SUGGEST_MAX_ITEMS"]="desktop_suggest_max_items"]=e,t[t[e="DESKTOP_ADV_PORN"]="desktop_adv_porn"]=e,t[t[e="IMAGE_SOURCE"]="image_source"]=e,t[t[e="MOBILE_RICH_SUGGEST"]="mobile_rich_suggest"]=e,t[t[e="MOBILE_RICH_SUGGEST_MY_CARDS"]="mobile_rich_suggest_my_cards"]=e,t[t[e="MOBILE_RICH_SUGGEST_MY_BOARDS"]="mobile_rich_suggest_my_boards"]=e,t[t[e="MOBILE_SUGGEST_CUSTOM_URL"]="mobile_suggest_custom_url"]=e,t[t[e="MOBILE_DISABLE_FEED_INCUTS"]="mobile_disable_feed_incuts"]=e,t[t[e="MOBILE_FEED_LOAD_THRESHOLD"]="mobile_feed_load_threshold"]=e,t[t[e="MOBILE_FEED_BEST_FIT"]="mobile_feed_best_fit"]=e,t[t[e="MOBILE_FEED_SHOW_COMMENT"]="mobile_feed_show_comment"]=e,t[t[e="DESKTOP_FEED_SHOW_COMMENT"]="desktop_feed_show_comment"]=e,t[t[e="ZNATOKI_BANNER"]="znatoki_banner"]=e,t[t[e="BEAUTY_LAYOUT"]="beauty_layout"]=e,t[t[e="USER_HAT"]="user_hat"]=e,t[t[e="DISTR_ATOM_TO_BK"]="distr_atom_to_bk"]=e,t[t[e="BEAUTY_DESKTOP_INPUT_STYLES"]="beauty_desktop_input_styles"]=e,t[t[e="REPLACE_CHANNELS_WITH_BOARDS"]="replace_channels_with_boards"]=e,t[t[e="MOBILE_COLLECTION_ACTIONS_HIDDEN"]="mobile_collection_actions_hidden"]=e,t[t[e="MOBILE_FEED_TOP_BUTTON"]="mobile_feed_top_button"]=e,t[t[e="OUTER_LINK_ICON_HIDE"]="outer_link_icon_hide"]=e,t[t[e="DESKTOP_MASONRY_OWNER_VISIBLE"]="desktop_masonry_owner_visible"]=e,t[t[e="CARD_PARENT"]="card_parent"]=e,t[t[e="COLLECTIONS_NY2019"]="collections_ny2019"]=e,t[t[e="COLLECTIONS_EVENT_POPUP_START_DATE"]="collections_event_popup_start_date"]=e,t[t[e="COLLECTIONS_EVENT_POPUP_END_DATE"]="collections_event_popup_end_date"]=e,t[t[e="COLLECTIONS_DESKTOP_RTB"]="collections_desktop_rtb"]=e,t[t[e="COLLECTIONS_DESKTOP_NEW_ADV"]="collections_desktop_new_adv"]=e,t[t[e="COLLECTIONS_DESKTOP_ADV_GREY_LINK"]="collections_desktop_adv_grey_link"]=e,t[t[e="COLLECTIONS_DESKTOP_ADV_THIN_LINK"]="collections_desktop_adv_thin_link"]=e,t[t[e="COLLECTIONS_DESKTOP_ADV_BOLD_TITLE"]="collections_desktop_adv_bold_title"]=e,t[t[e="COLLECTIONS_PICTURE_TEASER_SINGLE_GRID"]="collections_picture_teaser_single_grid"]=e,t[t[e="COLLECTIONS_BRO_FEED_LANDSCAPE"]="collections_bro_feed_landscape"]=e,t[t[e="COLLECTIONS_CARDPOPUP_CLOSE"]="collections_cardpopup_close"]=e,t[t[e="COLLECTIONS_YANDEX_BUG"]="collections_yandex_bug"]=e,t[t[e="COLLECTIONS_BRO_RECENT_SYNC"]="collections_bro_recent_sync"]=e,t[t[e="COLLECTIONS_ADD_BRO_LOG"]="collections_add_bro_log"]=e,t[t[e="COLLECTIONS_TOUCH_BULK"]="collections_touch_bulk"]=e,t[t[e="LOW_NETWORK_TYPES"]="low_network_types"]=e,t[t[e="LOW_NETWORK_FEED_SIZE"]="low_network_feed_size"]=e,t[t[e="DESKTOP_RATINGS_USERS"]="desktop_rating_users"]=e,t[t[e="MOBILE_RATINGS_USERS"]="mobile_rating_users"]=e,t[t[e="DESKTOP_CARD_DIRECT_POSITION"]="desktop_card_direct_position"]=e,t[t[e="DESKTOP_CARD_DIRECT_QUERY"]="desktop_card_direct_query"]=e,t[t[e="MOBILE_RTB_FEED"]="mobile_rtb_feed"]=e,t[t[e="MOBILE_RTB_BLOCK_ID"]="mobile_rtb_block_id"]=e,t[t[e="HUAWEI_BANNER"]="huawei_banner"]=e,t[t[e="BOARDS_SEARCH"]="boards_search"]=e,t[t[e="HEADER_FAVORITES"]="header_favorites"]=e,t[t[e="HEADER_FAVORITES_TOUCH"]="header_favorites_touch"]=e,t[t[e="MOBILE_APP_REACT_FEED"]="mobile_app_react_feed"]=e,t[t[e="MOBILE_APP_RECENT_BUNDLE"]="mobile_app_recent_bundle"]=e,t[t[e="MOBILE_BRO_RECENT_BUNDLE"]="mobile_bro_recent_bundle"]=e,t[t[e="MOBILE_BRO_FEED_BUNDLE"]="mobile_bro_feed_bundle"]=e,t[t[e="COLLECTIONS_ADD_BUNDLE"]="collections_add_bundle"]=e,t[t[e="COLLECTIONS_ADD_BUNDLE_TOUCH"]="collections_add_bundle_touch"]=e,t[t[e="COLLECTIONS_BRO_ADD_BUNDLE"]="collections_bro_add_bundle"]=e,t[t[e="MOBILE_INCUT_BOARDS"]="mobile_incut_boards"]=e,t[t[e="COLLECTIONS_DESKTOP_ADD_INTERNAL"]="collections_desktop_internal_add"]=e,t[t[e="MOBILE_EXTENSION_WITHOUT_COLORWIZ"]="mobile_extension_without_colorwiz"]=e,t[t[e="COLLECTIONS_MOBILE_THE_FEED"]="collections_mobile_the_feed"]=e,t[t[e="COLLECTIONS_MASONRY_SECOND_PAGE"]="collections_masonry_second_page"]=e,t[t[e="COLLECTIONS_DESKTOP_ADD_SERIES_CONTROLS"]="collections_desktop_add_series_controls"]=e,t[t[e="COLLECTIONS_DESKTOP_ADD_RENDER"]="collections_desktop_add_render"]=e,t[t[e="COLLECTIONS_DESKTOP_ADD_EDIT"]="collections_desktop_add_edit"]=e,t[t[e="COLLECTIONS_DESKTOP_SHOW_MAKE_COVER"]="collections_desktop_show_make_cover"]=e,t[t[e="COLLECTIONS_USLUGI_TAB"]="collections_uslugi_tab"]=e,t[t[e="APPHOST_BOARD_DATA"]="apphost_board_data"]=e,t[t[e="APPHOST_CARD_DATA"]="apphost_card_data"]=e,t[t[e="TABS_ORDER_VERSION"]="tabs_order_version"]=e,t[t[e="SERVER_REQUEST_TIMEOUT"]="server_request_timeout"]=e,t[t[e="COLLECTIONS_SERVER_500"]="collections_server_500"]=e,t[t[e="FEED_API_TIMEOUT"]="feed_api_timeout"]=e,t[t[e="CRITICAL_CSS_DISABLE"]="critical_css_disable"]=e,t[t[e="CRITICAL_CSS_ONLY"]="critical_css_only"]=e,t[t[e="CRITICAL_CSS_EXTERNAL"]="critical_css_external"]=e,t[t[e="METRIKA_WEBVISOR"]="metrika_webvisor"]=e,t[t[e="DISABLE_CSP"]="disable_csp"]=e,t[t[e="DISABLE_SW"]="disable_sw"]=e,t[t[e="DISABLE_SAFARI_SW"]="disable_safari_sw"]=e,t[t[e="DISABLE_YANDEXAPP_SW"]="disable_yandexapp_sw"]=e,t[t[e="DISABLE_BRO_SW"]="disable_bro_sw"]=e,t[t[e="DISABLE_IMAGES_CSP"]="disable_images_csp"]=e,t[t[e="DESKTOP_IMAGE_LOGO_DATE"]="desktop_image_logo_date"]=e,t[t[e="UNIQUE_URLS"]="unique_urls"]=e,t[t[e="COLLECTIONS_DISABLE_XFRAME_OPTIONS"]="collections_disable_xframe_options"]=e,t[t[e="COLLECTIONS_DISABLE_DIRECT_CSP"]="collections_disable_direct_csp"]=e,t[t[e="COLLECTIONS_BK_CONTEXT_URL"]="collections_bk_context_url"]=e,t[t[e="COLLECTIONS_DISABLE_CSP_EVAL"]="collections_disable_csp_eval"]=e,t[t[e="COLLECTIONS_DISABLE_BRO_RTB"]="collections_disable_bro_rtb"]=e,t}({});e.d=o},INas:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("NuA5"),i=n("IWXk"),o=Object(r.a)("profileUser",i.a)},ITw2:function(t,e,n){"use strict";n("JSWB"),n("rkHX");var r=n("9xV8");e.a=r.a.applyDecls()},IWXk:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("YFOV"),i=Object(r.a)("users")},IfkI:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i});var r="https://awaps.yandex.ru/0/c2/TLZuSw11mBxNobY4Vjb4KG8TQUx2RH3jaaJdF63AqRbV4RY2wdW8GjHGKrrBdRCwbYa4ayXU0OJf1Odb2Dov.gif?random=",i="https://awaps.yandex.ru/1/c2/TLZuSw11mEQRjlU8lhJf+lz4Cd2A3y52kLIVDMI=.htm"},IonQ:function(t,e,n){"use strict";var r,i=n("lPPs"),o=n("/KRU"),a=n("om3R"),s=n("Jxqj"),c=n("lc+m"),u=n("y6Xm"),l=n("i1uP"),d=Object(l.a)(c.a,Object(u.a)("service")),h=n("RLYd"),f=Object(h.a)(d,Object(u.a)("updated_at")),p=n("rdt4"),g=Object(h.a)(f,function(t){if(t){var e=new p.a(t),n=new p.a;return(n.diff(e)<0?n:e).fromNow(!0,{locale:"uk"})}}),m=n("rT8E"),v=n("CsIx"),b=n("MMez"),_=n("izju"),y=n("o/z3");n.d(e,"a",function(){return O});var C=((r={})[_.a.IMAGE]=y.imageFavorites(),r[_.a.VIDEO]=y.videoFavorites(),r[_.a.FILM]=y.filmFavorites(),r[_.a.SERIES]=y.seriesFavorites(),r[_.a.LINK]=y.linkFavorites(),r[_.a.BOOK]=y.bookFavorites(),r[_.a.GEO]=y.geoFavorites(),r[_.a.ORGANIZATION]=y.organizationFavorites(),r);function O(t,e,n){var r=Object(c.a)(t,e);if(r){var u=Object(v.a)(Object(s.a)(t,e)),l=Object(a.a)(r),d=Object(m.a)(l),h=Object(o.a)(t,e),f=u?d&&C[d]||y.imageFavorites():Object(i.a)(h);return n&&n.date&&(f=g(r)||""),{title:Object(b.a)(t,e)||"",desc:f}}}},Iv6v:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("VbXa"),i=n.n(r),o=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n._constructor=function(e,n){t.prototype._constructor.call(this,e,n),this.options=n||{},this.options.request&&this.setRequestAdapter(this.options.request)},n.url=function(){return this.getId()?this.urlRoot+this.getId()+"/":this.urlRoot},n.setId=function(t){this.set(this.idAttribute,t)},n.getId=function(){return this.id},n.save=function(e,n,r){var i=this,o=this.isNew(),a=r;return null!==e&&"object"!=typeof e||(a=n),t.prototype.save.call(this,e,n,r).then(function(t){return i.trigger(o?"save:create":"save:update",a),t})},n.remove=function(e){return Promise.resolve(t.prototype.remove.call(this,Object.assign({wait:!0,dataTypes:"text"},e)))},n.expectFields=function(t){var e=this;return!this.id||t.every(function(t){for(var n=t.split("."),r=e;r&&n.length;)r=r.get(n.shift());return Boolean(r)})?Promise.resolve(this):this.fetch().then(function(){return e})},n.clone=function(){var e=this.getRequestAdapter(),n=t.prototype.clone.call(this);return n.setRequestAdapter(e),n},n.toViewJSON=function(){return t.prototype.toJSON.call(this)},n.updateDependencies=function(t){var e=t.request,n=t.env;n&&this.setEnv(n),e&&this.setRequestAdapter(e)},e.factory=function(t){return this.dataFactory(null,t)},e.dataFactory=function(t,e){return new this(t,e)},e}(n("bmsa").a)},IxYx:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("T6Rw"),i=n("pjSu"),o=n("wjhi"),a=Object(r.a)(Object(i.a)("locks",o.a))},"J+iS":function(t,e,n){t.exports=n.p+"f/6d0f.png"},J1fK:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("VbXa"),i=n.n(r),o=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.initialize=function(){var t=this.getOption("model")||this.view.model,e=this.getOption("eventName");this.listenTo(t,e,this._onEvent)},n._onEvent=function(){this.$("input, textarea").focus()},e}(n("jOGB").a)},JEEa:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("Zoo8"),i=n("ElOb"),o=function(){function t(t,e){void 0===e&&(e="milliseconds"),e=Object(i.g)(e),this.months=this.milliseconds=0,"month"===e||"year"===e?this.months=Number(t)*("month"===e?1:12):this.milliseconds=Number(t)*r.a[e],this.milliseconds+=this.months%1*r.b,this.months=Object(i.b)(this.months)}var e=t.prototype;return e.getTime=function(){return this.milliseconds+r.b*this.months},e.getParts=function(){var t=this.milliseconds,e=Object(i.b)(t/1e3),n=Object(i.b)(e/60),r=Object(i.b)(n/60),o=Object(i.b)(r/24),a=Object(i.b)(Object(i.d)(o)),s=this.months+a,c=Object(i.b)(s/12);return{ms:t%1e3,s:e%60,m:n%60,h:r%24,d:o-Object(i.a)(Object(i.e)(a)),M:s%12,y:c}},e.getAbsoluteParts=function(){var t=Math.abs(Object(i.c)(this.milliseconds)),e=Math.abs(Object(i.c)(t/1e3)),n=Math.abs(Object(i.c)(e/60)),r=Math.abs(Object(i.c)(n/60)),o=Math.abs(Object(i.c)(r/24)),a=Math.abs(this.months+Object(i.c)(Object(i.d)(o)));return{ms:t,s:e,m:n,h:r,d:o,M:a,y:Math.abs(Object(i.c)(a/12))}},e.toISOString=function(){var t=(this.milliseconds+r.b*this.months)/1e3,e=this.getParts(),n=e.s,i=e.m,o=e.h,a=e.d,s=e.M,c=e.y;return t?(t<0?"-":"")+"P"+(c?c+"Y":"")+(s?s+"M":"")+(a?a+"D":"")+(o||i||n?"T":"")+(o?o+"H":"")+(i?i+"M":"")+(n?n+"S":""):"P0D"},e.get=function(t){var e=this.getParts();if((t=Object(i.g)(t))in r.e)return e[r.e[t]];throw new Error("Unknown unit "+t)},e.humanize=function(e,n){void 0===e&&(e=!1);var o=void 0===n?{}:n,a=o.key,s=o.unit,c=o.locale,u=this.getAbsoluteParts(),l=u.s,d=u.m,h=u.h,f=u.d,p=u.M,g=u.y;s=a?s||a[0]:(a=(l<=r.c.ss?"s":l<r.c.s&&"ss")||d<=1&&"m"||d<r.c.m&&"mm"||h<=1&&"h"||h<r.c.h&&"hh"||f<=1&&"d"||f<r.c.d&&"dd"||p<=1&&"M"||p<r.c.M&&"MM"||g<=1&&"y"||"yy")[0];var m=u[r.e[Object(i.g)(s)]];return t.relativeTime(a,Math.sign(this.milliseconds+this.months)*m,e,{unit:s,locale:c})},t.relativeTime=function(t,e,n,r){void 0===n&&(n=!1);var o=void 0===r?{}:r,a=(o.unit,o.locale),s=Object(i.f)(a),c=s.relativeTime[t];return"function"==typeof c&&(c=c(e,!n,t)),!n||"ru"===a&&"s"===t||(c=s.relativeTime.past.replace("%s",function(){return c})),c=c.replace("%d",function(){return e})},t}()},JFDR:function(t,e,n){"use strict";n.d(e,"a",function(){return C});var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("JxqJ"),s=n("gLBg"),c=n("y1pN"),u=n("3lXt"),l=n("nt9X"),d=n("K7k/"),h=n("V8C4"),f=n("CsIx"),p=n("RWwA"),g=n("izju"),m=n("WLYw"),v=n("LYw3"),b=n("lPPs"),_=n("CHZ4"),y={isBrowserFavorites:1},C=Object(a.b)(function(t,e){var n=Object(u.a)(t,e.boardId);if(!n)return{};var r,i,o=t.env,a=o.isYandexApp,h=o.isYandexRecent,C=o.isMultiMordaApp,O=Object(_.a)(t,s.a.ADD_FLOW),S=Object(c.a)(t,n.id),w=Object(l.a)(S),E=Object(p.a)(n)||g.a.IMAGE,k=Object(m.a)(n);return Object(f.a)(S)?(r=Object(s.j)(E),i=Object(v.a)(E)):(r=w&&k&&Object(s.d)(w,k,h?y:void 0),i=Object(b.a)(n)),{href:r&&a&&h?Object(d.a)(r):r,title:i,target:C||h||O?"_blank":void 0,boardId:n.id,recId:n.recommendations_id}})(function(t,e){var n=t.href,r=t.title,a=t.boardId,s=t.recId,c=t.target,u=t.className,l=t.withoutTitle,d=t.children,f=e.counter;return n?o.createElement("a",{href:n,className:u,target:c,"data-c":h.c.clickBoard(i()({},f,{boardId:a,recId:s}))},!l&&(d||r)):null})},JFK0:function(t,e,n){"use strict";n("4DsO"),n("2apU");var r=n("ghMZ");e.a=r.a.applyDecls()},JTLk:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("sIh0"),i=1e3;function o(t){void 0===t&&(t=0);var e=new Date,n=e.getUTCFullYear(),o=e.getUTCMonth(),a=e.getUTCDate(),s=Math.round(t/i);return{id:"photo-of-the-day",slug:"photo-of-the-day",title:r.photoDailyTitle(),description:r.photoDailyDescription(),schedule:{submission:new Date(Date.UTC(n,o,a,18,0,s)).toISOString(),evaluation:new Date(Date.UTC(n,o,a,18,0,s)).toISOString(),conclusion:new Date(Date.UTC(n,o,a,21,0,s)).toISOString()},stats:{ballots:0}}}},JaHL:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("i1uP"),i=n("lc+m"),o=n("om3R"),a=n("rT8E"),s=Object(r.a)(i.a,function(t){var e=Object(o.a)(t);return Object(a.a)(e)})},Jait:function(t,e,n){"use strict";n("ghMZ").a.applyDecls()},JhPm:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){return t[t[e="CARD"]="card"]=e,t[t[e="BOARD"]="board"]=e,t}({})},JmCj:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("y1pN"),i=n("3lXt");function o(t,e){return{board:Object(i.a)(t,e),owner:Object(r.a)(t,e)}}},JmMj:function(t,e,n){"use strict";var r=n("cDcd"),i=n("JxqJ"),o=n("/+oc"),a=n("5gmI"),s=n("Hkgn"),c=n("kWnB"),u=n("kKIY"),l=n("lc+m"),d=n("6jw5"),h=n("rT8E"),f=n("O/ol"),p=n("TUXw"),g=n("gdZZ"),m=n("3M9W"),v=n("ol8y"),b=n("RYE9"),_=n("8fc2"),y=n("GGxO"),C=n("6/ZC"),O=n("iwIO"),S=n("ICKy"),w=n("7dCv");n.d(e,"a",function(){return E});var E=Object(i.a)(function(t,e){var n,r=e.cardId,i=e.badgeType,o=Object(l.a)(t,r),s=Object(w.a)(o);if(i===a.a.CONTEST&&t.contest){var c=Object(f.a)(t,t.contest.id),u=Object(a.b)(o,c);n=u&&u.label||void 0}return{card:o,contestLabel:n,isVideo:Object(v.a)(o),content:s}})(function(t){t.cardId;var e=t.badgeType,n=(t.preview,t.card),i=t.content,l=t.contestLabel,f=t.isVideo;if(!i||!n)return null;var v,w,E,k,j=Object(h.a)(i),T=Object(b.a)(i),x=Boolean(n.content&&n.content.length>1),R=Object(d.a)(i),I=Object(y.a)(j),D=Object(C.a)(j),P=Object(g.a)(n)||Object(m.a)(n),L=e===a.a.CONTEST,N=function(t){if(t&&t.source&&t.source.entity&&t.source.entity.kinopoisk_rating){var e=t.source.entity.kinopoisk_rating.rating_value;if("number"==typeof e)return e.toFixed(1)}}(i),A=Object(c.a)(n),B=Object(s.a)("s375",i),M=B.height/B.width,F=Object(p.a)(A,.1),U={backgroundColor:F,paddingTop:Math.round(100*M)+"%"};return L?w=l:n.market&&n.market.price?(v="market",w=Object(u.a)(n.market)):D||P?v="geo":x?(v="series",w=n.content&&n.content.length):f?R&&(v="video",w=Object(o.a)(R),E=Object(_.a)(i)?"hd":""):I?(U={backgroundColor:F},k={boxShadow:"0 15px 21px -10px "+Object(p.a)(A,.7)}):T&&(v="gif",w="gif"),r.createElement("div",{className:"cl-teaser__picture",style:U},r.createElement(O.a,{mods:{fit:!0,"teaser-card":!0},content:i,size:I?"s280":"s375",label:r.createElement(S.a,{media:f||T,mediaSize:"M",labelType:v,labelPosition:"bottom-left",labelValue:w,labelSub:E}),rating:N,style:k}))})},Jtf9:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){return t[t[e="GAME"]="VideoGame"]=e,t[t[e="GEO"]="Geo"]=e,t}({})},Jtp2:function(t,e,n){t.exports=n.p+"f/bff6.svg"},JxqJ:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("/MKj"),i=n("V8C4");function o(t){return function(e){return Object(r.a)(t)(e)}}function a(t){return function(e){return Object(r.a)(t)(Object(i.f)(e))}}},Jxqj:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("lc+m"),i=n("IWXk"),o=n("B8Yn"),a=Object(o.a)(r.a,"owner",i.a)},JztX:function(t,e,n){"use strict";var r=n("cL+7");e.a=r.a.applyDecls()},K5nR:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("pVnL"),i=n.n(r),o=n("T6Rw"),a=n("asM3");function s(t){var e=t.normalizer,n=t.getEntity;return Object(o.a)(function(t,r){var o=r.id,s=r.value,c=r.parse;if(t){var u=c?e.parse(s):s,l=i()({},n(t,o),u,{id:o}),d=e(t.entities||{},l);if(d.entities!==t.entities)return i()({},t,{entities:Object(a.a)(d.entities)})}return t})}},K6aF:function(t,e,n){"use strict";var r=n("ixsu");n.d(e,"a",function(){return r.a})},"K7k/":function(t,e,n){"use strict";function r(t){return t&&0===t.indexOf("yellowskin://")?t:(t&&0!==t.indexOf("http")&&(t=(location.origin?location.origin:"https://yandex.ru")+t),"yellowskin://?url="+encodeURIComponent(t))}n.d(e,"a",function(){return r})},K9S7:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("CSYv"),i=n("SiKM"),o={},a=0;function s(t){var e=(void 0===t?{}:t).check,n=void 0===e?[]:e,s=a++;return function(t){var e=o[s]={},a=t.prototype.idAttribute,c=t.dataFactory,u=t.prototype.parse;if(t.prototype.model){var l=t.prototype._prepareModel;t.prototype._prepareModel=function(t,e){var n=this.model;if(this._isModel(t))return t.collection||(t.collection=this),t;if(this.disableInstanceCache)return l.call(this,t,e);var r=n.getInstanceFromCache(t);return r?r.instanceCacheUpdate?r.instanceCacheUpdate(t,e):r.set(e.parse?r.parse(t):t):(r=l.call(this,t,e),n.putInstanceToCache(r)),r}}else if(t.dataFactory=function(t,e){var n=this;if(this.prototype.disableInstanceCache)return c.call(this,t,e);var i=this.getInstanceFromCache(t);return i?(i.instanceCacheUpdate&&i.instanceCacheUpdate(t,e),i):Object(r.e)(c.call(this,t,e),function(t){return n.putInstanceToCache(t)})},t.putInstanceToCache=function(t){var n=this,r=t.get(a);if(r){if(t.shouldBeCached&&!t.shouldBeCached())return t;e[r]?e[r]!==t&&console.warn("Cache collision - two equal instances: "+r,e[r],t):(e[r]=t,t.on("destroy",function(){e[r]=null}))}else t.once("change:"+a,function(){return n.putInstanceToCache(t)});return t},t.getInstanceFromCache=function(t){if(t&&t[a]){var n=t[a];if(e[n])return e[n]}},t.whereInstancesFromCache=function(t){var n=Object(i.matches)(t);return Object(i.filter)(e,function(t){return n(t.attributes)})},t.findWhereInstanceFromCache=function(t){var n=t;if("function"!=typeof n){var r=Object(i.matches)(t);n=function(t){return t&&r(t.attributes)}}return Object(i.find)(e,function(t){return t&&n(t)})},t.prototype.parse=function(t,e){var n=this.constructor.getInstanceFromCache(t);return t&&t[a]&&!n&&(this.set("id",t[a]),this.constructor.putInstanceToCache(this)),u.call(this,t,e)},n.length){var d=function(t,e){for(var n=e,r=t.split(".");n&&r.length;){var i=r.shift();n="function"==typeof n.get?n.get(i):"function"==typeof n[i]?n[i]():n[i]}return n};t.prototype.instanceCacheUpdate=function(t,e){var r=this;void 0===e&&(e={}),Object(i.values)(n).some(function(e){var n=d(e,t);if(void 0!==n&&n!==d(e,r))return!0})&&this.set(e.parse?this.parse(t):t)}}t.dropCache=function(){e=o[s]={}}}}},KGKq:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("JxqJ"),s=n("8yzE"),c=n("gLBg"),u=n("XU4g"),l=n("K7k/"),d=n("Wopx"),h={isBrowserFavorites:1,autoclose:"yes"},f={autoclose:"yes"},p=Object(a.b)(function(t,e){var n,r=Object(d.a)(t),i=r.isYandexAppMultiMorda,o=r.isYandexApp,a=r.isYandexRecent,s=r.isMultiMordaApp;a?n=h:i&&(n=f);var u=Object(c.e)(e.cardId,n);return{href:u&&(i||o&&a)?Object(l.a)(u):u,target:s||a?"_blank":void 0}})(function(t,e){var n=e.counter,r=t.className,a=t.style,c=t.disableLink,l=t.cardId,d=t.storeKey,h=t.children,f=t.dispatch,p=t.target,g=t.href;return o.createElement("a",{href:g,"data-trigger":"false","data-navigate":"false",className:r,target:p,style:a,onClick:function(t){c?(t.preventDefault(),t.stopPropagation()):Object(s.d)(t)||(t.preventDefault(),f(Object(u.a)({id:l,storeKey:d,counter:i()({},n,{cardId:l})})))}},h)})},KXxY:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({buyOnSteam:"Купити в Steam",buyOnSteamShort:"Steam.ru",gamePlatforms:"Платформи",defaultGameGenre:"Гра",gameMode:"Режим",gameReleaseYear:"Рік виходу"})},Kj4u:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("NFKc"),c=n("aKBe"),u=function(t){return"/collections/api/cards/"+encodeURIComponent(t)},l=Object(s.a)("request",function(){var t=a()(i.a.mark(function t(e,n,r){var o,a,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.cardId,r.getState,a=r.dispatch,t.next=4,e.get(u(o));case 4:return s=t.sent,a(Object(c.a)({id:o,value:s,parse:!0})),t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},Kq94:function(t,e,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),o=n("9TW5").e,a=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;t.exports=r({yandex:{v:'ООО «<a href="//yandex.ua" target="_blank" class="link link_type_minor">Яндекс</a>»',r:function(t){return i.createElement(i.Fragment,null,"ООО «",i.createElement("a",{href:"//yandex.ua",target:"_blank",className:"link link_type_minor"},"Яндекс"),"»")},h:function(t){return(this.isRestored?c:s)(["ООО «",(this.isRestored?a:o)("a","",{href:"//yandex.ua",target:"_blank",class:"link link_type_minor"},["Яндекс"],{view:this}),"»"])}},eula:"Угода користувача"})},KqGs:function(t,e,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;t.exports=r({notAll:function(t){return"Загружены только "+i(t.loaded)+" файла из "+i(t.all)+": можно загружать только картинки"},bigSize:"Слишком большая картинка. Попробуйте загрузить файл меньше 15Мб",smallDimension:"Размер картинки должен быть больше 200 × 200 пикселей",uploadWait:"Дождитесь загрузки перед сохранением",uploadError:"Не удалось загрузить изображение. Попробуйте ещё раз",uploadErrorAll:"Не удалось загрузить изображения. Вернитесь к выбору содержимого",notFound:"По этому адресу ничего не найдено",smallDimensionFound:"Найденные по этому адресу картинки меньше 200 × 200 пикселей",selectCards:"Выберите картинки, которые вы хотите сохранить в коллекцию",selectedLimit:"В серию можно добавить не больше 10 картинок",invalidUrl:"Неверный формат ссылки",unknown:"Ошибка",updated:"Зміни збережено"})},KyvS:function(t,e,n){t.exports=n.p+"f/0336.gif"},L3d8:function(t,e,n){t.exports=n.p+"f/d1e3.gif"},L9DS:function(t,e,n){"use strict";function r(){window.close()}n.d(e,"a",function(){return r})},LH8O:function(t,e,n){"use strict";function r(){return function(t,e,n){return{configurable:!0,enumerable:n.enumerable,get:function(){return Object.defineProperty(this,e,{configurable:!0,enumerable:n.enumerable,value:n.value.bind(this)}),this[e]}}}}n.d(e,"a",function(){return r})},LPNN:function(t,e,n){t.exports=n.p+"f/08b6.gif"},LYkV:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({image:"Зображення",video:"Відео",film:"Фільм",series:"Серіал",link:"Посилання"})},LYw3:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r,i=n("izju"),o=n("o/z3"),a=((r={})[i.a.IMAGE]=o.imageFavorites,r[i.a.VIDEO]=o.videoFavorites,r[i.a.FILM]=o.filmFavorites,r[i.a.SERIES]=o.seriesFavorites,r[i.a.LINK]=o.linkFavorites,r[i.a.BOOK]=o.bookFavorites,r[i.a.GEO]=o.geoFavorites,r[i.a.ORGANIZATION]=o.organizationFavorites,r);function s(t){var e=a[i.a.IMAGE]();if(t&&t in i.a){var n=a[t];if("function"==typeof n)return n()}return console.error("cannot get favorites title for: ",t),e}},LiK1:function(t,e,n){"use strict";function r(t,e){for(var n=t.map(e),r=[],i=[],o=t.length,a=0;a<o;++a){var s=n[a];-1===r.indexOf(s)&&(r.push(s),i.push(t[a]))}return i}n.d(e,"a",function(){return r})},LyO5:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("y6Xm"),i=Object(r.a)("source")},"M/L7":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r="ei_guide_",i="guest";function o(t){return void 0===t&&(t=i),r+t}},M0rp:function(t,e,n){"use strict";var r=n("gaTx");e.a=r.a.applyDecls()},M6fM:function(t,e,n){"use strict";var r=n("Faot");e.a=r.a.applyDecls()},M740:function(t,e,n){"use strict";function r(t,e){var n=t&&t[e];if(n&&n._query)return n._query}n.d(e,"a",function(){return r})},M7vq:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"default",function(){return Br});var i={};n.r(i),n.d(i,"default",function(){return Pa});var o={};n.r(o),n.d(o,"default",function(){return Ha});var a={};n.r(a),n.d(a,"default",function(){return yl});var s={};n.r(s),n.d(s,"default",function(){return Gl});var c={};n.r(c),n.d(c,"default",function(){return gd});var u={};n.r(u),n.d(u,"default",function(){return Ed});var l={};n.r(l),n.d(l,"default",function(){return Nd});var d={};n.r(d),n.d(d,"BaseState",function(){return k}),n.d(d,"BaseTitle",function(){return N}),n.d(d,"Boards",function(){return A.a}),n.d(d,"Card",function(){return B.a}),n.d(d,"CardComments",function(){return q}),n.d(d,"CardPopupState",function(){return wt}),n.d(d,"Cards",function(){return vt.a}),n.d(d,"CatalogOrganizationsSuggestSource",function(){return jt}),n.d(d,"CatalogToponymsSuggestSource",function(){return xt}),n.d(d,"ClientAppHost",function(){return Rt}),n.d(d,"ClientApplication",function(){return Yt}),n.d(d,"ClientEnv",function(){return he}),n.d(d,"ClientLogger",function(){return pe}),n.d(d,"ClientLoggerWriter",function(){return ge}),n.d(d,"ClientRequest",function(){return me.a}),n.d(d,"ClientResponse",function(){return be}),n.d(d,"ClientRouter",function(){return un}),n.d(d,"CountersCenter",function(){return rt.a}),n.d(d,"CurrentUserState",function(){return hn}),n.d(d,"DesktopBasePage",function(){return Fr}),n.d(d,"DesktopHeaderWrapper",function(){return La}),n.d(d,"DesktopLayout",function(){return Ud}),n.d(d,"DesktopPluginLayout",function(){return Gd}),n.d(d,"DesktopReactVerticalSearchHeader",function(){return ef}),n.d(d,"DesktopSidebar",function(){return of}),n.d(d,"ExtBannerState",function(){return af}),n.d(d,"HintState",function(){return uf}),n.d(d,"ImagesSearchState",function(){return lf}),n.d(d,"InternetCards",function(){return df.a}),n.d(d,"InternetImagesState",function(){return ff}),n.d(d,"MetaState",function(){return Uf}),n.d(d,"Metrika",function(){return qf}),n.d(d,"NotificationCenter",function(){return Ge.a}),n.d(d,"ObjectAnswerSuggestSource",function(){return Kf}),n.d(d,"PageVisibilityState",function(){return Gf}),n.d(d,"Planner",function(){return Qf}),n.d(d,"PluginMessageBus",function(){return ep}),n.d(d,"Redux",function(){return np}),n.d(d,"ReduxState",function(){return Cp}),n.d(d,"RouterState",function(){return Sp}),n.d(d,"SidebarState",function(){return Ep}),n.d(d,"Translate",function(){return kp}),n.d(d,"User",function(){return ds.a}),n.d(d,"YandexImagesSuggestSource",function(){return jp});var h={};n.r(h),n.d(h,"resolvers",function(){return Pp}),n.d(h,"routes",function(){return Lp}),n.d(h,"aliases",function(){return Np}),n.d(h,"layouts",function(){return Ap}),n.d(h,"dependencies",function(){return Bp}),n("2X17"),n("4Xqd");var f=n("SiKM");function p(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(void 0,[this].concat(n))}}String.prototype.trim||(String.prototype.trim=p(f.trim)),Array.prototype.some||(Array.prototype.some=p(f.some)),Array.prototype.every||(Array.prototype.every=p(f.every)),Array.prototype.find||(Array.prototype.find=p(f.find)),Array.prototype.includes||(Array.prototype.includes=function(t){return this.indexOf(t)>-1}),String.prototype.includes||(String.prototype.includes=function(t){return this.indexOf(t)>-1});var g=n("CSYv"),m=n("V3+z");function v(t,e){var n=t,r=Object.assign({c:Date.now()},e);n+="?"+Object.keys(r).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(r[t])}).join("&"),(new Image).src=n}n("idzK"),n("eJ/D"),n("886R");var b=!0,_=function(t){return function(e,n){var r=e.id,i=e.Module,o=e.reuse;if(b){var a=t[r];if(!a&&o&&(a=t[o]),a){if(!i.restore)throw new Error("Cannot restore "+r);return i.restore(a,n)}}}};window.history&&"scrollRestoration"in window.history&&-1===location.href.indexOf("/collections/bro/recent")&&(window.history.scrollRestoration="manual");var y=n("pllQ"),C=n("VbXa"),O=n.n(C),S=n("Iv6v"),w=n("mdRN"),E=n("gLBg"),k=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.setIsWhitePage=function(t){this.set("isWhitePage",t)},n.isWhitePage=function(){return this.get("isWhitePage")},n.setOverflow=function(t){this.set("overflow",t)},n.isOverflow=function(){return this.get("overflow")},n.setPopup=function(t){this.set("popup",t)},n.isPopup=function(){return this.get("popup")},n.setInvertFooter=function(t){this.set("invertFooter",t)},n.isInvertFooter=function(){return this.get("invertFooter")},n.setCurrentUser=function(t){this.set("currentUser",t)},n.getCurrentUser=function(){return this.get("currentUser")},n.getCurrentUserLogin=function(){return this.getCurrentUser().getLogin()},n.setRouterState=function(t){this.set("routerState",t)},n.getRouterState=function(){return this.get("routerState")},n.setCardPopupState=function(t){this.set("cardPopupState",t)},n.getCardPopupState=function(){return this.get("cardPopupState")},n.setSwipeState=function(t){this.set("swipeState",t)},n.isPageInAction=function(){return this.get("pageInAction")},n.setPageInAction=function(t){this.set("pageInAction",t)},n.setFiltersWidth=function(t){this.set("filtersWidth",t)},n.getFiltersWidth=function(){return this.get("filtersWidth")},n.isCategoryLayout=function(){return this.get("categoryLayout")},n.setCategoryLayout=function(t){this.set("categoryLayout",t)},n.isAuthorized=function(){var t=this.getCurrentUser();return Boolean(t&&t.isAuthorized())},n.openCardPopup=function(t,e,n){return this.getCardPopupState().openCardPopup(t,e,n)},n.prerenderCardPopup=function(t,e,n){return this.getCardPopupState().openCardPopup(t,e,Object.assign({},n,{prerender:!0}))},n.openPrerenderedCardPopup=function(){this.getCardPopupState().continueOpenCardPopup()},n.cleanPrerenderedCardPopup=function(){this.getCardPopupState().setCard(null)},n.setAction=function(t){this.set("currentAction",t)},n.isInAction=function(t){return this.get("currentAction")===t},n.releaseAction=function(){this.set("currentAction",null)},n.setCardsOverflown=function(t){this.set("cardsOverflown",t)},n.isCardsOverflown=function(){return this.get("cardsOverflown")},n.hasCgModelVersion=function(){return void 0!==this.get("cgModelVersion")},n.setCgModelVersion=function(t){this.set("cgModelVersion",t)},n.getChannel=function(){return this.get("channel")},n.setChannel=function(t){this.set("channel",t)},n.isFloatingCollapsed=function(){return this.get("floatingCollapsed")},n.setFloatingCollapsed=function(t){this.set("floatingCollapsed",t)},n.onBoardClick=function(t){return this.getRouterState().navigateToBoard(t)},n.updateDependencies=function(t){var e=t.env,n=t.routerState,r=t.currentUser,i=t.cardPopupState,o=t.swipeState,a=(t.channel,t.event),s=a.name,c=a.query,u=c.cg_model_version,l=c.torec;this.setEnv(e),this.setChannel(null),this.setRouterState(n),this.setCardPopupState(i),this.setIsWhitePage(!1),this.setCurrentUser(r),this.setSwipeState(o),this.setCgModelVersion(u),this.setCategoryLayout(!1),o&&o.setCardState(i),"card"===s&&l&&this.setAction("scrollToSimilar"),this.setCardsOverflown(!1),this.trigger("route:update")},e}(S.a);Object(w.a)({defaults:{isWhitePage:!1,invertFooter:!1,showFooter:!0,navigation:!1,overflow:!1,popup:!1,pageInAction:!1,categoryLayout:!1,floatingExpanded:!1}})(k);var j,T,x,R=n("U+yc"),I=n.n(R),D=n("jOGB"),P=n("k/eQ"),L=n("9EtG"),N=(j=Object(P.a)(),T=Object(P.a)(),x=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){this.listenTo(this.options.cardPopupState,"change:card",this.onCardChange),this.listenTo(this.options.notificationCenter,"board:update",this.onBoardChange)},n.onCardChange=function(t,e,n){void 0===n&&(n={}),n.silentClose||this.safeRender()},n.onBoardChange=function(){this.safeRender()},n.updateDependencies=function(t){var e=t.metaState;this.metaState=e},n.render=function(){document.title=Object(L.a)(this.metaState.getTitle())},n.onReady=function(){this.render()},e}(D.c),I()(x.prototype,"onCardChange",[j],Object.getOwnPropertyDescriptor(x.prototype,"onCardChange"),x.prototype),I()(x.prototype,"onBoardChange",[T],Object.getOwnPropertyDescriptor(x.prototype,"onBoardChange"),x.prototype),x);Object(w.a)({tagName:"title"})(N);var A=n("j3kT"),B=n("cX81"),M=n("j3NW"),F=n("nSPF"),U=n("c+Ap"),z=n("/bNA"),V=n("aKBe"),H=n("lQce"),W=Object(H.a)("cards"),q=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(e,n){var r=this;t.prototype.initialize.call(this,e,n),this.on("remove",function(t,e,n){n&&n.preventRemoveHandler||z.a.onCardCommentRemove(t),r.getCard().removeCommentStat()}),this.on("remove add",function(){var t=this.getCard();t&&this.isFullyLoaded()&&this.getEnv().dispatch(Object(V.a)({id:t.id,value:{last_comment:this.isEmpty()?void 0:this.last().toViewJSON()}})),t&&this.getEnv().dispatch(W({id:t.id,value:{comments:[]}})),t.fetch().catch(function(t){return console.error(t)})}),this.on("add",this.increaseCommentsCounter),this.on("remove",this.decreaseCommentsCounter),n&&n.globalSync&&this.listenTo(z.a,"card:comment:remove",function(t){r.remove(t,{preventRemoveHandler:!0})}),this.commentsOnPage=U.r},n.setCard=function(t){this.card=t,this.fetchParams["card.id"]=t.getId()},n.getCard=function(){return this.card},n.createComment=function(){var t=this,e=this.getCard(),n=new F.a({card_id:e.id,card:e},{request:this.getRequestAdapter()});return this.listenToOnce(n,"sync",function(){e.addCommentStat(),t.add(n)}),n},n.updateComments=function(){return this.iteratorReset(this.fetchParams)},n.updateDependenciesForCard=function(t){var n=t.request,r=t.card;if(this.updateDependencies({request:n}),!r)return this;if(this.getCard()&&this.getCard()!==r){var i=new e;return i.updateDependenciesForCard({card:r,request:n}),i}this.fetchParams={"card.id":r.id,page_size:U.s,sort:"-id"},this.setInitialLoad(!0),this.setCard(r)},n.setCommentsOnPage=function(t){t>=0&&(this.commentsOnPage=t)},n.getCommentsOnPage=function(){return this.commentsOnPage},n.setInitialLoad=function(t){this.initialLoad=t},n.isInitialLoad=function(){return this.getCount()>U.r&&Boolean(this.initialLoad)},n.fetchWithCurrentParams=function(){return this.iteratorReset(this.fetchParams)},n.decreaseCommentsCounter=function(){var t=this.getCount(),e=this.getCommentsOnPage();this.setCount(t-1),1===e&&t>=0?(this.setCommentsOnPage(U.r),t>=0&&t<=this.getCommentsOnPage()&&(this.setInitialLoad(!1),this.setFullyLoaded()),this.trigger("reset")):this.setCommentsOnPage(e-1)},n.increaseCommentsCounter=function(){this.setCount(this.getCount()+1),this.setCommentsOnPage(this.getCommentsOnPage()+1)},n.fetchNext=function(){return this.isInitialLoad()?(this.setInitialLoad(!1),this.setCommentsOnPage(this.getCount()),this.trigger("pagination:fake:fetch"),Promise.resolve(this)):t.prototype.fetchNext.call(this)},n.comparator=function(t){return t.getCreatedDate().getTime()},e}(M.a);Object(w.a)({url:"/collections/api/comments/",model:F.a})(q);var K=n("pVnL"),G=n.n(K),Y=n("EVdn"),X=n.n(Y),J=n("o0o1"),Q=n.n(J),Z=n("yXPU"),$=n.n(Z),tt=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.onSaveSuccess=function(){var t=this.getType();this.get(t).setComplaint(this),this.isHideOnly()?z.a.showComplaintHideMessage():z.a.showComplaintMessage()},n.setHideOnly=function(t){this._hideOnly=t},n.isHideOnly=function(){return Boolean(this._hideOnly)},e}(n("qz1P").a),et=n("t0kG"),nt=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.getCard=function(){return this.get("card")},n.setCard=function(t,e){this.set("card",t,e)},n.getCards=function(){return this.get("cards")},n.setCards=function(t){this.set("cards",t)},n.getSelectedSeriesContent=function(){if(this.hasCard())return this.getCard().getFirstContent()},n.hasCard=function(){return Boolean(this.getCard())},n.getShowAllIngredients=function(){return this.get("showAllIngredients")},n.setShowAllIngredients=function(t){this.set("showAllIngredients",t)},n.isCurrentCardComplained=function(){var t=this.getCard();return Boolean(t&&t.getComplaint())},n.isCurrentCardBanned=function(){var t=this.getCard();return Boolean(t&&t.isBanned())},n.isCardVisible=function(){return!this.isCurrentCardBanned()&&!this.isCurrentCardComplained()},n.isCardPrivate=function(){var t=this.getCard(),e=t&&t.getBoard();return!!e&&e.isPrivate()},n.isSeriesOpen=function(){return this.get("seriesOpen")},n.setSeriesOpen=function(t,e){this.set("seriesOpen",t,e)},n.updateSeriesMetaData=function(t){this.trigger("update:series:meta",t)},n.setCardZoomed=function(t){this.set("cardZoomed",Boolean(t))},n.isCardZoomed=function(){return Boolean(this.get("cardZoomed"))},n.isMyCard=function(){var t=this.options.env.currentUser,e=this.getCard();return!!e&&t.isAuthorized()&&e.getOwnerLogin()===t.getLogin()},n.isWishFulfilled=function(){var t=this.getCard();return Boolean(t&&t.isWishFulfilled())},n.isLiked=function(){var t=this.getCard();return Boolean(t&&t.isLiked())},n.getLikesCount=function(){var t=this.getCard();return t?t.getLikesCount():0},n.getComplaint=function(t){var e=t.card,n=void 0===e?this.getCard():e,r=t.board,i=void 0===r?this.getBoard():r;return new tt({card:n,board:i,type:U.o.CARD},{request:this.getRequestAdapter()})},n.removeCardFromFeed=function(t){t=t||this.getCard();var e=this.getCards();t&&e&&(e.remove(t),this.stopListening(t)),this.getEnv().invokeStrategy(et.a.CardRemoveFromFeedToReduxStrategy,{card:t}).catch(function(t){return console.error(t)})},n.unsubscribeCardUser=function(t){var e=t.getOwner();if(this.removeCardFromFeed(t),e)return e.toggleSubscription()},n.unsubscribeCardCollection=function(t){var e=t.getBoard();if(this.removeCardFromFeed(t),e)return e.toggleSubscription()},n.hasRestrictedOwner=function(){var t=this.getCard();return!!t&&t.hasRestrictedOwner()},e}(S.a),rt=n("RQkB"),it=n("V8C4");function ot(t){var e=t.replace(/:\s*"([^"]*)"/g,function(t,e){return': "'+e.replace(/:/g,"@colon@")+'"'}).replace(/:\s*'([^']*)'/g,function(t,e){return': "'+e.replace(/:/g,"@colon@")+'"'}).replace(/(['"])?([a-z0-9A-Z_]+)(['"])?\s*:/g,'"$2": ').replace(/@colon@/g,":");return JSON.parse(e)}var at=n("Y+Td");function st(t){return t?function(t){return Object(at.get)(t,"premium.ads",[])}(t).map(function(e){var n=e.url,r=e.title,i=e.body,o=e.domain,a=e.age,s=e.warning,c=e.linkTail,u=t.common.linkHead;return{url:n,title:Object(L.a)(r),text:Object(L.a)(i),domain:o,age:a,warning:s,link_tail:c,link_head:u}}):[]}function ct(t,e){return new Promise(function(n,r){Object(Y.get)({dataType:"jsonp",jsonpCallback:void 0,crossDomain:!0,url:t,data:e}).then(n,r)})}var ut="https://bs.yandex.ru/page/";function lt(){return function(){return $()(Q.a.mark(function t(e,n){var r,i,o,a,s,c,u,l,d;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.tld,i=e.regionId,o=e.text,a=e.pageId,void 0===n&&(n=ct),s="collections.yandex."+r,c=o.replace(/ /g,"+"),2===(u=String(a).split("-")).length&&(a=u[0],l=u[1]),t.next=8,n(ut+a,{"target-ref":s,charset:"utf-8","tune-region-id":i,text:c,"imp-id":l});case 8:return d=t.sent,t.abrupt("return",st(ot(d)));case 10:case"end":return t.stop()}},t,this)})).apply(this,arguments)}.apply(this,arguments)}var dt=n("ICaW"),ht=n("UJ4k"),ft=n("ANKn"),pt=n("+POQ"),gt=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).adsCache={},e.adsCachePromise={},e}O()(e,t);var n=e.prototype;return n.initialize=function(){var t=this;this.trackLogger=Object(pt.a)(),this.on("change:cardEdited",function(){return t.setCardTouched(!1)}),this.on("change:cardEdited",function(){var e=t.getEnv();if(e){var n=e.getState(),r=t.isCardEdited();n&&(n.ui&&n.ui.layout&&n.ui.layout.sidebarOpen)!==r&&e.dispatch(Object(ft.a)(r))}})},n.getCardAdverts=function(t){if(t&&t.id)return this.adsCache[t.id]},n.fetchCardAdverts=function(){var t=$()(Q.a.mark(function t(e){var n,r,i,o;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e&&e.id){t.next=3;break}return t.abrupt("return",Promise.resolve(void 0));case 3:if(!this.getCardAdverts(e)){t.next=5;break}return t.abrupt("return",Promise.resolve(this.getCardAdverts(e)));case 5:return(n=this.adsCachePromise[e.id])||(r=this.getEnv(),i=[r.hasFeature(dt.d.DESKTOP_CARD_DIRECT_QUERY)?e.getBoardTitle():"",r.hasFeature(dt.d.DESKTOP_CARD_DIRECT_QUERY,2)?e.getDescription():""].filter(Boolean).join(" "),n=lt({tld:r.tld,regionId:r.regionId,pageId:270533,text:i}),this.adsCachePromise[e.id]=n),t.next=9,n;case 9:return o=t.sent,this.adsCachePromise[e.id]=void 0,this.adsCache[e.id]=o,this.trigger("card:ads:loaded",e),t.abrupt("return",o);case 16:t.prev=16,t.t0=t.catch(0),console.error(t.t0);case 19:case"end":return t.stop()}},t,this,[[0,16]])}));return function(){return t.apply(this,arguments)}}(),n.createCurrentCardClone=function(t){if(t||this.hasCard()){var e=t||this.getCard();return this.setCurrentCardClone(e.clone()),this.getCurrentCardClone()}},n.setCurrentCardClone=function(t){this._cardClone&&this._cardClone.stopListening(),this._cardClone=t},n.getCurrentCardClone=function(){return this._cardClone},n.setCard=function(t,e){var n=this,r=Promise.resolve();if(this.getCard()!==t){this.getCard()&&this.stopListening(this.getCard()),this.set("card",t,e),this.setShowAllIngredients(!1),this.listenTo(t,{"change:complaint":this.onCardComplained,all:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return n.trigger.apply(n,["card:"+t].concat(r))},"destroy:start":this.onCardDestroyStart});var i=this.getSidebarState();i&&i.setVisibilityMode(t?U.m.LAYOUT:U.m.NORMAL),t?this.selectFirstContentInSeries():this.setSelectedSeriesContent(null),this.setSeriesOpen(!1);var o=this.getEnv();o&&e&&e.updateReduxCard&&(r=o.invokeStrategy(et.a.CardSetCurrentCardToReduxStrategy,{card:t,stateKey:e.stateKey}).catch(function(t){return console.error(t)}))}return t&&this.setBoard(t.getBoard()),this.setCurrentCardClone(null),r},n.shouldShowNav=function(){if(!this.hasCard())return!1;var t=this.getCard(),e=this.getCards(),n=t.isVirtual(),r=e&&e.indexOf(t)>=0;return!n||r},n.makeSureSelectedContent=function(){this.getSelectedSeriesContent()||this.selectFirstContentInSeries()},n.selectFirstContentInSeries=function(t){var e=this.getCard();e&&this.setSelectedSeriesContent(e.getFirstContent(),t)},n.setSelectedSeriesContent=function(t,e){this.set("selectedSeriesContent",t,e)},n.getSelectedSeriesContent=function(){return this.get("selectedSeriesContent")},n.isSelectedContentPresent=function(){return Boolean(this.getSelectedSeriesContent())},n.isSeriesAddState=function(){return this.hasCard()&&this.isCardEdited()&&!this.isSelectedContentPresent()},n.fetchContentsFromFiles=function(t){if(this.hasCard())return this._createContents(this.getEnv().invokeStrategy(et.a.CardsFetchFromFilesStrategy,{files:t}))},n._createContents=function(t){var e=this,n=(this.getCurrentCardClone()||this.getCard()).getContent();return t.then(function(t){return t=Object(f.compact)(t),Promise.all(t.map(function(t){var r=t.getFirstContent(),i=r.getSource(),o=i.isDataImage(),a=i.getUrl();return n.add(r),e.getEnv().invokeStrategy(et.a.CardCreateContentStrategy,{content:r}).then(function(t){return o&&t.setFallbackUrl(a),t}).catch(function(t){n.remove(r),z.a.showXHRMessage(t)})}))})},n.fetchCardsFromQuery=function(t){var e=this,n=this.getInternetImagesState(),r=this.getInternetCards(),i=t;if(r&&r.reset(),t){if(/^https?:\/\/yandex.[a-z]{2,6}\/images/.test(t)){var o=this.getRouterState().getRouter().buildQuery(t);o.text&&(i=o.text)}return n.setUrl(i),n.fetchImages().then(function(t){e.setInternetCards(t)})}return Promise.resolve(this.getInternetCards())},n.toggleCardContentToSeries=function(t){var e=(this.getCurrentCardClone()||this.getCard()).getContent(),n=t.getFirstContent();return e.get(n.id)?(e.remove(n.id),{toggled:!1,promise:Promise.resolve(!1)}):(e.add(n),{toggled:!0,promise:this.getEnv().invokeStrategy(et.a.CardCreateContentStrategy,{content:n}).then(function(t){var e=t.getSource().getUrl();return t.setFallbackUrl(e),!0}).catch(function(t){return e.remove(n),z.a.showXHRMessage(t),!1})})},n.setInternetImagesState=function(t){this.set("internetImagesState",t)},n.getInternetImagesState=function(){return this.get("internetImagesState")},n.setInternetCards=function(t){this.set("internetCards",t)},n.getInternetCards=function(){return this.get("internetCards")},n.setCardEdited=function(t){this.set("cardEdited",Boolean(t))},n.setCardTouched=function(t){this.set("cardTouched",Boolean(t))},n.isCardEdited=function(){return Boolean(this.get("cardEdited"))},n.isCardTouched=function(){return Boolean(this.get("cardTouched"))},n.setCards=function(t){this.set("cards",t),t&&t.length?this.trigger("cards:update"):this.resetTrackObjects()},n.onCardComplained=function(){},n.onCardDestroyStart=function(){var t=this.getCard();if(t){var e=t.getBoard();this.closeCard(),e.trigger("card:destroy:start",t)}},n.getBoard=function(){return this.get("board")},n.setBoard=function(t){var e=this.getBoard();e&&t&&e.id===t.id||(t&&t.setRequestAdapter(this.getRequestAdapter()),this.set("board",t))},n.setRouterState=function(t){this.set("routerState",t)},n.getRouterState=function(){return this.get("routerState")},n.getInitialPointEvent=function(){return this._initialPointEvent},n.setInitialPointEvent=function(t){this._initialPointEvent=t},n.setSidebarState=function(t){this.set("sidebarState",t)},n.getSidebarState=function(){return this.get("sidebarState")},n.setSimilarCards=function(t){this.set("similarCards",t)},n.getSimilarCards=function(){return this.get("similarCards")},n.setBoardCards=function(t){this.set("boardCards",t)},n.getBoardCards=function(){return this.get("boardCards")},n.setComments=function(t){this.set("comments",t)},n.getComments=function(){return this.get("comments")},n.setCommentId=function(t){this.set("commentId",t)},n.getCommentId=function(){return this.get("commentId")},n.isVoting=function(){return Boolean(this.get("voting"))},n.openCardPopup=function(){var t=$()(Q.a.mark(function t(e,n,r){var i,o,a;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===r&&(r={}),!this.getSidebarState().hasCardContent()){t.next=4;break}return t.abrupt("return");case 4:if(!e){t.next=21;break}return(i=this.getEnv()).reduxState&&i.dispatch(Object(ht.a)({hidePopup:!0})),o=this.getRouterState(),this.lastOptions=r.permanent?r:{},this.hasCard()||this.setInitialPointEvent(o.getRouter().getLastEvent()),o.isSearchPage()&&this.trackClick(e.getClickUrl()),a=null===this.getCard(),n&&(this.conterData=r.counter,this.setCards(n.clone())),this.openCardPopupByType(e,r),this.set("voting",r.isVoting),this.setAutoplay(a),t.next=18,this.fetchCardAdverts(e);case 18:return t.next=20,this.setCard(e,{prerender:Boolean(r.prerender),stateKey:r.stateKey,updateReduxCard:!0});case 20:r.prerender||this.trackObjects(e);case 21:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.closeCard=function(){var t=this.getRouterState(),e=t.getRouter(),n=this.getInitialPointEvent(),r=this.getCard(),i=this.getCards(),o={manualAction:!0};if(i&&i.get(r)&&i.scrollToCard(r),this._silentTitleClose&&(o.silentClose=this._silentTitleClose,this._silentTitleClose=null),o.updateReduxCard=!0,this.set("voting",!1),this.setCard(null,o),n&&"card"!==n.name){var a=!this.hasContext();e.navigateToReverse(n.name,Object.assign({},n.params,n.query),{trigger:!a}),a&&rt.a.sendAccess({delayed:!0,metrika:!0,pageName:n.name})}else t.navigateToCardOrigin(r)},n.getNextCard=function(t){var e=this;return void 0===t&&(t=1),new Promise(function(n,r){var i=e.getCards(),o=e.getCard();if(o&&i){var a=i.indexOf(o);if(a>=0){var s=a+t;return s<0?i.isFullyLoaded()?n(i.last()):n():i.length>s?n(i.at(s)):i.length<s+1&&!i.isFullyLoaded()?i.fetchNext().then(function(){return n(i.at(s))}):e.isVoting()?n():n(i.first())}return e._rightId&&1===t?n(i.get(e._rightId)):e._leftId&&-1===t?n(i.get(e._leftId)):e.isVoting()?n():n(i.first())}r()}).then(function(t){return e.fetchCardAdverts(t),t})},n.setMoveCount=function(t){this.set("moveCount",t)},n.incrementMoveCount=function(){var t=this.getMoveCount()+1;this.setMoveCount(t)},n.decrementMoveCount=function(){var t=this.getCards(),e=this.getMoveCount()-1;t&&e<=-t.length&&(e=0),this.setMoveCount(e)},n.getMoveCount=function(){return this.get("moveCount")},n.getArrowCards=function(){var t=this,e=this.getNextCard(1),n=this.getNextCard(-1);return Promise.all([n,e]).then(function(e){var n=e[0],r=e[1];return t._leftId=n&&n.id,t._rightId=r&&r.id,{left:n,right:r}}).catch(function(t){throw console.error(t),t})},n.nextCard=function(t){return void 0===t&&(t=1),this.incrementMoveCount(),this.openCardByDirection(t)},n.previousCard=function(t){return void 0===t&&(t=-1),this.decrementMoveCount(),this.openCardByDirection(t)},n.openCardByDirection=function(t){var e=this;return void 0===t&&(t=1),this.getNextCard(t).then(function(n){return n&&rt.a.sendCounter(it.a.showCard,{type:"arrow",dir:t>0?"next":"prev",cardId:n.id}),e.openCardPopup(n,null,e.lastOptions),n})},n.hasPageableCards=function(){var t=this.getCards();return!!t&&t.length>1},n.editSeriesRemove=function(){var t=this.getSelectedSeriesContent(),e=this.getCurrentCardClone();return e&&e.getContent().remove(t.id),Promise.resolve(t)},n.updateSimilarCards=function(){var t=this,e=this.getCard(),n=this.getSimilarCards();if(e&&e.id)return n.fetchBySimilarTo(e).then(function(e){t.setSimilarCards(e)})},n.abortSimilarCardsRequest=function(){var t=this.getSimilarCards();t&&t.abort()},n.setContext=function(t){this.set("context",t)},n.getContext=function(){return this.get("context")},n.hasContext=function(){return Boolean(this.getContext())},n.updateInitialPointEvent=function(t,e){void 0===e&&(e={}),this.setInitialPointEvent(t),e.silentTitleClose&&(this._silentTitleClose=e.silentTitleClose)},n.trackObjects=function(t){if(t&&t.id){rt.a.sendAccess({delayed:!0,metrika:!0,pageName:"card"});var e=this.conterData||{},n={loc:"cardPopup",feedSessionId:e.feedSessionId,cardsSessionId:e.cardsSessionId},r=this.getEnv(),i=r&&r.pageState,o=i&&i.getWindowWidth()||320,a=i&&i.getWindowHeight()||1/0,s=0,c=0,u=t.getFirstContent();if(u){var l=u.getFitImageInfo(o-576,a-176);s=l.width,c=l.height}this.trackLogger.track([{x:0,y:0,w:s,h:c,item:{id:t.id,item:t.toJSON(),type:"",storeKey:"currentCardPopup",position:0}}],n)}},n.resetTrackObjects=function(){this.trackLogger.reset(),this.conterData=void 0},n.updateDependencies=function(){var t=$()(Q.a.mark(function t(e){var n,r,i,o,a,s,c,u,l,d,h,f,p,g,m;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.card,r=e.request,i=e.routerState,o=e.sidebarState,a=e.similarCards,s=e.boardCards,c=e.comments,u=e.internetImagesState,l=e.env,d=e.event.query,h=d.commentId,f=d.context,p=e.updateReduxCard,g=void 0===p||p,this.setRouterState(i),this.setRequestAdapter(r),this.setSidebarState(o),this.setMoveCount(0),this.setCardEdited(!1),this.setCardZoomed(!1),this.setSimilarCards(a),this.setBoardCards(s),this.setComments(c),this.setCommentId(h),this.setInternetImagesState(u),!n||!n.id){t.next=18;break}return this.fetchCardAdverts(n),t.next=16,this.setCard(n,{updateReduxCard:g});case 16:t.next=20;break;case 18:return t.next=20,this.setCard(null,{updateReduxCard:g});case 20:if(this.setContext(null),!f){t.next=27;break}return t.next=24,l.invokeStrategy(et.a.CardContextStrategy,{state:this,router:i.getRouter(),context:f,request:r});case 24:return(m=t.sent)&&this.setCards(m),t.abrupt("return",this);case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.factoryFromCard=function(t){var n=t.card,r=t.cards,i=new e({},{env:t.env});return n||(n=r.at(0)),i.setCard(n),i.setCards(r),i.setRequestAdapter(r.getRequestAdapter()),i},e}(nt);Object(w.a)({defaults:{moveCount:0,seriesOpen:!1}})(gt);var mt,vt=n("v4Hp"),bt=n("cJ2g"),_t=n("PSoe"),yt=n("N98e"),Ct=n("L9DS"),Ot=n("iROX"),St=n("+wVo"),wt=Object(w.a)(bt.a)(mt=Object(w.a)({defaults:G()({},gt.prototype.defaults,{autoplay:!1,scrollTop:0,isScrolling:!1,historySimilarCards:[]})})(mt=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(e,n){var r=this;t.prototype.initialize.call(this,e,n),this.on("change:scrollTop",this.onChangeScrollTop),n.pluginMessageBus&&n.pluginMessageBus.read(_t.e.SHARE_PAGE,function(){r.getSidebarState().onShareOrMove(r.getCard())})},n.setHistorySimilarCard=function(t){this.set("historySimilarCards",t)},n.getHistorySimilarCard=function(){return this.get("historySimilarCards")},n.addHistorySimilarCard=function(t){var e=this.getHistorySimilarCard();e.push(t),this.setHistorySimilarCard(e)},n.removeHistorySimilarCard=function(){return this.getHistorySimilarCard().pop()},n.setAutoplay=function(t){this.set("autoplay",t)},n.isAutoplay=function(){return this.get("autoplay")},n.continueOpenCardPopup=function(){var t=this.getCard();t&&(this.trackObjects(t),this.trigger("open:card",this,t),this.navigateByType(t))},n.trackClick=function(t){t&&X.a.get("https://clck.yandex.ru/click/dtype="+t)},n.navigateByType=function(t,e){if(void 0===e&&(e={}),!e.prerender){var n=this.getRouterState(),r=this.getCards(),i=Object.assign({trigger:!1,localState:{cardsFetchParams:r&&r.fetchParams,cardsUrl:r&&r.url}},e);n.navigateToCard(t,i)}},n.openCardPopupByType=function(t,e){void 0===e&&(e={}),e.skipNavigate||this.navigateByType(t,e),this.updateComments(t),this.setCardEdited(!1),this.setCardZoomed(!1)},n.updateComments=function(t){var e=new q;e.updateDependenciesForCard({request:this.getRequestAdapter(),card:t}),this.setComments(e)},n.openCardPopupWithDefaults=function(t,e){var n=this;void 0===e&&(e={});var r=this.getRequestAdapter(),i=vt.a.factory({request:r}),o=t.getBoard(),a=t.isWishFulfilled()?U.mb:U.lb;o&&o.isWishlist()&&(e.wish=a);var s=null;return e.cardsFetchParams?(e.cardsUrl&&(i.url=e.cardsUrl),s=i.fetchWithOptions(e.cardsFetchParams)):t.isVirtual()?s=Promise.resolve():o.isDefault()?(i.reset(),s=Promise.resolve()):s=i.fetchByBoard(o.id,e),s.then(function(){n.openCardPopup(t,i,e)})},n.openCardPopupById=function(t,e){var n=this;void 0===e&&(e={});var r=this.getRequestAdapter(),i=B.a.dataFactory({id:t},{request:r});if(i.getComplaint()||i.isBanned())throw new Ot.f("Card not found");return i.isFilled()?this.openCardPopupWithDefaults(i,e):i.fetch({parse:!0}).then(function(){return n.openCardPopupWithDefaults(i,e)})},n.onReady=function(){this.isRestorated?this.trigger("update"):this.isRestorated=!0},n.saveCard=function(){var t=this,e=this.options.env,n=this.getCard(),r=this.getEditProxy();return(n.hasContests()&&r.getContent().length>1?Object(yt.a)(e,n):Promise.resolve(!0)).then(function(i){if(i)return e.invokeStrategy(et.a.CardEditStrategy,{card:n,source:r}).then(function(){t.setCardEdited(!1),t.makeSureSelectedContent()})})},n.setEditProxy=function(t){this.set("editProxy",t)},n.getEditProxy=function(){return this.get("editProxy")},n.closeCard=function(){var e,n=this,r=this.getEnv();!function(t){return 1===history.length&&(t.isYandexApp||t.isBrowserApp)}(r)&&"yes"!==((e=r.getState())&&Object(St.a)(e,"autoclose"))?t.prototype.closeCard.call(this):(Object(Ct.a)(),setTimeout(function(){t.prototype.closeCard.call(n)},1e3))},n.updateDependencies=function(e){return t.prototype.updateDependencies.call(this,e)},e}(gt))||mt)||mt,Et={lang:"ru_RU",fullpath:1,v:9};function kt(t){var e=t.results.map(function(t){return{id:(e=t.uri,(String(e).match(/[?&]oid=([^&]+)/)||[])[1]),text:t.text,distance:t.distance,subtitle:t.subtitle.text};var e}).filter(function(t){return t.id}).sort(function(t,e){return(t.distance&&t.distance.value||1/0)-(e.distance&&e.distance.value||1/0)}).reduce(function(t,e){return t[e.text]=(t[e.text]||[]).concat(e),t},{}),n=[];return Object.keys(e).forEach(function(t){var r=e[t];r.length>1?r.forEach(function(t){var e,r=(e=t.subtitle,String(e).replace(/^.*·\s*/,""));n.push({id:t.id,text:r?t.text+" ("+r+")":t.text})}):n.push({id:r[0].id,text:r[0].text})}),n}var jt=function(){function t(t){var e=t.env,n=t.toponym;this.yu=e.cookies.yandexuid||"",this.toponym=n}var e=t.prototype;return e.filterBy=function(t){return(t=String(t).trim()).length<=1?[]:ct("https://suggest-maps.yandex.ru/suggest-geo",Object.assign({yu:this.yu,part:t,search_type:"all",ll:this.toponym.get("ll")},Et)).then(kt)},e.setToponym=function(t){this.toponym=t},t}();function Tt(t){var e=(String(t).match(/[?&]ll=([^&]+)/)||[])[1];if(e)return decodeURIComponent(e)}var xt=function(){function t(t){var e=t.env;this.yu=e.cookies.yandexuid||""}return t.prototype.filterBy=function(t){return(t=String(t).trim()).length<=1?[]:ct("https://suggest-maps.yandex.ru/suggest-geo",Object.assign({yu:this.yu,part:t,bases:"geo"},Et)).then(function(t){return t.results.map(function(t){return{ll:Tt(t.uri),text:t.text}}).filter(function(t){return t.ll})})},t}(),Rt=function(){function t(t){var e=t.request;this.request=e}return t.prototype.fetch=function(){var t=$()(Q.a.mark(function t(e){return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.route!==E.a.OFFLINE&&e.route!==E.a.NOT_FOUND){t.next=2;break}return t.abrupt("return",{event:e});case 2:return t.abrupt("return",this.request.get("/collections/web-api/aggregate",{data:G()({route:e.route},e.query)}));case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}(),It=!1,Dt=1e3;function Pt(t){It||(It=!document.body.classList.contains("page_critical")),It?t():setTimeout(function(){return Pt(t)},Dt)}var Lt=n("xriV"),Nt="__patched__",At={info:U.K.INFO,warn:U.K.WARN,error:U.K.ERROR};function Bt(){return function(){return $()(Q.a.mark(function t(e,n,r,i){return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("errorLogger");case 2:t.sent[n](r,i);case 4:case"end":return t.stop()}},t,this)})).apply(this,arguments)}.apply(this,arguments)}function Mt(t,e){return Bt(t,U.K.ERROR,e)}function Ft(t){var e=t.di;window.onerror=function(t,n,r,i,o){var a=Object(Lt.a)(o);a.source={file:n,line:r,column:i},a.error=G()({},a.error,{message:t}),Mt(e,a)},window.addEventListener("unhandledrejection",function(t){t.preventDefault(),Mt(e,t.reason)}),window.addEventListener("rejectionhandled",function(t){t.preventDefault(),Mt(e,t.reason)}),function(t){Object.keys(At).forEach(function(e){!function(t,e,n){if(!t[e][Nt]){var r=n(t[e]);r[Nt]=!0,t[e]=r}}(console,e,function(n){return console["_"+e]=n,function(t,e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(i[0]instanceof Error)t(U.K.ERROR,Object(Lt.a)(i[0]),{logToConsole:!1});else if("string"==typeof i[0]){var a={name:"console",message:i[0],stack:(new Error).stack};t(n,a,{logToConsole:!1})}return e.apply(console,i)}}(t,n,At[e])})})}(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bt.apply(void 0,[e].concat(n))})}var Ut=n("+r4z"),zt=[dt.d.DISABLE_SW,dt.d.DISABLE_SAFARI_SW,dt.d.DISABLE_YANDEXAPP_SW,dt.d.DISABLE_BRO_SW];function Vt(t){t.disableSW||(zt.some(function(e){return t.hasFeature(e)})?navigator.serviceWorker&&navigator.serviceWorker.getRegistration&&navigator.serviceWorker.getRegistration("/collections/").then(function(t){t&&t.unregister()}):n("dJh7")(function(){var e;e=t.getState(),Object(Ut.a)(e)}))}var Ht,Wt,qt=n("LH8O");n("hY4P"),n("okbb"),n("NsM5");var Kt,Gt,Yt=(Ht=Object(qt.a)(),Wt=function(){function t(t){var e=t.di,n=t.config,r=t.isOffline,i=t.isNotFound;this.di=e,this.config=n,this.isOffline=r,this.isNotFound=i,window.addEventListener("online",this.updateOnlineStatus),window.addEventListener("offline",this.updateOnlineStatus)}var e=t.prototype;return e.updateOnlineStatus=function(){var t=$()(Q.a.mark(function t(){var e,n;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!navigator.onLine){t.next=4;break}z.a.hidePersistentOfflineMessage(),t.next=9;break;case 4:return t.next=6,this.di("env");case 6:e=t.sent,n=e&&e.router&&e.router.getLastEvent(),e&&n&&n.name===E.a.ADD_FLOW||z.a.showPersistentOfflineMessage();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.start=function(){var t=$()(Q.a.mark(function t(){return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,new Promise(function(t){return Pt(t)});case 4:return t.next=7,this.restore();case 7:return t.next=10,this.di("env");case 10:Vt(t.sent),window.Ya&&Ya.Rum&&Ya.Rum.sendTimeMark("3036"),this.updateOnlineStatus(),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1),Mt(this.di,t.t0);case 21:case"end":return t.stop()}},t,this,[[1,18]])}));return function(){return t.apply(this,arguments)}}(),e.restore=function(){var t=$()(Q.a.mark(function t(){var e,n,r,i,o,a;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.config,n=e.routes,r=e.restoreData,i={di:this.di,routes:n,aliases:this.config.aliases,layouts:this.config.layouts,restoreData:r},Ft({di:this.di}),t.next=5,this.di("router",i);case 5:if((o=t.sent).bindListeners(),a=this.isNotFound||this.isOffline?o.match(o.reverse(this.isOffline?E.a.OFFLINE:E.a.NOT_FOUND)):o.matchCurrentUrl(),!this.isOffline){t.next=13;break}return a.then(function(){v("/collections/web-api/client-metrics/",{target:"client-offline-render-success"})},function(t){console.error(t),v("/collections/web-api/client-metrics/",{target:"client-offline-render-fail"})}),t.next=12,a;case 12:return t.abrupt("return",o.matchCurrentUrl({offlineRestoration:0}));case 13:return t.abrupt("return",a);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}(),I()(Wt.prototype,"updateOnlineStatus",[Ht],Object.getOwnPropertyDescriptor(Wt.prototype,"updateOnlineStatus"),Wt.prototype),Wt),Xt=n("W8MJ"),Jt=n.n(Xt),Qt=n("PJYZ"),Zt=n.n(Qt),$t=n("LGxj"),te=n("YU6D"),ee=n("riXN"),ne=n("NFKc"),re=Object(ne.a)("env",function(t,e,n){var r=n.getState,i=(n.dispatch,n.setState),o=r(),a=o&&o.env;i(G()({},o,{env:G()({},a,{timeDelta:t.timeDelta||0,tld:t.tld,language:t.language,host:t.host,region:t.regionId,logos:t.logos,query:a&&a.query?a.query:t.event.query,isRobot:t.isRobot,isTablet:t.isTablet,isEmbed:t.isEmbed,isBrowserApp:t.isBrowserApp,isMultiMordaApp:t.isMultiMordaApp,isBrowserFavorites:t.isBrowserFavorites,isNativeAppPage:t.isNativeAppPage,isYandexBroWebView:t.isYandexBroWebView,isYandexApp:t.isYandexApp,isYandexAppMultiMorda:t.isYandexAppMultiMorda,isYandexRecent:t.isYandexRecent,hideHeader:t.hideHeader,requestId:t.getRequestId(),windowWidth:t.getWindowWidth(),windowHeight:t.getWindowHeight(),pixelRatio:t.getPixelRatio(),network:t.network},{},{loginUrl:ee.a.authUrl({env:t}),logoutUrl:ee.a.logoutUrl({env:t}),origin:t.origin,cookies:{yandexuid:t.cookies.yandexuid,yp:t.cookies.yp},contextNonce:t.contextNonce})}),"updateEnv")}),ie=te.Utils.escapeExpression,oe=(Kt=Object(qt.a)(),Gt=function(t){function e(e){var n,r=e.translateAdapter,i=e.planner,o=e.permissions,a=e.language,s=void 0===a?"ru":a,c=e.flags,u=void 0===c?{}:c,l=e.logos;return(n=t.call(this)||this).timeDelta=0,n.translateAdapter=r,n.setLang(s),n.logos=l,n.flags=u,n.promises=[],n.boxes=[],n.planner=i,n.permissions=o,n}O()(e,t);var n=e.prototype;return n.setRouter=function(t){this.router=t},n.setCurrentUser=function(t){this.currentUser=t},n.translate=function(t,e){return e&&!0===e.escape&&(e=Object.keys(e).reduce(function(t,n){var r=e&&e[n],i=typeof r;return t[n]="hvalanka"===n||"string"!==i&&"object"!==i?r:ie(r),t},{})),this.translateAdapter.translate(t,e)},n.awaitPromise=function(t){this.promises.push(t)},n.awaitPromises=function(){var t=this.promises;return this.promises=[],Promise.all(t)},n.getAccessRights=function(){var t=this.currentUser;return t&&t.isAuthorized()?t.isYandexTeam()?dt.b.YT:t.isToloker()?dt.b.TOLOKA:dt.b.USER:t&&t.isRestricted()?dt.b.RESTRICTED_USER:dt.b.GUEST},n.invokeStrategy=function(t,e){var n=this;void 0===e&&(e={});var r=this.di;return Promise.resolve().then(function(){return r(t)}).catch(function(e){throw console.error(e),new Error("Unknown strategy "+t)}).then(function(t){return t.execute(G()({env:n},e))}).catch(function(t){throw t&&console.error(t),t})},n.getFeature=function(t){return this.flags[t]},n.hasFeature=function(t,e){var n=this.getFeature(t);return void 0!==e?e==n:Boolean(n)},n.hasAccess=function(t){var e=this.getUserPermissions(),n=this.getAccessRights();return void 0!==e[t]&&Boolean(e[t]&n)},n.getUIName=function(){return this.isYandexApp?"yandexApp":this.isTablet?"tablet":"desktop"},n.isUserAuthorized=function(){var t=this.currentUser;return Boolean(t&&t.isAuthorized())},n.getUserMeta=function(){var t=this.currentUser;return{userId:t.id,uid:t.getUid()}},n.setLang=function(t){this.language=t},n.attachRedux=function(){var t=$()(Q.a.mark(function t(e){return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.reduxState=e,t.abrupt("return",e.dispatch(re({})));case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.getState=function(){if(this.reduxState)return this.reduxState.getState()},n.dispatch=function(t){if(this.reduxState)return this.reduxState.dispatch(t)},n.updateDependencies=function(t){var e=t.translateAdapter,n=t.event,r=t.currentUser,i=t.planner;e&&(this.translateAdapter=e),r&&this.setCurrentUser(r),this.setLang(this.language),n&&(this.event=n,this.isShare="share"===n.name,n.di&&(this.di=n.di)),i&&(this.planner=i)},e.extractRule=function(t,e){for(var n=Object.keys(e).map(Number),r=0;r<n.length;r++){var i=n[r];if((t&i)>0)return e[i]}},e}($t.a),I()(Gt.prototype,"dispatch",[Kt],Object.getOwnPropertyDescriptor(Gt.prototype,"dispatch"),Gt.prototype),Gt),ae=n("WbN8"),se=n("N4H6"),ce=dt.b.RESTRICTED_USER|dt.b.AUTH_USER,ue={resourceSubscribe:ce,compilationSubscribe:ce,resourceHide:ce,cardLike:ce,onboardShow:ce},le=n("x9gI"),de=navigator.connection,he=function(t){function e(e){var n,r=t.call(this,e)||this,i=location.host,o=i.match(U.z);return r.origin="https://"+i,o&&(n=o[1]),r.tld=n||"ru",r.timeDelta=Date.now()-e.timestamp,r.requestId=e.requestId,r.isOffline=e.isOffline,r.isRobot=e.isRobot,r.isTablet=e.isTablet,r.isLegacy=e.isLegacy,r.isEmbed=Boolean(e.isEmbed),r.disableSW=e.disableSW,r.osFamily=e.osFamily,r.ua=e.ua,r.logos=e.logos,r.regionId=e.regionId,r.query=e.query,r.hideHeader=e.hideHeader,r.extGuest=e.extGuest,r.testId=e.testId,r.expConfs=e.expConfs,r.platform=e.platform,r.network=e.network,r.isYandexApp=e.isYandexApp,r.isYandexAppMultiMorda=e.isYandexAppMultiMorda,r.isYandexRecent=e.isYandexRecent,r.isBrowserApp=e.isBrowserApp,r.isMultiMordaApp=e.isMultiMordaApp,r.isBrowserFavorites=e.isBrowserFavorites,r.isNativeAppPage=e.isNativeAppPage,r.isYandexBroWebView=e.isYandexBroWebView,r.contextNonce=e.contextNonce,e.flags&&(r.flags=e.flags),r.pageState=se.a.factory({env:Zt()(Zt()(r))}),de&&(de.onchange=function(){r.updateNetwork(),r.trigger("change")}),r}O()(e,t);var n=e.prototype;return n.updateNetwork=function(){if(de&&this.reduxState){var t=de.effectiveType;this.network=G()({},this.network,{networkType:t,saveData:de.saveData,isOnline:navigator.onLine}),this.network.isSlow=function(t,e){return(Object(le.a)(t,dt.d.LOW_NETWORK_TYPES)||"").split(",").includes(e)}(this.getState(),t)}},n.setCookie=function(t,e,n){this._setCookie(t,e,n),this.trigger("cookies:change")},n.getCookie=function(t){return Object(ae.a)(t)},n.getWindowWidth=function(){return this.pageState.getWindowWidth()},n.getWindowHeight=function(){return this.pageState.getWindowHeight()},n.getScrollWidth=function(){return this.pageState.getScrollWidth()},n.getPixelRatio=function(){return window.devicePixelRatio},n.getRequestId=function(){return window.requestId||this.requestId},n.getRegionId=function(){return this.regionId},n.getUserPermissions=function(){return this.permissions||ue},n.attachRedux=function(){var e=$()(Q.a.mark(function e(n){return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.on("change",function(){return n.dispatch(re({}))}),this.pageState.on("change:width change:height",function(){return n.dispatch(re({}))}),this.reduxState=n,this.updateNetwork(),e.abrupt("return",t.prototype.attachRedux.call(this,n));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),n.updateDependencies=function(e){t.prototype.updateDependencies.call(this,e),e.event&&!e.event.isFirstRender&&this.reduxState&&this.reduxState.dispatch(re({})),e.event&&!e.event.isFirstRender&&(this.isOffline=!1)},n._setCookie=function(t,e,n){Object(ae.d)(t,e,G()({path:"/collections"},n)),Object(ae.d)(t,e,G()({path:"/images"},n))},e.restore=function(t){return this.factory(t)},e.factory=function(t){return this.instance||(this.instance=new this(t)),this.instance},Jt()(e,[{key:"cookies",get:function(){return Object(ae.c)(document.cookie)}}]),e}(oe),fe=n("VL+A"),pe=function(t){function e(e,n){var r=t.call(this,e)||this;return r.writer=e.writer,r.type=n,r}return O()(e,t),e.prototype.write=function(t){t.request=G()({},t.request,{pageUrl:location.href}),t.clientVersion="1.141.1-a6fd7393",this.writer.write(t,this.type)},e.networkFactory=function(t){return new this(t,U.M.clientNetwork)},e.errorFactory=function(t){return new this(t,U.M.clientError)},e}(function(){function t(t){var e=(void 0===t?{}:t).env;this.env=e}var e=t.prototype;return e.log=function(t){return this._log(U.K.INFO,t)},e.info=function(t){return this._log(U.K.INFO,t)},e.warn=function(t,e){var n=(console._warn||console.warn).bind(console);return this._notifyConsole(n,t,e),this._log(U.K.WARN,t,e)},e.error=function(t,e){var n=(console._error||console.error).bind(console);return this._notifyConsole(n,t,e),this._log(U.K.ERROR,t,e)},e._notifyConsole=function(t,e,n){var r=(void 0===n?{}:n).logToConsole;(void 0===r||r)&&this.shouldLog(e)&&t(e)},e._log=function(t,e,n){var r=(void 0===n?{}:n).forceLog;if(void 0!==r&&r||this.shouldLog(e)){var i=G()({data:G()({},Object(fe.a)(e)),level:t},this.defaults());this.write(i),this.markLogAsLogged(e)}},e.shouldLog=function(t){return!(t&&(t[U.L]||"abort"===t.statusText))},e.markLogAsLogged=function(t){t&&"object"==typeof t&&(t[U.L]=!0)},e.write=function(t){console.log(t)},e.setEnv=function(t){this.env=t},e.defaults=function(){var t=this.env,e=t&&t.getRequestId(),n=t&&t.currentUser,r=n&&n.getLogin();return{timestamp:this.getTimestamp(),request:{login:r||"",requestId:e||""}}},e.getTimestamp=function(){return Math.round(Date.now()/1e3)},t}()),ge=function(){function t(){this.buffer=[],this.isPlanned=!1}var e=t.prototype;return e.write=function(t,e){this.buffer.push({type:e,json:t}),this.isPlanned||this.planFlush()},e.planFlush=function(){var t=this;this.buffer.length?(this.isPlanned=!0,this.timeout=setTimeout(function(){return t.flush()},5e3)):this.isPlanned=!1},e._post=function(t){return X.a.post({url:"/collections/web-api/log/",data:JSON.stringify(t),dataType:"json",contentType:"application/json"})},e.flush=function(){var t=this,e=this.buffer.splice(0,10);return e.length?this._post(e).then(function(){return t.planFlush()},function(n){console.error(n),t.buffer=e.concat(t.buffer),t.planFlush()}):Promise.resolve()},t}(),me=n("EsBG"),ve=n("CmRB"),be=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.setRouter=function(t){this.set("router",t)},n.getRouter=function(){return this.get("router")},n.setLocation=function(t,e){void 0===e&&(e={}),this.getRouter().navigate(t,Object.assign({trigger:!0},e))},e}(ve.a),_e=n("oShl"),ye="RouterError",Ce=function(t){function e(n,r){var i=t.call(this)||this;return i.name=ye,n instanceof Error?(i.message=n.message,i.stack=n.stack,i.status=n.status):(void 0!==n.status?(i.status=n.status,i.message=n.statusText):i.message=n,Error.captureStackTrace?Error.captureStackTrace(Zt()(Zt()(i)),e):i.stack=(new Error).stack),i.originalError=n,i.event=r,i}return O()(e,t),e}(n.n(_e)()(Error)),Oe={geoBoard:"board",geoChannel:"channel",geoCard:"card"},Se=n("izju"),we=n("BpHA"),Ee=n("hV2r"),ke=n("+3en"),je=n("WLYw"),Te=["ratingUsers","ratingAbout"],xe=n("Gxl1"),Re=n("9yiq"),Ie=n("+Ncb"),De=function(t,e){return function(){e(t.apply(void 0,arguments))}},Pe=0,Le=n("T6Rw"),Ne=Object(Le.a)(function(t,e){var n=t.event;return G()({},t,{event:G()({},n,{href:e})})}),Ae=/\(([^)]+)\)/g,Be=/:([^\/()]+)/g,Me=/\*\w+/g,Fe=function(){this.propagationStopped=!0},Ue=function(){function t(t){var e,n,r,i,o,a,s=t.routes,c=t.layouts,u=t.aliases,l=t.hist;this.routes=[],this.index={},this.middleware=[],this.aliases=u||{},this.layouts=c,this.aliases=u,this.hist=l||("undefined"!=typeof window?window.history:void 0),this.resolveMiddlewareDebounced=(e=this.resolveMiddleware,n=this,r=function(t,e){return e.id},i=null,o=null,a=function(){return i=null},function(){for(var t=arguments.length,s=new Array(t),c=0;c<t;c++)s[c]=arguments[c];return i?r?(o=r.apply(void 0,s),new Promise(function(t,c){var u=function(){o===r.apply(void 0,s)&&(i=e.call.apply(e,[n].concat(s))).then(De(a,t),De(a,c))};i?i.then(u,u):u()})):i:((i=e.call.apply(e,[n].concat(s))).then(a,a),i)}),this.bindRoutes(s)}var e=t.prototype;return e.documentClickHandle=function(t){var e=t.target;if(e instanceof HTMLAnchorElement){if(e.getAttribute("target"))return;t.preventDefault(),this.navigate(e.href)}},e.bindListeners=function(){"undefined"!=typeof window&&(this.popstateHandle=this.windowPopStateHandle.bind(this),window.addEventListener("popstate",this.popstateHandle)),"undefined"!=typeof document&&(this.clickHandle=this.documentClickHandle.bind(this),document.body.addEventListener("click",this.clickHandle))},e.buildQuery=function(t){return Object(xe.a)(t.split("?")[1])},e.getLastEvent=function(){return this.lastEvent},e.getPrevEvent=function(){return this.prevEvent},e.setLastEvent=function(t){this.prevEvent=this.lastEvent,this.lastEvent=t},e.getLastEventReverseURL=function(t,e){var n=this.getLastEvent()||{},r=G()({},n.query,n.params,e);return this.reverse(t,r)},e.getUrlMeta=function(t,e){for(var n,r=t.replace(/^https?:\/\/[^\/]+/,"").split("#"),i=r[0],o=r[1],a=void 0===o?"":o,s=i.split("?"),c=s[0],u=s[1],l=this.buildQuery(i),d=0;d<this.routes.length&&!(n=this.routes[d](c,l,a,e));d++);n=G()({},n,{search:u});var h=this.aliases[n.name];return h&&Object.assign(n,{name:h,origName:n.name,isAlias:!0}),{baseUrl:i,url:c,hash:a,query:l,event:n}},e.reverseLastEvent=function(t){void 0===t&&(t={});var e=this.getLastEvent()||{},n=e.origName||e.name;return this.getLastEventReverseURL(n,t)},e.replaceQuery=function(t,e){return this.navigate(this.reverseLastEvent(t),G()({trigger:!0},e))},e.navigate=function(t,e){if(void 0===e&&(e={}),"#"===t)return Promise.resolve();var n=this.hist,r=e,i=r.replace,o=void 0!==i&&i,a=r.trigger,s=void 0===a||a,c=r.state;return void 0===n?Promise.resolve():(o?n.replaceState(c,"",t):n.pushState(c,"",t),this.env.dispatch(Ne(t)),s?this.match(t):Promise.resolve())},e.navigateToReverse=function(t,e,n){void 0===n&&(n={});var r=this.reverse(t,e);return r?(n.trigger||this.setLastEvent(this.getUrlMeta(r,n.state).event),this.navigate(r,n)):null},e.refreshLastEvent=function(){var t=this.getLastEvent();if(t){var e=t.origName||t.name;return this.navigateToReverse(e,t.query,{replace:!0,state:t.state})}console.error("no last event in navigateToLastEvent")},e.match=function(t,e){var n=this.getUrlMeta(t,e),r=n.url,i=n.query,o=n.hash,a=n.event,s=a?Promise.resolve(a):Promise.reject(new Error('Cannot match url "'+r+'"'));return a||(a={url:r,query:i,hash:o,name:"error",code:404,stopPropagation:Fe,params:{},state:e}),this.setLastEvent(a),this.resolveMiddlewareDebounced(s,a)},e.matchCurrentUrl=function(t){return this.match(location.href,t)},e.matchEvent=function(t){var e=t.url,n=Object(Re.a)(t.query);return n&&(e=e+"?"+n),t.hash&&(e=e+"#"+t.hash),this.match(e,t.state)},e.matchRouterEvent=function(t){var e=t?Promise.resolve(t):Promise.reject(new Error("event should be passed"));return this.setLastEvent(t),this.resolveMiddlewareDebounced(e,t)},e.parseUrl=function(t,e){if(!t)return{};var n=this.routeToRegexp(e),r=n.regexp,i=n.names,o=this.buildRouteHandler(r,"parse",i),a=this.buildQuery(t);return o(t,a)||(a?{query:a}:{})},e.reverse=function(t,e,n){void 0===n&&(n={});var r=G()({},e,n),i=Object.keys(r),o=[];!this.index[t]&&this.aliases[t]&&(t=this.aliases[t]);var a=this.index[t];if(!a)return"";var s=function(t){return null!=t&&""!==t},c=function(t,e){return t.replace(/:([^)\/]+)/g,function(t,n){var o=i.indexOf(n);return o>-1&&s(r[n])?(i.splice(o,1),encodeURIComponent(String(r[n]))):(e&&e.push(n),t)})};if(a=a.replace(/\(([^)]+)\)/g,function(t,e){var n=c(e);return n!==e?n:""}),a=c(a,o),o.length)return"#";if(a=a.replace(Me,""),i.length){var u=[];i.forEach(function(t){s(r[t])&&u.push(encodeURIComponent(t)+"="+encodeURIComponent(r[t]))}),u.length&&(a+="?"+u.join("&"))}return a},e.start=function(){return this.bindListeners(),this.matchCurrentUrl()},e.stop=function(){"undefined"!=typeof window&&this.popstateHandle&&window.removeEventListener("popstate",this.popstateHandle),"undefined"!=typeof document&&this.clickHandle&&document.body.removeEventListener("click",this.clickHandle)},e.windowPopStateHandle=function(t){this.matchCurrentUrl(t.state)},e._attachMiddlewares=function(){var t,e,n={di:this.di,router:this,routes:this.layouts};this.use((t=n.router,e=$()(Q.a.mark(function e(n){var r,i,o,a,s,c,u,l,d,h,f,p,g,m,v,b,_,y,C,O,S,w,k,j,T,x,R,I,D,P;return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.di("env");case 2:if(r=e.sent,i=n.name,o=n.params,a=n.query,i!==E.a.MAIN||r.hasFeature(dt.d.HEADER_FAVORITES)||(n.name=E.a.FEED,i=E.a.FEED),i!==E.a.UNDERSIDE){e.next=12;break}return e.next=8,n.di("response");case 8:s=e.sent,c=t.reverse(E.a.FAVORITES_TYPE,G()({},a,{type:a.type||Se.a.IMAGE})),n.stopPropagation(),s.setLocation(c,{replace:!0});case 12:if(i!==E.a.CHANNEL||"photo-of-the-day"!==o.id){e.next=19;break}return e.next=15,n.di("response");case 15:return u=e.sent,l=t.reverse(E.a.DAILY_PHOTO),n.stopPropagation(),e.abrupt("return",u.setLocation(l,{replace:!0}));case 19:if(!Te.includes(i)){e.next=28;break}if(d=dt.d.DESKTOP_RATINGS_USERS,r.hasFeature(d)){e.next=28;break}return e.next=24,n.di("response");case 24:return h=e.sent,f=t.reverse(E.a.FEED,n.query),n.stopPropagation(),e.abrupt("return",h.setLocation(f));case 28:if(i!==E.a.UNDERSIDE){e.next=35;break}return e.next=31,n.di("response");case 31:return p=e.sent,g=t.reverse(E.a.FAVORITES_TYPE,G()({},a,{type:Se.a.IMAGE})),n.stopPropagation(),e.abrupt("return",p.setLocation(g));case 35:if(i!==E.a.FAVORITES_TYPE){e.next=61;break}return e.next=38,n.di("currentUser");case 38:if(!(m=e.sent).isAuthorized()){e.next=54;break}return e.next=42,n.di("redux");case 42:if(v=e.sent,b=v.getState(),_=m.getLogin(),y=Object(ke.a)(b),!(C=Object(je.a)(y))||!_){e.next=54;break}return e.next=50,n.di("response");case 50:return O=e.sent,S=t.reverse(E.a.BOARD,{login:_,slug:C}),n.stopPropagation(),e.abrupt("return",O.setLocation(S,{replace:!0}));case 54:if(Se.a[o.type]){e.next=61;break}return e.next=57,n.di("response");case 57:return w=e.sent,k=t.reverse(E.a.FAVORITES_TYPE,G()({},a,{type:a.type||Se.a.IMAGE})),n.stopPropagation(),e.abrupt("return",w.setLocation(k));case 61:if(i!==E.a.CHANNEL||!a.sort){e.next=73;break}return e.next=64,n.di("currentUser");case 64:if(e.sent.isRedactor()&&("new"===a.sort||"popular"===a.sort)){e.next=73;break}return e.next=68,n.di("response");case 68:return j=e.sent,delete a.sort,T=t.reverse(E.a.CHANNEL,G()({},a,{id:n.params.id})),n.stopPropagation(),e.abrupt("return",j.setLocation(T));case 73:if(i!==E.a.SEARCH){e.next=86;break}return e.next=76,n.di("redux");case 76:if(x=e.sent,R=x.getState(),!((I=R.verticalType)&&I.guesses.includes(we.c)||"food"===Object(Ee.a)(R).vertical)){e.next=86;break}return e.next=82,n.di("response");case 82:return D=e.sent,n.stopPropagation(),P=t.reverse(E.a.VERTICAL_SEARCH,G()({},a,{id:"retsepty"})),e.abrupt("return",D.setLocation(P));case 86:if("geoBoard"!==i&&"geoChannel"!==i||(n.stackName=Oe[i]),i!==E.a.COMMENTS){e.next=93;break}return e.next=90,n.di("response");case 90:return e.sent.setLocation(t.reverse(E.a.CARD,{id:n.params.id})),e.abrupt("return",n.stopPropagation());case 93:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})),this.use(function(t){var e=n.router;return function(t){return Object(g.e)(t.di("env"),function(n){n.prevEventName=n.eventName,n.eventName=t.name,e.setLastEvent(t)})}}())},e.use=function(t,e){this.middleware.push([t,e])},e.addRoute=function(t,e){var n=this.routeToRegexp(e),r=n.regexp,i=n.names;this.index[t]=e,this.routes.push(this.buildRouteHandler(r,t,i))},e.bindRoutes=function(t){for(var e,n=Object.keys(t);null!=(e=n.shift());)this.addRoute(t[e],e)},e.buildRouteHandler=function(t,e,n){return function(r,i,o,a){var s=r.match(t),c={};if(s){var u="event"+ ++Pe;return n.forEach(function(t,e){return c[t]=Object(Ie.a)(s[e+1])}),{id:u,url:r,name:e,params:c,query:i,hash:o,state:a,stopPropagation:Fe}}}},e.resolveMiddleware=function(t,e){var n=this;return this.middleware.reduce(function(t,r){var i=r[0],o=r[1],a=t;return i&&(a=a.then(function(t){if(!t.propagationStopped)return i(t)})),o&&(a=a.catch(n.wrapError(o,e))),a.then(function(){return e})},t)},e.routeToRegexp=function(t){var e=[],n=t.replace(Ae,function(t,e){return"(?:"+e+")?"}).replace(Be,function(t,n){return e.push(n),"([^/]+)"}).replace(Me,"([^?]*?)");return{names:e,regexp:new RegExp("^"+n+"$")}},e.wrapError=function(t,e){return function(n){var r=n.name!==ye&&n.name!==Ot.e?new Ce(n,e):n;return t(r,e)}},t}(),ze=n("1vK5"),Ve={search:!0},He=[E.a.BRO_RECENT];function We(t){var e,n=t.pageState;return{start:function(){t.lockScroll=!1},stop:function(t){!function(t){var r,i;He.indexOf(t.name)>=0||t.isFirstRender||(e&&(i=t,(r=e).name===i.name&&(Ve[i.name]||Object(f.isEqual)(r.params,i.params)&&Object(f.isEqual)(r.query,i.query)))||(n.scrollToTop(),setTimeout(function(){return n.scrollToTop()})),e=G()({},t,{params:G()({},t.params)}))}(t)}}}var qe=n("smvh"),Ke=qe.c.channel("global.modal").commands,Ge=n("9qcP"),Ye=function(t){function e(e){var n,r=e.bus;return(n=t.call(this)||this).bus=r,n}O()(e,t);var n=e.prototype;return n.show=function(){this.bus.trigger("loader:start")},n.hide=function(){this.bus.trigger("loader:stop")},n.showMiddlewareFactory=function(){var t=this;return function(){return t.show()}},n.hideMiddlewareFactory=function(){var t=this.hide.bind(this);return[t,function(e){throw t(),e}]},e.factory=function(t){return new this(t)},e}(qe.a),Xe=n("s6gp"),Je=n("7hiN"),Qe=function(){function t(t){this.entities=[],this.uniqueId=1,this.router=t}var e=t.prototype;return e.popHead=function(){return this.entities.pop()},e.getHead=function(){return this.entities[this.entities.length-1]},e.openModal=function(t,e){void 0===e&&(e=!0);var n={prefix:t,id:t+"-"+Math.random()+"-"+this.uniqueId++};return this.isEmpty()||this.getHead().prefix!==n.prefix?this.pushHead(n,e):this.replaceHead(n,e),n.id},e.replaceHead=function(t,e){this.entities[this.entities.length-1]=t,e&&this.router.replacePopState(t)},e.pushHead=function(t,e){e&&(this.isEmpty()?this.router.pushPopState(t):this.router.replacePopState(t)),this.entities.push(t)},e.isEmpty=function(){return 0===this.entities.length},e.closeByBackButton=function(){var t=this.popHead();if(!t)throw new Error("There are no such modal");if(!this.isEmpty()){var e=this.getHead();this.router.pushPopState(e)}return t.id},e.closeByUser=function(t){var e=this.getHead();return!(!e||e.id!==t.id||(this.popHead(),this.isEmpty()&&this.router.back(),0))},t}(),Ze=n("4RqY"),$e=n("ukm6"),tn=n("1WnH"),en=n("3kfh"),nn=Object(Ze.a)(function(){var t=$()(Q.a.mark(function t(e,n){var r,i,o,a;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.di,r=n.dispatch,i=n.getState,!(o=Object($e.a)(i()).modal)||o.key!==e){t.next=8;break}if(!((a=Object($e.a)(i()).addFlow)&&a.point&&a.point.view)){t.next=7;break}return t.next=7,r(Object(en.d)({type:"back"}));case 7:r(Object(tn.a)(null));case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),rn=n("gF9f"),on=["0","false"];function an(t,e){if(t.length)return t[0].getAttribute("data-"+e)}function sn(t){return!on.includes(t)}function cn(t){return t&&sn(t)}var un=function(t){function e(e){var n,r=e.di,i=e.routes,o=e.aliases,a=e.layouts,s=e.env;return(n=t.call(this,{routes:i,aliases:o,layouts:a})||this).popQueue=[],n.popId=new Qe(Zt()(Zt()(n))),n.lockPopState=!1,n.di=r,n.env=s,n.loader=Ye.factory({bus:ve.b}),r.put("router",Zt()(Zt()(n))),r.put("env",s),s.setRouter(Zt()(Zt()(n))),n.createAsyncLayout=function(t){var e,n=t.layouts;function r(t,e,n,r,i){var o=(e.constructor.name,function(){});t[r].show(e,i),o()}return function(t){var i=t.di,o=n[t.stackName||t.name],a={};if(!o)throw new Ot.f('Cannot find configuration for route "'+t.name+'"');var s=function(e){return Object(g.e)(i(e,{event:t}),function(t){return t.triggerMethod("route:update"),a[e]=t,t})};return t.views||(t.views={}),t.resources||(t.resources={}),e&&function(t,e){var n=t.tree,r=t.instances,o=function(t,e){var n=r[t];n&&n.triggerMethod("willDestroy",t,e)},a=function(t){if(!t)return[t,{}];Object(f.isArray)(t)||(t=[t,{}]);var e=i.getDefinition(t[0]);return e.reuse&&(t[0]=e.reuse),t};!function t(e,n){var r=a(e),i=r[0],s=r[1],c=a(n),u=c[0],l=c[1];i!==u?o(i,u):Object(f.forEach)(s,function(e,n){var r=l[n];r?t(e,r):o(e,null)})}(n,e)}(e,o),a={},Object(g.e)(function t(e){if(!1===e)return!1;if("string"==typeof e)return s(e);if(Array.isArray(e)){var n=s(e[0]),i=t(e[1]);return Object(g.a)([n,i],function(t){var n=t[0],i=t[1];return Object(f.forEach)(i,function(t,i){if(n.isDestroyed)throw new Error("Layout is already destroyed, we can't render it properly");if(t)if(n.isRendered)r(n,t,e[0],i);else{var o=n.env;t._env=o,t.listenToOnce(n,"render",function(){r(n,t,e[0],i,void 0)})}else n.isRendered&&n[i].empty()}),n})}if("object"==typeof e){var o={},a=Object(f.map)(e,function(e,n){return Object(g.e)(t(e),function(t){o[n]=t})});return Object(g.a)(a,function(){return o})}}(o),function(n){t.views.layout=n,e={tree:o,instances:a};var r=Object.keys(a).map(function(t){return a[t].animationProgress});return Object(g.a)(r,function(){return n})})}}({env:s,layouts:a}),n._attachMiddlewares(),n}O()(e,t);var n=e.prototype;return n.navigate=function(e,n){var r=this;return void 0===n&&(n={}),new Promise(function(i,o){r.requestPopAction(function(){return window.top!==window?(window.top.location.href=r.env.origin+e,i()):(n.localState?r.localState=n.localState:r.localState=null,r.trigger("counter:hit"),r.popId.isEmpty()||(r.ignoreNextBack=!0,n.replace=!0),t.prototype.navigate.call(r,e,n).then(i,o))})})},n.getLocalState=function(){return this.localState},n.getPopHandler=function(){return this.popId},n.documentClickHandle=function(t){var e=t.target;if(e instanceof HTMLAnchorElement||(e=Y(t.target).closest("a").get(0)),e instanceof HTMLAnchorElement){var n=Y(e),r=n.attr("href")||an(n,"href"),i=n.attr("target"),o=an(n,"original-href")||r,a=an(n,"link-type"),s=an(n,"trigger"),c=an(n,"navigate"),u=an(n,"prevent"),l=an(n,"disable-counters");if(cn(u))return void t.preventDefault();if("extension"===a)return void z.a.onPluginStore(r);if(!r||"#"===r||r.match(/^(yellowskin|javascript|intent):/))return;if(r.match(/^(https?:)?\/\//)||r.match(Xe.a))return void(cn(l)||it.d.clickLinkExternal({href:o}));if(t.ctrlKey||t.shiftKey||t.metaKey)return;if(!sn(c))return;if(this.env&&(this.env.isMultiMordaApp||this.env.isYandexRecent))return Object(Je.a)(r,this.env),void t.preventDefault();if("_blank"===i||"_top"===i)return;null!=s&&""!==s||(s=!0),this.navigate(r,{trigger:s}),t.preventDefault()}},n._attachMiddlewares=function(){var e,n,r,i,o={di:this.di,router:this},a=We(this.env),s=function(t){var e,n=t.router,r=0,i=!1;function o(){e||(e=Ge.a.factory().showXHRMessage({status:0},{persistent:!0}))}function a(){e&&(e.remove(),e=null)}return window.addEventListener("async:bundle",function(t){t.failed?o():i||a()}),{attachStart:function(){n.use(function(){i=!0})},attachEnd:function(){n.use(function(t){r++,i=!1,t&&t.name!==E.a.OFFLINE&&a()},function(t){if(t.status&&404===t.status||t.event&&t.event.name===E.a.NOT_FOUND||t instanceof Ot.f)n.match(n.reverse(E.a.NOT_FOUND));else if(console.error(t),o(),0===t.status){var e=r;setTimeout(function(){if(e!==r)throw t;n.matchCurrentUrl({offlineRestoration:r})},1e4)}else n.match(n.reverse(E.a.OFFLINE))})}}}({router:this});s.attachStart(),this.use((n=(e=o).di,r=e.router,function(t){var e=t.params||{};if("profile"===t.name)return Object(g.e)(n({currentUser:"currentUser",response:"response"}),function(n){var i=n.currentUser,o=n.response;if(i.getLogin()===e.login&&i.isRestricted()){var a=r.reverse(U.D,t.query);t.stopPropagation(),o.setLocation(a,{replace:!0})}})})),this.use(function(t){var e=o.di,n=o.router;return function(t){if(!t.isFirstRender&&t.name===E.a.CARD){var r=e.getDefinition("CardPopupState").instance,i=n.getLocalState()||{},o=i.cardsFetchParams,a=i.cardsUrl,s=Object.keys(o||{}).length,c=o&&o.page_size&&1===s;if(r&&!c){t.stopPropagation();var u=n.getUrlMeta(location.href);return u.event&&n.setLastEvent(u.event),r.openCardPopupById(t.params.id,{cardsFetchParams:o,cardsUrl:a,skipNavigate:!0})}}var l=n.getPrevEvent();if(l&&l.name===E.a.CARD){var d=e.getDefinition("CardPopupState").instance;if(d){var h=d.getInitialPointEvent();if(h){var f=h.name&&h.name===t.name,p=h.params&&Object(at.isEqual)(h.params,t.params);f&&p&&(d.closeCard(),t.stopPropagation())}}}}}()),this.use(this.loader.showMiddlewareFactory(o)),this.use((i=!0,function(t){t.isFirstRender=i,i=!1})),this.use(a.start),this.use(function(t){var e=o.router;return function(t){t.di=e.di.session({event:t})}}()),t.prototype._attachMiddlewares.call(this),this.use(function(t){var e=o.router;return function(t){return Object(g.e)(e.createAsyncLayout(t),function(e){t.views={layout:e}})}}()),this.use(function(t){t.isFirstRender&&t.views.layout.render()}),this.use(function(t){t.di.close();var e=t.di.getDefinitions();Object.keys(e).map(function(t){return e[t]}).map(function(t){t.instance&&!0===t.instance.isDestroyed&&delete t.instance})}),this.use(function(t){var e=t.di.getDefinitions(),n=new Set;Object.keys(e).map(function(t){return e[t]}).forEach(function(t){var e=t.instance;e&&!n.has(e)&&(n.add(e),"function"==typeof e.triggerMethod?e.triggerMethod("ready"):e.onRouterReady&&e.onRouterReady())})}),this.use.apply(this,this.loader.hideMiddlewareFactory(o)),this.use(a.stop),this.use(function(){return Ke.execute("hide")}),this.use(function(t){var e=t.query;if(e.ptrid)return Promise.resolve(t.di("env")).then(function(n){if(n.cookies.cptrid===e.ptrid)return Promise.resolve(t.di("currentUser")).then(function(t){t.isAuthorized()&&(ee.a.resetPtrid({env:n}),z.a.onAuth({modalType:e.modalType||U.J.DIRECT,authSource:e.authSource||U.b.DEFAULT}))})})}),this.use(function(){return t=$()(Q.a.mark(function t(e){var n;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.isFirstRender&&(n=e.di.getDefinition("ReduxState").instance)&&setTimeout(function(){n.dispatch(Object(rn.a)({env:G()({},n.getState().env,{isRestore:!1})}))});case 1:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)};var t}());var c,u=(c=this.env,function(t){c.currentUser&&!t.requestUserCatched&&(t.requestUserCatched=!0,rt.a.factory({env:c}).sendAccess({pageName:t.name}))});this.use(u,function(t,e){throw u(e),t}),s.attachEnd(),this.use(null,function(t){throw t&&("status"in t?z.a.showXHRMessage(t):t.notify?z.a.showNotification(t.notify):(z.a.showMessage(ze.errorDefault),console.error(t))),t})},n.refresh=function(){location.href=location},n.reload=function(t){location.href=t},n.pushPopState=function(t){this.requestPopAction(function(){history.pushState(G()({},history.state,{popId:t.id}),"")})},n.replacePopState=function(t){this.requestPopAction(function(){history.replaceState(G()({},history.state,{popId:t.id}),"")})},n.requestPopAction=function(t){this.lockPopState?this.popQueue.push(function(){return t()}):setTimeout(t,100)},n.back=function(){this.ignoreNextBack?this.ignoreNextBack=!1:(this.lockPopState=!0,history.back())},n.windowPopStateHandle=function(e){var n=this;if(this.lockPopState)setTimeout(function(){var t=n.popQueue;n.lockPopState=!1,n.popQueue=[],t.forEach(function(t){return t()})},100);else{if(!this.popId.isEmpty()){var r=this.popId.closeByBackButton();this.trigger("change:pop:back",r),this.env.dispatch(nn(r))}if(this._requestSkipHandle)this._requestSkipHandle=!1;else{var i=this.getLastEvent();i&&i.url===location.pathname&&Object(at.isEqual)(i.query,this.buildQuery(location.href))||t.prototype.windowPopStateHandle.call(this,e)}}},n.setLastEvent=function(e){t.prototype.setLastEvent.call(this,e),window.Ya&&Ya.Collections&&e&&(Ya.Collections.pageName=e.name),this.trigger("change:event",e)},e}(Ue);Object(w.a)($t.a.prototype)(un);var ln=n("Oaat");function dn(t,e){var n=t&&t.getStats();if(n)return n[e]}var hn=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){var t;this.listenTo(z.a,((t={})[["card:remove","card:like","card:unlike","board:create","board:remove","board:subscribe","board:unsubscribe","channel:subscribe","channel:unsubscribe"].join(" ")]=this.syncCurrentUserStats,t["user:subscribe user:unsubscribe"]=this.syncCurrentUserStats.bind(this,"board_subscriptions"),t))},n.setCurrentUser=function(t){this.set("currentUser",t)},n.getCurrentUser=function(){return this.get("currentUser")},n.updateDependencies=function(t){var e=t.currentUser;this.setCurrentUser(e)},n.syncCurrentUserStats=function(t){var e=this.getCurrentUser();if(e){var n=t?dn(e,t):void 0;Object(ln.a)(500).then(function(){return e.fetchCurrentUser()}).then(function(){if(t&&dn(e,t)===n)return Object(ln.a)(1e3).then(function(){return e.fetchCurrentUser()})})}},e}(S.a),fn=["gorselPad","imagesPad","gorselSmart","imagesSmart","gorselTouch","imagesTouch","gorselDesktop","imagesDesktop"],pn="https://yastatic.net/collections/_";function gn(t){return pn+"/"+t}var mn=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).title={show:function(){}},e}O()(e,t);var n=e.prototype;return n.initialize=function(){var t=this,e=this.options.pageVisibilityState,n=this.env.pageState;this.listenTo(n,"change:scrollTop",function(){t.scrollLock&&t.scrollLock<Date.now()&&(t.scrollLock=0,rt.a.sendCounter(it.a.clickPageScroll))}),window.onbeforeunload=function(){rt.a.sendCounter(it.a.clickPageClose)},this.listenTo(e,"change:visible",function(){rt.a.sendCounter(it.a.showPage,{visible:e.isVisible()})})},n.placeRestoreData=function(t){var e=Object(m.b)(t);this.ui.restoreData.html(e)},n.clean=function(){this.title.empty(),this.meta.empty()},n.onRender=function(){var t=this;this.body=Y("body"),this.deferToAttach(function(){t.alerts&&t.showInRegion(t.alerts,t.alertsClass,t.alertsOptions)})},n.updateDependencies=function(){},n.onReady=function(){if(this.scrollLock=Date.now()+1e3,!this.env.event.isFirstRender){for(var t=fn.includes(this.env.event.origName)?"https://yastatic.net/images-thumbs/_/8cS_MbHl6VBweqVjWeI-eNy0tzE.ico":gn("favicon.ico"),e=document.head||document.getElementsByTagName("head")[0],n=e.querySelectorAll("link[rel*=icon]"),r=0;r<n.length;r++)e.removeChild(n[r]);var i=document.createElement("link");i.setAttribute("rel","shortcut icon"),i.setAttribute("href",t),e.appendChild(i)}},Jt()(e,[{key:"meta",get:function(){var t=this.options.metaState;return this.isOffline?[]:t&&t.toMetaArray()}},{key:"isOffline",get:function(){var t=this.options,e=t.isOffline,n=t.event.name;return e||"offline"===n}}]),e}(D.c);Object(w.a)({ui:{restoreData:"#restoreData"}})(mn);var vn=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){this.options.notificationCenter&&(this.collection=this.options.notificationCenter.getNotifications())},n.render=function(){return this.isRestored=!1,t.prototype.render.call(this)},n._onCollectionAdd=function(e,n,r){this.options.replaceCurrent&&this.destroyChildren(),t.prototype._onCollectionAdd.call(this,e,n,r)},n.onRender=function(){this.collection&&this.collection.size()&&!this.children.length&&this.render()},e}(D.b);Object(w.a)({className:"notif"})(vn);var bn=n("EyUQ"),_n=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.onRender=function(){var t=this;setTimeout(function(){return t.show()},50),this.model.get("persistent")||this.startTimer()},n.onClick=function(t){this.model.get("url")||t.preventDefault(),this.close()},n.onEnter=function(){this.stopTimer()},n.onOut=function(){this.startTimer()},n.show=function(){this.$el.addClass("notif__pop_state_visible").removeClass("notif__pop_state_hidden")},n.hide=function(){this.$el.removeClass("notif__pop_state_visible").addClass("notif__pop_state_hidden")},n.startTimer=function(){var t=this;this.stopTimer(),this.timer=setTimeout(function(){return t.close()},5e3)},n.stopTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.onClickOut=function(){this.stopTimer(),this.close()},n.close=function(){var t=this;this.hide(),setTimeout(function(){t.model.collection?t.model.collection.remove(t.model):t.destroy()},1e3)},n.serializeData=function(){return this.model.toJSON()},e}(D.c);Object(w.a)({className:"notif__pop notif__pop_theme_normal  notif__pop_state_hidden",events:{click:"onClick",mouseenter:"onEnter",mouseout:"onOut"},behaviors:{ClickOut:{behaviorClass:bn.a}}})(_n);var yn=n("9TW5"),Cn=n("r7Cx"),On=n("6ga4"),Sn=function(t){var e=this&&this.isRestored,n=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([n(Cn.a,Object(yn.assign)(t,{class:Object(On.b)("button_action-close",{hash:{large:t.large,xlarge:t.xlarge,invert:t.invert}}),icon:!0,"icon-only":!0,type:"clear"}),this)])},wn=function(t){function e(){return t.apply(this,arguments)||this}return O()(e,t),e}(_n);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.sr:yn.s;return(e?yn.fr:yn.f)([n.d("notif__pop__i",{},[n.d("notif__close",{},[Sn.call(this,{invert:!0,method:this.close.bind(this),stopPropagation:!0})])," ",n.d("notif__pop__wrap",{},[n("a","notif__link",{href:t.url},[])," ",n.d("notif__text",{},[r(t.message)])])])])}})(wn);var En=function(t){function e(){return t.apply(this,arguments)||this}return O()(e,t),e}(vn);Object(w.a)({childView:wn})(En);var kn=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){var t=this;this.$window=X()(window);var e=this.view.getEnv().pageState;this.listenTo(e,"change:scrollTop",function(){t.view.triggerMethod("window:scroll",e.getScrollTop())}),this.listenTo(e,"resize",function(){t.view.triggerMethod("window:resize",{width:e.getWindowWidth(),height:e.getWindowHeight()})}),this.options.callMethodsOn&&this.on(this.options.callMethodsOn,function(){t.view.triggerMethod("window:resize",{width:e.getWindowWidth(),height:e.getWindowHeight()}),t.view.triggerMethod("window:scroll",e.getScrollTop())})},n.onScrollToTop=function(){window.scrollTo(0,0)},n.onScrollTo=function(t){window.scrollTo(0,t)},e}(D.a);Object(w.a)({defaults:{needsData:!0}})(kn);var jn=n("U60d"),Tn=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){this.listenTo(ve.b,{"loader:start":this.start,"loader:stop":this.stop})},n.start=function(){var t=this;this.env.event.isFirstRender||(this.clearTimeout(),this.timeout=setTimeout(function(){t.$el.removeClass("hidden").removeClass("loader_done").removeClass("loader_hide")},1e3))},n.stop=function(){this.env.event.isFirstRender||(this.clearTimeout(),this.$el.addClass("loader_done"))},n.clearTimeout=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=0)}),e}(jn.a);Object(w.a)({className:"loader loader_position_fixed loader_type_infinity hidden",template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e;return(e?yn.fr:yn.f)([n.d("loader__bar",{},[n.d("loader__peg",{},[])])])}})(Tn);var xn,Rn,In,Dn=n("rktC"),Pn=n("PchP"),Ln=n("cDcd"),Nn=n("JxqJ"),An=n("HtIP"),Bn=n("QodL"),Mn=n("xNeq"),Fn=Object(Mn.a)(function(){return n.e(24).then(n.bind(null,"Hk9Y")).then(function(t){return t.ReactModalDefaultComplain})}),Un=Object(Mn.a)(function(){return n.e(25).then(n.bind(null,"EDVc")).then(function(t){return t.ReactModalFeedComplain})}),zn=((xn={})[Bn.a.SHARE]=function(){return n.e(28).then(n.bind(null,"asGM")).then(function(t){return t.ReactModalShare})},xn[Bn.a.BOARD_UNLOCK]=function(){return n.e(27).then(n.bind(null,"s0kH")).then(function(t){return t.ReactModalUnlock})},xn[Bn.a.PROFILE_EDIT]=function(){return n.e(29).then(n.bind(null,"sUXF")).then(function(t){return t.ModalProfileEdit})},xn[Bn.a.VERIFICATION_BY_NUMBER]=function(){return n.e(29).then(n.bind(null,"deyU")).then(function(t){return t.VerificationUserByNumberModal})},xn);zn=G()({},zn,((Rn={})[Bn.a.CARD_TEASER_MENU]=function(){return n.e(22).then(n.bind(null,"FLB3")).then(function(t){return t.ReactModalCardTeaserMenu})},Rn[Bn.a.BOARD_MENU]=function(){return n.e(21).then(n.bind(null,"5SqR")).then(function(t){return t.ReactModalBoardMenu})},Rn[Bn.a.ADD_CARD]=function(){return n.e(34).then(n.bind(null,"39/Z")).then(function(t){return t.ReactModalAddCard})},Rn)),zn=G()({},zn,((In={})[Bn.a.COMPLAIN]=function(){return Fn.preload()},In[Bn.a.FEED_COMPLAIN]=function(){return Un.preload()},In[Bn.a.DEBUG_INFO]=function(){return n.e(23).then(n.bind(null,"01mV")).then(function(t){return t.ReactModalDebugInfo})},In[Bn.a.ENTITY_REMOVE]=function(){return n.e(26).then(n.bind(null,"k6ZK")).then(function(t){return t.ReactModalRemove})},In));var Vn,Hn,Wn=n("q/UM"),qn=Object(Le.a)(function(t,e){var n=Object($e.a)(t).modal;return n&&Object.keys(e).every(function(t){return n[t]===e[t]})?t:Object(Wn.a)(t,{modal:G()({},t.ui&&t.ui.modal,e)})}),Kn=Object(ne.a)("router",function(t,e){var n=e.prefix,r=e.writeToHistory;return t.getPopHandler().openModal(n,r)}),Gn=n("mUSw");function Yn(t){return t&&t.animationType||"popup"}var Xn=G()({none:{preventScroll:!0}},{}),Jn=(Vn=Object(qt.a)(),Hn=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={},e}O()(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(){var t=$()(Q.a.mark(function t(e){return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.update(e);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.update=function(){var t=$()(Q.a.mark(function t(e){var n,r,i,o,a,s,c,u,l,d;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.current,i=(r=n||{}).type,o=r.options,a=Boolean(i&&n&&!n.closed),s=Yn(this.state.current),c=Yn(n),u=!this.state.current||s!==c,!a||!i){t.next=14;break}if(!n){t.next=12;break}return l=!(o&&o.route),t.next=11,this.props.dispatch(Kn({prefix:i,writeToHistory:l}));case 11:n.key=t.sent;case 12:return t.next=14,this.toggleModal(a);case 14:return u&&(this.animation=null),t.next=17,this.factoryModal(i);case 17:if(d=t.sent,this.setState({Component:d,current:n}),a){t.next=23;break}return this.animation=null,t.next=23,this.toggleModal(a);case 23:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.changeSpinnerType=function(t){this.props.dispatch(qn({spinnerType:t}))},n.componentDidMount=function(){var t=this;this.modal&&this.modal.addEventListener("touchmove",this.onTouchMove),this.props.current&&setTimeout(function(){return t.update(t.props)})},n.componentWillUnmount=function(){this.modal&&this.modal.removeEventListener("touchmove",this.onTouchMove)},n.toggleModal=function(){var t=$()(Q.a.mark(function t(e){return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:document.body.classList.toggle("body-overlay",e);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.close=function(){var t=$()(Q.a.mark(function t(e){return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e&&e.target&&e.target===this.modal&&this.props.dispatch(Object(tn.a)(null));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.getSettings=function(){var t=Yn(this.state.current);return Xn[t]},n.factoryModal=function(t){return t&&zn[t]?Object(Gn.b)(function(){return zn[t]()}):Promise.resolve(null)},n.render=function(){var t=this,e=this.state,n=e.Component,r=e.current,i=r&&r.type,o=Boolean(n),a=(Yn(r),Ln.createElement(Ln.Fragment,null,o&&(i&&n&&r?Ln.createElement(n,r.options):Ln.createElement(An.a,{gif:!1})))),s=Object(On.a)("modal",{state:o?"visible":"hidden",add:!!r&&"add_card"===r.id});return Ln.createElement("div",G()({className:s+" ",ref:function(e){return t.modal=e},onClick:this.close},r&&r.id?{id:r.id}:{}),a)},e}(Ln.Component),I()(Hn.prototype,"close",[Vn],Object.getOwnPropertyDescriptor(Hn.prototype,"close"),Hn.prototype),Hn),Qn=Object(Nn.a)(function(t){return{current:Object($e.a)(t).modal}})(Jn),Zn=n("TPTU");function $n(t){var e=t.split("T"),n=e[0],r=e[1],i=n.split("-"),o=i[0],a=i[1],s=i[2];if(r){var c=r.split(":"),u=c[0],l=c[1],d=c[2];return new Date(Number(o),Number(a)-1,Number(s),Number(u),Number(l),Number(d))}return new Date(Number(o),Number(a)-1,Number(s))}var tr=Date.UTC(2018,11,25,9),er=Date.UTC(2019,0,8,9),nr=[E.a.ADD_FLOW,E.a.CARD,E.a.BRO_RECENT,E.a.APP_RECENT];function rr(t,e){var n=Date.now()-t.timeDelta,r=t.flags[dt.d.COLLECTIONS_NY2019],i=t.flags[dt.d.COLLECTIONS_EVENT_POPUP_START_DATE],o=t.flags[dt.d.COLLECTIONS_EVENT_POPUP_END_DATE];t.query,i=i?$n(i).getTime():tr,o=o?$n(o).getTime():er;var a=n>i&&n<o;return"on"===r&&(a=!0),"off"===r&&(a=!1),(t.isBrowserApp||t.isYandexApp||nr.includes(e))&&(a=!1),a}function ir(t){return t.eventPopup&&t.eventPopup.forbidden}var or,ar,sr,cr,ur,lr,dr,hr,fr=n("G7p/"),pr=Math.round(Date.now()/1e3+86400),gr=30*pr,mr=(or=Object(qt.a)(),ar=Object(qt.a)(),sr=Object(qt.a)(),cr=Object(qt.a)(),ur=Object(qt.a)(),lr=function(t){function e(e){var n=t.call(this,e)||this;return n.state={hidden:!0,hideAnimation:!1},n}O()(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this,e=this.props,n=e.isEnabled,r=e.isForbidden;n&&r&&Object(ae.f)("event_popup","1",pr),n&&!r&&(Boolean(Object(ae.b)("event_popup"))||Object(fr.a)(function(){t.show()}))},n.show=function(){var t=this.context.counter;Object(ae.f)("event_popup","1",pr),it.d.showEventPopup(t),document.body.classList.add("page_event-popup"),this.setState({hidden:!1})},n.action=function(){Object(ae.f)("event_popup","1",gr)},n.hide=function(){var t=this.context.counter;it.d.clickEventPopupClose(G()({},t,{target:"button"})),this.hidePopup()},n.cross=function(){var t=this.context.counter;it.d.clickEventPopupClose(G()({},t,{target:"cross"})),this.hidePopup()},n.hidePopup=function(){var t=this;this.setState({hideAnimation:!0}),Object(ae.f)("event_popup","1",pr),setTimeout(function(){t.setState({hidden:!0,hideAnimation:!1}),document.body.classList.remove("page_event-popup")},600)},n.onClick=function(t){t.stopPropagation()},n.render=function(){var t=this.props;return t.isForbidden,t.isEnabled,t.url,null},e}(Ln.PureComponent),I()(lr.prototype,"show",[or],Object.getOwnPropertyDescriptor(lr.prototype,"show"),lr.prototype),I()(lr.prototype,"action",[ar],Object.getOwnPropertyDescriptor(lr.prototype,"action"),lr.prototype),I()(lr.prototype,"hide",[sr],Object.getOwnPropertyDescriptor(lr.prototype,"hide"),lr.prototype),I()(lr.prototype,"cross",[cr],Object.getOwnPropertyDescriptor(lr.prototype,"cross"),lr.prototype),I()(lr.prototype,"hidePopup",[ur],Object.getOwnPropertyDescriptor(lr.prototype,"hidePopup"),lr.prototype),lr),vr=Object(Nn.a)(function(t){return{isForbidden:ir(t),isEnabled:rr(t.env,t.event.route),url:"https://alice.yandex.ru/?utm_source=collections"}})(mr),br=n("3oL/"),_r=n("OYDH"),yr=(dr=Object(qt.a)(),hr=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.isEnabled&&br.a.pushCallback(this.renderPopup)},n.renderPopup=function(){var t={renderTo:"bk-popup-container",format:"popup",cspNonce:this.props.cspNonce};Ya.Context.AdvManager.render(G()({blockId:"Y-A-287824-1"},t))},n.render=function(){return this.props.hidePopup?null:Ln.createElement("div",{id:"bk-popup-container"})},e}(Ln.PureComponent),I()(hr.prototype,"renderPopup",[dr],Object.getOwnPropertyDescriptor(hr.prototype,"renderPopup"),hr.prototype),hr),Cr=Object(Nn.a)(function(t){var e=t.event.route===E.a.ADD_FLOW;return{isEnabled:!rr(t.env,t.event.route)&&Boolean(Object(le.a)(t,dt.d.DISTR_ATOM_TO_BK)),hidePopup:e||Object($e.a)(t).hidePopup,cspNonce:Object(_r.a)(t)}})(yr),Or=Object(Le.a)(function(t,e){var n=e.id,r=t.notifications,i=void 0===r?[]:r;return G()({},t,{notifications:i.filter(function(t){return t.id!==n})})}),Sr=n("EC4j"),wr=n("GWHe"),Er=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={hidden:!0},e}O()(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this,e=this.props.notification,n=e.removeOnScroll,r=e.persistent;setTimeout(function(){t.setState({hidden:!1}),r||(t.timeout=setTimeout(function(){return t.hide()},5e3))},50),n&&window.addEventListener("scroll",function e(){window.removeEventListener("scroll",e),t.hide()})},n.componentWillUnmount=function(){this.timeout&&clearTimeout(this.timeout)},n.hide=function(){var t=this;this.state.hidden||(this.setState({hidden:!0}),setTimeout(function(){t.props.dispatch(Or({id:t.props.notification.id}))},1e3))},n.render=function(){var t,e=this,n=this.props,r=n.notification,i=r.message,o=r.url,a=n.theme,s=this.state.hidden;"dark"===a?t=Ln.createElement("div",{className:"notif__hide"},Ln.createElement(Sr.a,{label:wr.hide(),mods:{type:"clear"},onClick:function(){return e.hide()}})):"normal"===a&&(t=Ln.createElement("div",{className:"notif__close"},Ln.createElement(Sr.a,{mods:{"action-close":[!0,"invert"],"icon-only":!0,type:"clear"},onClick:function(){return e.hide()},icon:!0})));var c=Ln.createElement(Ln.Fragment,null,Ln.createElement("div",{className:"notif__pop__wrap"},o&&Ln.createElement("a",{href:o,className:"notif__link"}),Ln.createElement("p",{className:"notif__text"},i)),t);return Ln.createElement("div",{className:Object(On.a)("notif__pop",{state:s?"hidden":"visible",close:Boolean(t),theme:a})},Ln.createElement("div",{className:"notif__pop__i"},c))},e}(Ln.Component),kr=Object(Nn.a)()(Er),jr=[],Tr=Object(Nn.a)(function(t){return{notifications:t.notifications||jr,isBrowserApp:t.env.isBrowserApp,isYandexRecent:t.env.isYandexRecent}})(function(t){var e=t.notifications,n=t.isBrowserApp,r=t.isYandexRecent;return e.length?Ln.createElement("div",{className:"notif"},e.map(function(t){return Ln.createElement(kr,{key:t.id,notification:t,theme:n?"white":r?"dark":"normal"})})):null}),xr=function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e;return(e?yn.fr:yn.f)([n("script","",{},[t.script])])},Rr="";function Ir(t){return xr.call(t.data.view,{script:Rr})}var Dr=function(t){var e;return(this&&this.isRestored?yn.fr:yn.f)([(e={hash:{},data:{view:this}},xr.call(e.data.view,{script:"",id:U.ob}))," ",Ir({hash:{},data:{view:this}})])};function Pr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n.pop(),o=n.pop(),a=i.data.view.getEnv();return!!a&&a.hasFeature(t,o)}var Lr,Nr,Ar=function(t){var e;return(this&&this.isRestored?yn.fr:yn.f)([Dr.call(this,t)," ",Pr(dt.d.DISTR_ATOM_TO_BK,{hash:{},data:{view:this}})?[]:[(e={hash:{},data:{view:this}},xr.call(e.data.view,{script:""}))]])},Br=function(t){var e=this;return(e&&e.isRestored?yn.fr:yn.f)([t._?[n("tle2")," ",n("jIio")," ",n("Xjfm")," ",n("ybT6")," ",n("YUGr")," ",n("9aKz")]:[],function(t){var n,r=this&&this.isRestored,i=r?yn.ar:yn.a,o=r?yn.er:yn.e;return[i(Tn,{},this)," ",Dn.a.call(t,"content",{hash:{},data:{view:this}})," ",i(Pn.a,{},this)," ",Object(Zn.react)(Object(Zn.renderView)(Qn,{},this),this)," ",Object(Zn.react)(Object(Zn.renderView)(vr,{},this),this),Object(Zn.react)(Object(Zn.renderView)(Cr,{},this),this),Dn.a.call(t,"alerts",{hash:{},data:{view:this}})," ",Object(Zn.react)(Object(Zn.renderView)(Tr,{},this),this)," ",(n={hash:{},data:{view:this}},xr.call(n.data.view,{script:""})),o("script","",{id:"restoreData",type:"application/json"},[]),Ar.call(this,{router:e.options.router})," ",e.isOffline?[o("img","",{src:"/collections/web-api/client-metrics/?target=client-offline-received",width:"1",height:"1",style:"position: absolute;top: -999px;left: -999px"},[])]:[]]}.call(e,t)])},Mr=n("00BG"),Fr=(Lr=Object(P.a)(300),Nr=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){var e=this;t.prototype.initialize.call(this),this.listenTo(this.options.baseState,"change:overflow",this.onRefreshOverflow);var n=this.options.redux.subscribe(function(){return e.onRefreshSidebar()});this.on("destroy",n)},n.onRender=function(){t.prototype.onRender.call(this),this.onRefreshSidebar()},n.onRefreshOverflow=function(){if(this.isIntact()){var t=this.options.baseState.isOverflow();this.body.toggleClass("page_sf",t)}},n.onRefreshSidebar=function(){if(this.isIntact()){var t=Boolean(Object(Mr.a)(this.options.redux.getState()));this.body.toggleClass("page_sidebar",t)}},n.onWindowScroll=function(){var t=this.options.baseState;t&&(t.setPageInAction(!0),this.onWindowScrollEnd())},n.onWindowScrollEnd=function(){this.options.baseState.setPageInAction(!1)},n.serializeData=function(){var e=this.options.event.name;return G()({},t.prototype.serializeData.call(this),{isEmbed:"embed"===e,isOverflow:this.options.baseState.isOverflow(),isAddFlow:e===E.a.ADD_FLOW})},Jt()(e,[{key:"alertsClass",get:function(){return En}},{key:"alertsOptions",get:function(){return{notificationCenter:this.options.notificationCenter,env:this.options.env}}}]),e}(mn),I()(Nr.prototype,"onWindowScrollEnd",[Lr],Object.getOwnPropertyDescriptor(Nr.prototype,"onWindowScrollEnd"),Nr.prototype),Nr);Object(w.a)({template:r,behaviors:{WindowEvents:{behaviorClass:kn}}})(Fr);var Ur,zr,Vr=n("TsaX"),Hr=n("kdr8"),Wr=n("d6BX"),qr=Object(w.a)({options:G()({},Vr.a.prototype.options,{text:Wr.saveAlertHintText,ctrl:{label:Wr.ctrlLogin,className:"button_hint button_hint_login"},loc:"saveRemind"})})(Ur=Object(Hr.a)("onLogin")(Ur=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){this.model.getCardsCount()?this.options.text=Wr.saveAlertCardsHintText:!this.model.hasSubscriptions()&&this.model.getOwnLikes()&&(this.options.text=Wr.saveAlertLikesHintText)},n.onClick=function(e){rt.a.sendCounter(it.a.clickHintAccept,{loc:"saveRemind"}),this.toggleHidden(),this.onLogin(),t.prototype.onClick.call(this,e)},n.onLogin=function(){},e}(Vr.a))||Ur)||Ur,Kr=n("CUhL"),Gr=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.getCollestionsLogo=function(){return Ln.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"94.43",height:"45.6"},Ln.createElement("path",{d:"M12.39 36.1h2.13L6 21.47l7.83-12.54h-1.82L4.07 21.62V8.93h-1.9V36.1h1.9V21.77zm9.12.38c3.3 0 5.85-3.72 5.85-10.07 0-6.57-2.55-9.84-5.85-9.84-3.31 0-5.85 3.68-5.85 10.07 0 6.53 2.54 9.84 5.85 9.84zm0-1.44c-2.24 0-4.07-2.55-4.07-8.52 0-5.81 1.83-8.47 4.07-8.47s4.06 2.47 4.06 8.47c0 5.78-1.82 8.52-4.06 8.52zm11.17-5.59c.3-3 .53-11.1.53-11.1h4.64V36.1h1.78V16.95h-7.98s-.3 9.23-.53 12.31c-.26 3.46-.99 5.32-2.16 5.32-.61 0-.84-.11-.84-.11l.15 1.59s.34.15.76.15c2.51 0 3.19-2.43 3.65-6.76zm11.97-2.62h8.66c.61-6.8-1.52-10.26-4.82-10.26-3.23 0-5.59 3.68-5.59 9.95s1.86 9.96 5.93 9.96c3.04 0 4.48-2.17 4.48-2.17l-.57-1.44s-1.33 2.05-3.87 2.05c-2.78 0-4.14-2.85-4.22-8.09zm3.84-8.78c1.94 0 3.46 2.28 3.15 7.37h-6.95c.15-4.79 1.78-7.37 3.8-7.37zm9.99 8.13l6.65 9.92h1.98l-6.77-10.26 6.31-8.89H64.9l-6.42 9v-9H56.7V36.1h1.78zm22.73 13.68v-5.2h-1.75V16.95h-1.79v17.71h-6.42V16.95h-1.79V36.1h10.11l.23 3.76zm3.8-26.67c.64 0 1.21-.54 1.21-1.22 0-.65-.57-1.25-1.21-1.25-.69 0-1.22.6-1.22 1.25 0 .68.53 1.22 1.22 1.22zm-.92 3.76V36.1h1.79V16.95zm6.43 0V36.1h1.78V16.95zm-1.45-3.76c.65 0 1.14-.5 1.14-1.14 0-.65-.49-1.18-1.14-1.18-.64 0-1.14.53-1.14 1.18 0 .64.5 1.14 1.14 1.14zm4.45 0c.64 0 1.14-.5 1.14-1.14 0-.65-.5-1.18-1.14-1.18-.65 0-1.14.53-1.14 1.18 0 .64.49 1.14 1.14 1.14z"}))},n.render=function(){var t="https://yandex."+this.props.tld;return Ln.createElement("div",{className:"serp-header__logo serp-header__logo_size_m"},Ln.createElement("a",{href:t,className:Object(On.a)("logo",{name:"ys-ru-86x35",size:"m"})}),Ln.createElement("a",{href:t+"/collections?isBrowserFavorites=1",className:Object(On.a)("logo",{collections:!0})},this.getCollestionsLogo()))},e}(Ln.PureComponent),Yr=Object(Nn.a)(function(t){return{tld:t.env.tld}})(Gr),Xr=function(t,e){return t[t[e="SEARCH"]="search"]=e,t[t[e="COLLECTIONS_CARDS"]="collections_cards"]=e,t[t[e="COLLECTIONS_USERCARDS"]="collections_usercards"]=e,t[t[e="COLLECTIONS_BOARDS"]="collections_boards"]=e,t[t[e="COLLECTIONS_USERBOARDS"]="collections_userboards"]=e,t[t[e="COLLECTIONS_USERS"]="collections_users"]=e,t[t[e="COLLECTIONS_CHANNELS"]="collections_channels"]=e,t}({}),Jr=n("kxMj"),Qr=60,Zr=12,$r=150,ti=100,ei=((zr={})[Xr.SEARCH]={itemHeight:32,available:!0,rich:!1,title:"",order:0},zr[Xr.COLLECTIONS_USERCARDS]={itemHeight:56,available:!1,rich:!0,title:Jr.myCards(),order:1,route:E.a.CARD},zr[Xr.COLLECTIONS_BOARDS]={itemHeight:56,available:!0,rich:!0,title:Jr.boards(),order:3,route:E.a.BOARD},zr[Xr.COLLECTIONS_CHANNELS]={itemHeight:162,available:!1,rich:!0,title:Jr.channels(),order:99},zr[Xr.COLLECTIONS_USERS]={itemHeight:56,available:!0,rich:!0,title:Jr.authors(),order:4,route:E.a.PROFILE},zr[Xr.COLLECTIONS_CARDS]={itemHeight:56,available:!1,rich:!0,title:Jr.cards(),order:99,route:E.a.CARD},zr[Xr.COLLECTIONS_USERBOARDS]={itemHeight:56,available:!1,rich:!0,title:"",order:2,route:E.a.BOARD},zr);function ni(){return Object.keys(ei).filter(ii).sort(function(t,e){return ei[t].order-ei[e].order})}function ri(t){return!!ei[t]&&ei[t].rich}function ii(t){return!!ei[t]&&ei[t].available}function oi(t){return ei[t]?ei[t].itemHeight:0}function ai(t){return"owner"in t&&"slug"in t&&"title"in t}function si(t){return"display_name"in t&&"login"in t}function ci(t){return"board_title"in t&&"card_id"in t&&"description"in t}var ui={bt:"board_title",pd:"preview_data",ci:"card_id",ds:"description",st:"source_type",src:"source",u:"url",d:"domain",t:"title",zm:"zoom",nlm:"need_local_map",crd:"coords",gi:function(t,e){var n=t.gi,r={};return Object.keys(n).forEach(function(t){var e=ui[t]||t,i=n[t];"crd"===t&&i&&i.la&&i.lo&&(i={latitude:i.la,longitude:i.lo}),r[e]=i}),e.geo_info=r,e},ap:function(t,e){var n=t.ap.split("/");return e.preview_data={},e.preview_data.group_id=n[0]||"",e.preview_data.avatars_key=n[1]||"",e},sub:function(t,e){var n={m:"is_market",r:"is_recipe",g:"is_geo"}[t.sub];return n&&(e[n]=!0),e}},li=1e3,di=3,hi=function(t,e){return t[t[e="IMAGES"]="i"]=e,t[t[e="COLLECTIONS"]="c"]=e,t[t[e="DESKTOP"]="d"]=e,t[t[e="MOBILE"]="m"]=e,t}({}),fi=0,pi=0,gi=0;function mi(t,e,n){var r=++fi,i="suggest_"+(e.richSuggestExp?hi.COLLECTIONS:hi.IMAGES)+hi.DESKTOP+r,o=document.cookie.match("yandexuid=([0-9]+)"),a=e.richSuggestExp?e.suggestCustomUrl:"/suggest-images/suggest-ya.cgi",s=e.prevQuery||"",c={callback:i,uil:"ru",hl:"1",v:"4",n:"10",part:t,"prev-query":s,srv:e.richSuggestExp?"collections":"images_ru",yu:o&&o[1],lr:e.regionId||213,_:Date.now()};function u(){window[i]=null,document.body.removeChild(l)}e.richSuggestExp||Object.assign(c,{portal:"1",fact:"1",icon:"1",wiz:"TrWth",svg:"1"}),e.suggestMaxItems&&(c.n=e.suggestMaxItems),a+="?"+Object.keys(c).reduce(function(t,e){return t.push(e+"="+encodeURIComponent(c[e])),t},[]).join("&"),window[i]=function(t){try{r>pi&&(pi=r,n(function(t,e){var n=[];if(!t||t.length<2)return n;var r,i,o={},a=!1!==e.addBoardExtraItem;e.richSuggestExp&&(r=function(t,e){var n=0,r=t[1].reduce(function(t,e){if(!e||!Array.isArray(e))return t;e[0],e[1];var r=e[2],i=r.group&&ri(r.group)?r.group:Xr.SEARCH;return ii(i)?(t[i]=t[i]?t[i]+1:1,n++,t):t},{}),i=Object.keys(r),o=e.addBoardExtraItem?function(t){return t[Xr.COLLECTIONS_BOARDS]||t[Xr.COLLECTIONS_USERBOARDS]?oi(Xr.SEARCH):0}(r):0,a=function(t){return 0===t.length?0:(t.length-1)*Zr}(i),s=window.innerHeight-Qr-ti-o-a;if(s<$r&&(s=$r),i.reduce(function(t,e){return t+r[e]*oi(e)},0)<=s)return r;for(var c=i.reduce(function(t,e){return t[e]=0,t},{});n>0;)i.forEach(function(t){if(r[t]){var e=oi(t);s>=e?(s-=e,c[t]++,r[t]--,n--):(n-=r[t],r[t]=0)}});return c}(t,{addBoardExtraItem:a}),i=a&&Boolean(r[Xr.COLLECTIONS_BOARDS])),t[1].forEach(function(t){if(t&&Array.isArray(t)){t[0],t[1];var n=t[2],i=n.group&&ri(n.group)?n.group:Xr.SEARCH;if(e.richSuggestExp){if(!r[i])return;r[i]--}var a=function(t){var e,n=t[0],r=t[1],i=t[2],o=ri(i.group),a=o?i.group:Xr.SEARCH,s=[];if(o){if(null===(e=function(t){var e,n,r=null;try{r=JSON.parse(t)}catch(t){}return r&&(e=r,n={},Object.keys(e).forEach(function(t){var r=ui[t],i=typeof r;r?"string"===i?n[r]=e[t]:"function"===i&&(n=r(e,n)):n[t]=e[t]}),r=n),r}(i["rich-content"])))return null;if(ai(e)){r=e.title;var c=e,u=c.owner,l=c.slug;e.routeOptions={login:u,slug:l}}else if(si(e)){r=e.display_name;var d=e.login;e.routeOptions={login:d}}else if(ci(e)){r=e.description;var h=e.card_id;e.routeOptions={id:h}}}else e={};if("nav"===n){t[0];var f=t[1],p=t[2];return{type:"nav",value:f,params:{domain:t[3],url:t[4],title:p},parts:s,group:a}}if(i&&i.hl){var g=0;return i.hl.forEach(function(t){var e=t[0],n=t[1];e!==g&&s.push({hl:!1,value:r.slice(g,e)}),s.push({hl:!0,value:r.slice(e,n)}),g=n}),g<r.length&&s.push({hl:!1,value:r.slice(g)}),{value:r,parts:s,group:a,richData:e}}return s.push({hl:!1,value:r}),{value:r,parts:s,group:a,richData:e}}(t);a&&(o[i]||(o[i]=[]),o[i].push(a))}});var s=o[Xr.COLLECTIONS_USERBOARDS];if(s&&s.length){var c=o[Xr.COLLECTIONS_BOARDS]||[];s.forEach(function(t){t.group=Xr.COLLECTIONS_BOARDS}),o[Xr.COLLECTIONS_BOARDS]=s.concat(c),o[Xr.COLLECTIONS_USERBOARDS]=[],i=a}return i&&o[Xr.COLLECTIONS_BOARDS].push({value:t[0],parts:[{hl:!1,value:Jr.allFoundBoards()}],group:Xr.COLLECTIONS_BOARDS,extraItem:!0,richData:{}}),ni().reduce(function(t,e){return o[e]?t.concat(o[e]):t},n)}(t,e)))}finally{u(),gi=0}};var l=document.createElement("script");l.src=a,document.body.appendChild(l),l.onerror=function(){u(),setTimeout(function(){r>pi&&gi<di&&(gi++,mi(t,e,n))},li)}}var vi=n("faye"),bi=n("mc+J");function _i(t){var e=t.voice,n=t.cbir,r=t.search,i=t.text,o=t.placeholder,a=t.controlAttrs,s=t.inputRef,c=t.onSearchClick,u=t.onVoiceClick,l=t.onCbirClick,d=t.onChange,h=t.onClearClick;return Ln.createElement(bi.a,{hasClear:!0,theme:"websearch",name:"text",placeholder:o,text:i,controlAttrs:a,onChange:d,onClearClick:h,ref:function(t){var e=Object(vi.findDOMNode)(t);if(e instanceof Element){var n=e.querySelector("input");n&&s(n)}}},r&&Ln.createElement("span",{className:"icon icon_type_search textinput__search",onClick:c}),e&&Ln.createElement("span",{className:"icon icon_type_voice textinput__voice",onClick:u}),n&&Ln.createElement("span",{className:"icon icon_type_cbir textinput__cbir",onClick:l}))}var yi=function(t){function e(e){var n=t.call(this,e)||this;return n.onClick=n.onClick.bind(Zt()(Zt()(n))),n.onMouseOut=n.onMouseOut.bind(Zt()(Zt()(n))),n.onMouseOver=n.onMouseOver.bind(Zt()(Zt()(n))),n}O()(e,t);var n=e.prototype;return n.onClick=function(t){t.stopPropagation(),this.props.onClick(this.props.item)},n.onMouseOver=function(){this.props.onMouseOver(this.props.item)},n.onMouseOut=function(){this.props.onMouseOut(this.props.item)},n.render=function(){var t=this.props,e=t.current,n=t.interact,r=t.rich;return Ln.createElement("li",{className:Object(On.a)("suggest2-item",{selected:e&&"yes",rich:r,interact:n}),onClick:this.onClick,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut},this.props.children)},e}(Ln.Component),Ci=function(t){var e=t.item,n=t.className,r=e.parts.map(function(t,n){return t.hl?Ln.createElement("b",{key:e.value+n},t.value):t.value});return Ln.createElement("span",{className:n||"suggest2-item__text"},r)},Oi=function(t){return Ln.createElement(yi,t,Ln.createElement(Ci,{item:t.item}))};function Si(t){var e=t.item.params||{},n=e.url,r=e.title,i=e.domain;return Ln.createElement(yi,G()({},t,{interact:"link"}),Ln.createElement("a",{className:"suggest2-item__link",href:n},Ln.createElement("span",{className:"suggest2-item__text suggest2-item__text_type_url"},i),Ln.createElement("span",{className:"suggest2-item__icon suggest2-item__icon_size_s",style:{backgroundImage:"url(//favicon.yandex.net/favicon/"+encodeURIComponent(i)+")"}}),Ln.createElement("span",{className:"suggest2-item__fact"},Ln.createElement("span",{className:"suggest2__a11y"},"Быстрый ответ: "),r)))}var wi,Ei,ki=n("YAwY"),ji=n("45c2"),Ti=n("YQQ1"),xi=n("m7Ew"),Ri=n("NFi3"),Ii=n("6/ZC"),Di=function(t,e){return t[t[e="GEO"]="geo"]=e,t[t[e="LINK"]="link"]=e,t[t[e="MARKET"]="market"]=e,t}({}),Pi=function(t){var e=t.item.richData;if(!ci(e))return null;var n,r=e.board_title,i=e.preview_data,o=e.card_id,a=e.source_type,s=e.geo_info,c=e.title,u=e.url,l=e.domain,d=e.is_geo,h=e.is_market,f=[],p="",g="";if(u&&a!==Se.a.VIDEO&&(g=u),d&&s){var m=function(t){if(t){var e=t.geo_info;if(e&&e.coords){var n=e.coords;if("latitude"in n&&"longitude"in n)return n}}}(e);if(m){var v=Object(Ri.a)(m.longitude,m.latitude,c,s&&s.zoom);g=location.origin+v}}i&&(n="url("+Object(ki.a)(i,{size:"smart130"})+")"),Object(Ii.a)(a)||Boolean(d)?p=Di.GEO:Boolean(h)?p=Di.MARKET:u&&a!==Se.a.VIDEO&&(p=Di.LINK),l&&f.push(l),f.push(r);var b=Ln.createElement(Bi,{thumb:{type:"card",video:a===Se.a.VIDEO},thumbImage:n,item:t.item,itemTextType:p,info:f});return Ln.createElement(yi,t,g?Ln.createElement(xi.a,{href:g,className:"suggest2-item__link"},b):Ln.createElement(Ti.a,{className:"suggest2-item__link",cardId:o},b))},Li=(n("8dP3"),n("ixsu"),n("6mHx"),n("51KI")),Ni=(n("YDzz"),n("qQ+z"),n("ZMRC")),Ai=n("6muZ"),Bi=function(t){var e=t.thumb,n=t.thumbImage,r=t.item,i=t.itemTextType,o=t.info,a=r.richData,s=e.type,c=e.video,u=e.verified;return a?Ln.createElement("div",{className:"suggest2-item__wrapper"},"user"===s?Ln.createElement(Ai.a,{mod:"suggest",isVerified:u,avatarUrl:n}):Ln.createElement("div",{className:Object(On.a)("suggest2-item__thumb",{type:s,video:c}),style:{backgroundImage:n}}),Ln.createElement("div",{className:"suggest2-item__title"},Ln.createElement(Ci,{item:r,className:Object(On.a)("suggest2-item__text",{"type-geo":i===Di.GEO,"type-market":i===Di.MARKET,"type-link":i===Di.LINK})})),Ln.createElement("div",{className:"suggest2-item__info"},Ln.createElement("ul",{className:Object(On.a)("dot-list",{size:"M",fixed:!0})},o.map(function(t,e){return Ln.createElement("li",{key:e,className:"dot-list__item"},t)})))):null},Mi=function(t){var e=t.item.richData;if(t.item.extraItem)return Ln.createElement(Oi,t);if(!ai(e))return null;var n,r=e.owner,i=e.slug,o=e.stat,a=e.preview_data,s=e.display_name,c=e.is_verified,u=(o||{}).cards_count,l=void 0===u?0:u,d=Ln.createElement(Li.a,{mod:"suggest",color:"grey",verified:Boolean(c),verifiedSize:"S",insertHref:!1},Ln.createElement(Ni.a,{displayName:s||r}));return a&&(n="url("+Object(ki.a)(a,{size:"smart130"})+")"),Ln.createElement(yi,t,Ln.createElement("a",{className:"suggest2-item__link",href:Object(E.d)(r,i)},Ln.createElement(Bi,{thumb:{type:"card"},item:t.item,thumbImage:n,info:[d,ji.cards({count:l})]})))},Fi=n("tWT4"),Ui=Object(Nn.b)()(function(t,e){var n=e.counter,r=t.item.richData;if(!si(r))return null;var i,o=r.login,a=r.stats,s=r.default_avatar_id,c=r.is_verified,u=a||{},l=u.subscribers,d=void 0===l?0:l,h=u.boards,f=void 0===h?0:h,p=[];return s&&(i=Object(Fi.a)({login:"",default_avatar_id:s},{size:"islands-retina-middle"})),0!==o.indexOf("uid-")&&p.push(o),p.push(ji.boards({count:f})),p.push(ji.followers({count:d})),Ln.createElement(yi,t,Ln.createElement("a",{href:Object(E.w)(o),className:"suggest2-item__link","data-c":it.c.clickUser(G()({},n,{userLogin:o}))},Ln.createElement(Bi,{thumb:{type:"user",verified:Boolean(c)},item:t.item,thumbImage:i,info:p})))}),zi=(wi=Object(qt.a)(),Ei=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=t.groupId,n=t.items,r=function(t){return ei[t]?ei[t].title:""}(e);return Ln.createElement("div",{className:"suggest2__group"},Ln.createElement("div",{className:"suggest2__title"},r),Ln.createElement("ul",{className:"suggest2__items"},n.map(this.renderItem)))},n.renderItem=function(t,e){var n;return n=t.group===Xr.COLLECTIONS_BOARDS||t.group===Xr.COLLECTIONS_USERBOARDS?Mi:t.group===Xr.COLLECTIONS_USERS?Ui:t.group===Xr.COLLECTIONS_USERCARDS?Pi:"nav"===t.type?Si:Oi,Ln.createElement(n,{key:t.group+"/"+e,item:t,current:t===this.props.currentItem,rich:ri(t.group)&&!t.extraItem,onClick:this.props.onClick,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut})},e}(Ln.Component),I()(Ei.prototype,"renderItem",[wi],Object.getOwnPropertyDescriptor(Ei.prototype,"renderItem"),Ei.prototype),Ei),Vi=n("yuhE").a.applyDecls(),Hi=n("1cBT");function Wi(t){if(t){if(t instanceof oe){var e=t.event;if(!e)return;return e.origName||e.name}var n=t.event;if(n)return n.origRoute||n.route}}function qi(t){return!!t&&fn.includes(Wi(t))}var Ki=n("nt9X");function Gi(t){return Object(Ki.a)(t)===U.Y}var Yi=n("MTjZ"),Xi=Object(Ze.a)(function(){var t=$()(Q.a.mark(function t(e,n){var r,i,o,a;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.di,i=n.getState,o=!Gi(Object(Yi.a)(i()))&&Object(le.a)(i(),dt.d.BOARDS_SEARCH)&&!qi(i()),t.next=4,r(o?"micCollectionsModal":"micModal");case 4:return a=t.sent,t.abrupt("return",new Promise(function(t){return a.on("result",t)}));case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}());function Ji(t){var e=t.search;if(!e)return{};var n=Object(xe.a)(e,!0);return{exp_flags:n.exp_flags,exp_confs:n.exp_confs,"test-id":n["test-id"],"no-tests":n["no-tests"]}}var Qi=n("EffQ"),Zi=Object(Ze.a)(function(){var t=$()(Q.a.mark(function t(e,n){var r,i,o,a,s,c,u,l,d,h,f;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.text,i=e.suggest,o=e.eventSource,a=n.getState,s=n.di,c=n.dispatch,u=Ji(a().event),t.next=5,s("RouterState");case 5:if(l=t.sent,!i){t.next=18;break}if("nav"!==i.type){t.next=10;break}return location.href=i.params.url,t.abrupt("return");case 10:if(d=i.richData,!ri(i.group)||i.extraItem){t.next=18;break}if("key"===o){t.next=14;break}return t.abrupt("return");case 14:if(p=i.group,h=ei[p]?ei[p].route:"",f="routeOptions"in d&&d.routeOptions,!h||!f){t.next=18;break}return t.abrupt("return",l.navigate(h,G()({},u,f)));case 18:Gi(Object(Yi.a)(a()))||!Object(le.a)(a(),dt.d.BOARDS_SEARCH)||qi(a())?location.href=Object(E.l)(G()({},u,{text:r})):(c(Object(Qi.a)(!0)),l.navigate(E.a.SEARCH_BOARDS,G()({},u,{text:r})).then(function(){c(Object(Qi.a)(!1))}).catch(function(t){console.error(t),c(Object(Qi.a)(!1))}));case 20:case"end":return t.stop()}var p},t,this)}));return function(){return t.apply(this,arguments)}}()),$i=n("Wopx");function to(t){return Object($i.a)(t).region}var eo=n("Z0W1"),no=function(t){function e(e){var n=t.call(this,e)||this,r=(e.items,e.text||""),i=document.querySelector(".search2 input");if(i){var o=i.value;r!==o&&setTimeout(function(){n.onChangeText(o)})}return n.state={text:r,items:[],visible:!1,current:null},n.setSuggestAvailable(e),n.search=n.search.bind(Zt()(Zt()(n))),n.onChangeText=n.onChangeText.bind(Zt()(Zt()(n))),n.onItemClick=n.onItemClick.bind(Zt()(Zt()(n))),n.onSelectOut=n.onSelectOut.bind(Zt()(Zt()(n))),n.selectItem=n.selectItem.bind(Zt()(Zt()(n))),n.onInputFocus=n.onInputFocus.bind(Zt()(Zt()(n))),n.onInputBlur=n.onInputBlur.bind(Zt()(Zt()(n))),n.onPopupClick=n.onPopupClick.bind(Zt()(Zt()(n))),n.onKeyDown=n.onKeyDown.bind(Zt()(Zt()(n))),n.onVoiceClick=n.onVoiceClick.bind(Zt()(Zt()(n))),n.onCbirClick=n.onCbirClick.bind(Zt()(Zt()(n))),n.onSearch=n.onSearch.bind(Zt()(Zt()(n))),n.onClearClick=n.onClearClick.bind(Zt()(Zt()(n))),n}O()(e,t);var n=e.prototype;return n.componentDidUpdate=function(){this.setSuggestAvailable(this.props)},n.setSuggestAvailable=function(t){t.richSuggestMyCardsExp&&(ei[Xr.COLLECTIONS_USERCARDS].available=!0),t.richSuggestMyBoardsExp&&(ei[Xr.COLLECTIONS_USERBOARDS].available=!0)},n.requestData=function(t,e){var n=this;if(void 0===t&&(t=this.state.text),void 0===e&&(e=!1),this._currentQuery!==t){var r=this.props,i=r.suggestCustomUrl,o=r.suggestMaxItems,a=r.richSuggestExp,s=r.regionId;if(this._currentQuery=t,t&&!e){var c={suggestCustomUrl:i,suggestMaxItems:o,richSuggestExp:a,prevQuery:this.props.text,regionId:s};mi(t,c,function(e){n.state.text===t&&(n.setState({items:e,current:void 0}),n.shouldHideBanners(e))})}else this._clearSuggestItems()}},n.search=function(t,e,n){void 0===t&&(t=this.state.text),void 0===e&&(e=!1),this.setState({visible:!1,text:t});var r=this.state,i=r.current,o=r.items,a=!e&&i&&-1!==o.indexOf(i)?i:void 0;!function(t){if(t)try{var e=t.createTextRange();e.move("character",0),e.select(),t.blur()}catch(e){t.scrollLeft=0}}(this.input),this.props.dispatch(Zi({text:t,suggest:a,eventSource:n}))},n.onSearch=function(){this.search(this.state.text,!0)},n.onChangeText=function(t){this.changeInputText(t,!1)},n.onItemClick=function(t){ri(t.group)&&!t.extraItem?(this.hide(),this.onSelectOut(t),this._clearSuggestItems(),this.setState({text:""})):this.search(t.value),this._forceInputBlur()},n.onInputFocus=function(){this.show(),this.requestData()},n.onInputBlur=function(){var t=this;this.timeout=setTimeout(function(){t.input!==document.activeElement&&t.hide()},100)},n._forceInputBlur=function(){var t=document.activeElement;t&&t.blur()},n.onClearClick=function(){this._clearSuggestItems()},n._clearSuggestItems=function(){this.setState({items:[],current:void 0})},n.onKeyDown=function(t){switch(t.keyCode){case U.I.ESCAPE:return this.hide();case U.I.ENTER:return t.preventDefault(),this._forceInputBlur(),this.search(this.state.text,!1,"key");case U.I.DOWN:return t.preventDefault(),this.nextItem();case U.I.UP:return t.preventDefault(),this.prevItem()}this.show(),this.state.text!==this._currentQuery&&this.requestData()},n.changeInputText=function(t,e,n){this.state.text!==t&&(this.setState({text:t}),this.requestData(t,n),t&&!e&&this.show())},n.selectItem=function(t,e){if(void 0===e&&(e=!1),e){var n=this.state.text;n=t?t.value:this._currentQuery,this.setState({current:t,text:n})}else this.setState({current:t})},n.nextItem=function(){this._moveItem(1)},n.prevItem=function(){this._moveItem(-1)},n._moveItem=function(t){var e=this.state,n=e.current,r=e.items;if(n){var i=r.indexOf(n),o=i>-1?r[i+t]:void 0;this.selectItem(o,!0)}else{var a=t>0?0:r.length-1;this.selectItem(r[a],!0)}},n.onSelectOut=function(t){this.state.current===t&&this.setState({current:void 0})},n.onPopupClick=function(t){t.preventDefault(),clearTimeout(this.timeout),this.input&&this.input.focus()},n.onVoiceClick=function(){var t=$()(Q.a.mark(function t(){var e;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.hide(),t.prev=1,t.next=4,this.props.dispatch(Xi());case 4:e=t.sent,this.setState({text:e}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])}));return function(){return t.apply(this,arguments)}}(),n.onCbirClick=function(){var t=this.props.onCbirClick;t&&t(),this.hide()},n.show=function(){var t=window,e=this.state.items;t.DaasPopup&&t.DaasPopup.hide&&t.DaasPopup.hide(),this.shouldHideBanners(e),this.state.visible||this.setState({visible:!0})},n.hide=function(){this.state.visible&&this.setState({visible:!1})},n.shouldHideBanners=function(t){t&&t.length&&this.props.dispatch(Object(ht.a)({hidePopup:!0}))},n.componentWillReceiveProps=function(t){t.clear&&this.changeInputText("",!1,!0),this.changeInputText(t.text,!0)},n.groupsFromItems=function(t){var e={};return t.forEach(function(t){e[t.group]||(e[t.group]=[]),e[t.group].push(t)}),e},n.render=function(){var t=this,e=this.state,n=e.text,r=e.items,i=e.visible,o=this.props,a=o.cbir,s=o.voice,c=o.browserFavoritesSearch,u=o.hasSmallPadding,l=Object(On.a)("suggest2",{search2:"yes",theme:"large",adaptive:"yes",group:"label",type:"advanced",visible:i&&r.length?"yes":"no","label-pos":"left","browser-search":c&&"uk"}),d=this.groupsFromItems(r);return Ln.createElement(Vi,{size:"m",theme:"websearch",url:"/images/search",mix:{mods:{cbir:a,voice:s,"browser-search":c,"buttons-outside":"2"}}},Ln.createElement(Vi.Input,{input:Ln.createElement(_i,{text:n,placeholder:c&&Hi.placeholder(),cbir:!c&&a,voice:!c&&s,search:c,onSearchClick:this.onSearch,onVoiceClick:this.onVoiceClick,onCbirClick:this.onCbirClick,onClearClick:this.onClearClick,controlAttrs:{autoComplete:"off",onClick:this.onInputFocus,onBlur:this.onInputBlur,onFocus:this.onInputFocus,onKeyDown:this.onKeyDown,autoFocus:!n},inputRef:function(e){return t.input=e},onChange:this.onChangeText})}),!c&&Ln.createElement(Vi.Button,{theme:"websearch",type:"submit",pin:"clear-round",onClick:this.onSearch},Hi.search()),Ln.createElement("div",{className:"popup2 "+l,onMouseDown:this.onPopupClick},Ln.createElement("div",{className:Object(On.a)("suggest2__content",{theme:"large",padding:u&&"small"})},ni().map(function(e){return d[e]?Ln.createElement(zi,{groupId:e,items:d[e],currentItem:t.state.current,key:e,onClick:t.onItemClick,onMouseOver:t.selectItem,onMouseOut:t.onSelectOut}):null}))))},e}(Ln.Component),ro=Object(Nn.a)(function(t){var e,n,r,i,o=qi(t),a=Gi(Object(Yi.a)(t));return{text:Object(Ee.a)(t).text,voice:(e=Object(eo.a)(t),n=e.BrowserName,r=e.BrowserVersion,i=parseInt(r),"Chrome"===n&&i>49||"YandexBrowser"===n&&i>14),hasSmallPadding:Object(le.a)(t,dt.d.BEAUTY_LAYOUT),suggestCustomUrl:o?"":Object(le.a)(t,dt.d.DESKTOP_SUGGEST_CUSTOM_URL),suggestMaxItems:o?"":Object(le.a)(t,dt.d.DESKTOP_SUGGEST_MAX_ITEMS),richSuggestExp:Object(le.a)(t,dt.d.DESKTOP_RICH_SUGGEST)&&!o,richSuggestMyCardsExp:Object(le.a)(t,dt.d.DESKTOP_RICH_SUGGEST_MY_CARDS)&&!o,richSuggestMyBoardsExp:Object(le.a)(t,dt.d.DESKTOP_RICH_SUGGEST_MY_BOARDS)&&!o,clear:![E.a.SEARCH_BOARDS,E.a.SEARCH].includes(t.event.route)&&!a,regionId:to(t)}})(no);function io(t){var e=Object(Yi.a)(t);return Boolean(e&&e.plus)}n("p/3D");var oo=n("PEpF"),ao=Object(oo.decl)({block:"notifier",onIconClick:function(){var t=this.state.popupVisible;this.__base.apply(this,arguments),it.d.clickTimeline({visible:!t})},_getIframeUrl:function(){return this.props.iframeUrl||this.__base.apply(this,arguments)},_getLoaderUrl:function(){return this.props.loaderUrl||this.__base.apply(this,arguments)}}).applyDecls(),so=["ru","uz","kz","ua","by"],co=Object(Nn.a)(function(t){return{tld:t.env.tld}})(function(t){var e=t.tld;return so.includes(e)?Ln.createElement(ao,{size:"m",iframeUrl:"https://yandex."+e+"/global-notifications/yandex-notifications/stable/iframe/index.ru.html",loaderUrl:"https://yastatic.net/q/global-notifications/iframe-loader/stable/index.min.js",apiHost:"https://cloud-api.yandex."+e+"/images_gnc/",serviceDatabaseId:".pub.notifier@notification_services",domain:e,mix:{mods:{fade:"yes"}}}):null}),uo=n("Wk2l"),lo=n("Eo2z");function ho(t,e){e.target.href=t+"/registration?origin=images_head_auth&retpath="+encodeURIComponent(location.href)}function fo(t,e){e.target.href=t+"/auth?origin=images_head_auth&retpath="+encodeURIComponent(location.href)}var po=Object(Nn.a)(function(t){return{passportHost:"https://passport.yandex."+Object(lo.a)(t)}})(function(t){var e=t.passportHost;return Ln.createElement("div",{className:"serp-user serp-user_type_enter header__user"},Ln.createElement("a",{onMouseDown:ho.bind(null,e),className:"link serp-user__registration-link",href:e+"/registration?origin=images_head_auth"},uo.register()),Ln.createElement("a",{onMouseDown:fo.bind(null,e),className:"button2 button2_type_link button2_size_m button2_theme_action button2_view_classic serp-user__login-link",href:e+"/auth?origin=images_head_auth"},Ln.createElement("span",{className:"button2__text"},Ln.createElement("span",{className:"icon icon_type_user button2__icon"}),uo.login())))}),go=n("RouB");function mo(t){Object(go.a)(Object(Yi.a)(t));var e=io(t),n=Boolean(Object(le.a)(t,dt.d.YA_PLUS)||Object(le.a)(t,dt.d.YAPLUS_KZ));return e||n}n("Sn7e"),n("JxX5");var vo=n("xMdT").a.applyDecls(),bo=Object(Nn.a)(function(t){var e=io(t);return{enabled:mo(t),available:!e,isNew:!1}})(function(t){var e=t.enabled,n=t.available,r=(t.isNew,t.className);return e?Ln.createElement(vo,{cls:Object(On.a)("yaplus",{type:""},r),plusLinkParams:"?from=collections&utm_campaign=plus&utm_medium=collections&utm_source=yandex&source=collections",available:n}):null}),_o=n("EP4u").a.applyDecls(),yo=n("xpjn"),Co=n("8KBr"),Oo=n("IWXk"),So=n("y6Xm"),wo=n("i1uP"),Eo=Object(wo.a)(Oo.a,Object(So.a)("default_avatar_id")),ko=n("1XU/");function jo(t){return t&&t.event&&t.event.href}var To,xo,Ro=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={noAccounts:!1,inbox:0},e}O()(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.fetchAccounts().catch(function(e){console.error(e),t.setState({noAccounts:!0})}),setTimeout(function(){return t.mailPolling()},1e4)},n.fetchAccounts=function(){var t=$()(Q.a.mark(function t(){var e,n,r,i;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.props,n=e.yandexuid,r=e.tld,n){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,ct(Object(ko.a)("https://pass.yandex.ru/accounts",r),{yu:n});case 5:i=t.sent,this.setState({accounts:i.accounts});case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.mailPolling=function(){var t=$()(Q.a.mark(function t(){var e,n,r,i,o=this;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!U.jb){t.next=2;break}return t.abrupt("return");case 2:return e=this.props.tld,t.prev=3,t.next=6,fetch(Object(ko.a)("https://mail.yandex.ru/api/v2/collections/counters",e),{credentials:"include"});case 6:return n=t.sent,t.next=9,n.json();case 9:r=t.sent,i=r&&r.counters&&r.counters.unread,this.state.inbox!==i&&this.setState({inbox:i}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),console.error(t.t0);case 17:return t.prev=17,setTimeout(function(){return o.mailPolling()},3e4),t.finish(17);case 20:case"end":return t.stop()}},t,this,[[3,14,17,20]])}));return function(){return t.apply(this,arguments)}}(),n.render=function(){var t=this.props,e=t.user,n=t.yandexuid,r=t.hasHat,i=t.tld,o=t.yaplus,a=this.state,s=a.accounts,c=a.noAccounts,u=a.inbox;if(!e||!Object(go.a)(e))return null;var l=!s&&!c,d=s?s.filter(function(t){return t.login!==e.login&&t.uid!==String(e.uid)}):[];return Ln.createElement(_o,{uid:String(e.uid),yu:n,plusLinkParams:"?from=collections_menu&utm_campaign=plus&utm_medium=collections_menu&utm_source=yandex&source=collections_menu",hat:r?{fetchUrl:"https://yabs.yandex.ru/page/280743",fetchData:!0}:void 0,retpath:this.props.origin,passportHost:"https://passport.yandex."+i,name:Object(Co.a)(e),avatarId:Eo(e),unreadCount:u,yaplus:o,contentRegion:i,addAccountHidden:l,hasAccentLetter:!0,fetchAccounts:l},d.map(function(t){return Ln.createElement(yo.a,{key:t.uid,uid:t.uid,avatarId:t.displayName.default_avatar,name:t.displayName.name,subname:t.defaultEmail||t.social,hasAccentLetter:!0,pic:!0})}))},e}(Ln.Component),Io=Object(Nn.a)(function(t){var e=Object($i.a)(t),n=jo(t),r=location.href;return n&&(r=e.origin+jo(t)),{user:Object(Yi.a)(t),yandexuid:String(e.cookies.yandexuid||""),hasHat:Boolean(Object(le.a)(t,dt.d.USER_HAT)),origin:r,tld:e.tld,yaplus:mo(t)?io(t):void 0}})(Ro),Do=n("HC/e"),Po=n.n(Do),Lo=n("bA4n"),No=Object(Nn.b)(function(t){var e=t.event&&t.event.route,n=Object(Ee.a)(t),r=e===E.a.MAIN,i=Object(Yi.a)(t);return{isFavorites:r,favoritesNavDisabled:r&&!n.feed&&!n.recent,hasFavorites:Boolean(Object(le.a)(t,dt.d.HEADER_FAVORITES)),available:!io(t),isAuthorized:Object(go.a)(i),isOffline:Gi(i)}})(function(t,e){var n=e.counter,r=t.isOffline,i=t.isAuthorized,o=t.isFavorites,a=t.hasFavorites,s=t.favoritesNavDisabled,c=t.available,u=a&&Ln.createElement(Sr.a,{mods:{ei:!0,head:[!0,"favorites"],size:"L",type:"clear","icon-only":!0,state:!!o&&"check"},props:{href:Object(E.m)(),title:Lo.collections(),"data-c":it.c.clickMain(n),"data-navigate":"true","data-prevent":s?"true":"false"}},Ln.createElement(Po.a,{fill:"#000"}));if(i){var l=Ln.createElement(bo,{className:"header__yaplus yaplus_auth"});return Ln.createElement(Ln.Fragment,null,c&&l,u,Ln.createElement(co,null),!c&&l,Ln.createElement("div",{className:"serp-user serp-user_type_menu header__user"},Ln.createElement(Io,null)))}return r?null:Ln.createElement(Ln.Fragment,null,Ln.createElement(bo,null),u,Ln.createElement(po,null))}),Ao=function(){return Ln.createElement("div",{className:"serp-header serp-header_browser-search"},Ln.createElement("div",{className:"serp-header__main serp-header__main_browser-search"},Ln.createElement(Yr,null),Ln.createElement("div",{className:"serp-header__search2 serp-header__search2_browser-search"},Ln.createElement(ro,{browserFavoritesSearch:!0})),Ln.createElement("div",{className:"serp-header__nav"},Ln.createElement(No,null))))},Bo=n("GhlN"),Mo=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={},e}O()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.dynamic&&this.setState({visible:!0})},n.getCustomLogo=function(){var t=this.props,e=t.tld,n=t.logo,r=t.pixelRatio,i=n.url,o=n.retina,a=r>=2&&o?"url("+o+")":"url("+i+")";return Ln.createElement(Ln.Fragment,null,Ln.createElement("style",null,".logo_custom {background-image:  "+a+";background-image: -webkit-image-set(url("+i+") 1x, url("+o+") 2x);z-index: 1;}"),Ln.createElement("a",{href:"https://yandex."+e,className:Object(On.a)("logo",{size:"2",custom:!0}),title:n.title}))},n.getDefaultLogo=function(t){var e=this.props.tld;return Ln.createElement("a",{href:"https://yandex."+e,className:Object(On.a)("logo",{name:"ys-ru-86x35",type:"link",hidden:t})})},n.render=function(){var t=this.props,e=t.logo,n=t.dynamic,r=t.isShortLogo,i=n&&!this.state.visible;return Ln.createElement("div",{className:Object(On.a)("serp-header__logo",{beauty:r&&"layout"})},e&&!i?this.getCustomLogo():this.getDefaultLogo(i))},e}(Ln.Component),Fo=Object(Nn.a)(function(t){var e,n,r=t.env.logos,i=r&&Boolean(r.length);if(i){var o=Date.now(),a=Object(le.a)(t,dt.d.DESKTOP_IMAGE_LOGO_DATE);if(a){var s=a.split("|"),c=s[0],u=s[1];o=$n(void 0===u?c:u).getTime()}o-=6e4*(new Date).getTimezoneOffset(),e=r.find(function(t){return o>=t.start&&o<t.finish})}return Object(le.a)(t,dt.d.BEAUTY_LAYOUT)&&(n=!0),{logo:e,tld:t.env.tld,dynamic:i,pixelRatio:t.env.pixelRatio||1,isShortLogo:n}})(Mo),Uo=(To=Object(qt.a)(),xo=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={opened:!1},e}O()(e,t);var n=e.prototype;return n.onMoreClick=function(t){t.preventDefault(),this.setState({opened:!0})},n.render=function(){var t=this,e=this.props,n=e.nav,r=e.hasSmallPadding,i=this.state.opened;if(!n)return null;var o=n.filter(function(t){var e=t.toggle,n=t.hide;return!(!i&&n||i&&e)});return Ln.createElement("div",{className:Object(On.a)("tabs-navigation",{padding:r&&"small"})},Ln.createElement("div",{className:"tabs-navigation__content"},o.map(function(e,n){return t.renderItem(e,n)})))},n.renderItem=function(t,e){var n=t.title,r=t.href,i=t.current,o=t.selected,a=t.toggle,s=t.noTarget,c=r?{href:r,target:s?void 0:o?"":"_blank"}:{};return Ln.createElement("a",G()({},c,{key:r,onClick:a?this.onMoreClick:void 0,className:Object(On.a)("tabs-navigation__tab",{current:i,selected:o&&"yes",first:!e&&"yes"})}),o?Ln.createElement(Ln.Fragment,null,Ln.createElement("div",{className:"tabs-navigation__tab-inner"},n),Ln.createElement("div",{className:"tabs-navigation__tab-over"},Ln.createElement("span",{className:"tabs-navigation__tab-over-inner"},n))):n)},e}(Ln.Component),I()(xo.prototype,"onMoreClick",[To],Object.getOwnPropertyDescriptor(xo.prototype,"onMoreClick"),xo.prototype),xo),zo=Object(Nn.a)(function(t){return{nav:t.header&&t.header.tabs,hasSmallPadding:Object(le.a)(t,dt.d.BEAUTY_LAYOUT)}})(Uo),Vo=n("QHoL"),Ho=n("u6vq"),Wo=n("3tUY"),qo=Object(Nn.a)()(function(t){var e=t.item,n=t.dispatch;if(!e.groups)return null;var r=function(t,e){!t.href||t.href.match(/^https:/)||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),n(Object(Wo.a)({url:t.href})))};return Ln.createElement(Ho.a,{mix:{block:"collections-menu",elem:"menu-item",mods:{cur:e.current}},popupMix:{block:"collections-menu",elem:"popup"},switcherMix:{block:"collections-menu",elem:"link"},switcher:Ln.createElement("span",{className:"link__inner"},e.title)},Ln.createElement("div",{className:"collections-menu-list"},e.groups.map(function(t,e){return Ln.createElement("div",{className:"collections-menu-list__group",key:e},t.map(function(t,e){return Ln.createElement("a",{className:Object(On.a)("collections-menu-list__item",{cur:t.current},"link link_theme_black"),href:t.href,target:t.target,key:e,onClick:r.bind(null,t),"data-navigate":"false"},t.title)}))})))}),Ko=Object(Nn.b)()(function(t,e){var n,r=t.item,i=t.dispatch,o=e.counter;return r.groups?Ln.createElement(qo,{item:r}):("add"===r.action&&(n=function(t){t.preventDefault(),t.stopPropagation(),i(Object(Vo.a)({counter:o}))}),Ln.createElement("a",{className:Object(On.a)("collections-menu__menu-item",{cur:r.current},"link link_theme_black collections-menu__link"),href:r.href,onClick:n,"data-navigate":n?"false":"true"},r.title))});function Go(t){return Boolean(t&&t.length>0)}var Yo=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={hideUnder:!Go(e.props.items),removeUnder:!Go(e.props.items),items:e.props.items},e}O()(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){var e=t.items,n=!Go(e);this.state.hideUnder!==n?n?this.setState({hideUnder:!0}):this.setState({removeUnder:!1,items:e}):e!==this.state.items&&this.setState({items:e})},n.componentDidUpdate=function(){var t=this,e=this.state;e.hideUnder!==e.removeUnder&&setTimeout(function(){Go(t.props.items)?t.setState({hideUnder:!1}):t.setState({removeUnder:!0})},Go(this.props.items)?0:1e3)},n.render=function(){var t=this.state,e=t.hideUnder,n=t.removeUnder,r=t.items;return n||!r?null:Ln.createElement("div",{className:"header__slide header__slide_type_under-menu header__slide_type_advanced"+(e?" header__slide_hidden":"")},Ln.createElement("div",{className:"under-menu"},Ln.createElement("div",{className:"collections-menu"},r.map(function(t,e){return Ln.createElement(Ko,{key:e,item:t})}))))},e}(Ln.Component),Xo=Object(Nn.a)(function(t){return{items:t.header&&t.header.sub}})(Yo),Jo=n("wip6"),Qo=Object(Jo.a)();function Zo(t){var e=t.onClick;return Ln.createElement(Qo,null,Ln.createElement("div",{className:"paranja paranja_state_open paranja_theme_dark paranja_serp-header",onClick:e}))}var $o,ta,ea,na,ra,ia,oa,aa,sa,ca,ua,la,da=n("+d4z"),ha=n("4DsO").b.applyDecls(),fa=function(t){function e(){return t.apply(this,arguments)||this}return O()(e,t),e.prototype.render=function(){var t=this.props,e=t.error,n=t.errorReference;return e?Ln.createElement("div",{className:"cbir-panel"},Ln.createElement(ha,{theme:"normal",visible:!0,hasTail:!0,autoclosable:!0,anchor:n,directions:["bottom-center"],onOutsideClick:function(){},mix:{block:"cbir-error",elem:"panel",mods:{type:"user"}}},Ln.createElement("div",{className:"popup__content"},Ln.createElement("div",{className:"cbir-error__mark"},"!"),Ln.createElement("div",{className:"popup__error-text-wrap"},Ln.createElement("span",{className:"popup__error-text"},e))))):null},e}(Ln.Component),pa=($o=Object(qt.a)(),ta=Object(qt.a)(),ea=Object(qt.a)(),na=Object(qt.a)(),ra=Object(qt.a)(),ia=Object(qt.a)(),oa=Object(qt.a)(),aa=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={url:"",focused:!0},e}O()(e,t);var n=e.prototype;return n.onChange=function(t){this.setState({url:t.target.value})},n.onKeyDown=function(t){13===t.keyCode&&this.submit(t)},n.onFocus=function(){this.state.focused||this.setState({focused:!0})},n.onBlur=function(){this.state.focused&&this.setState({focused:!1})},n.onClear=function(){this.setState({url:""}),this._input&&this._input.focus()},n.submit=function(t){t.preventDefault(),this.props.onUrlSearch(this.state.url.trim())},n.errorReference=function(t){if(!t)return this._error;this._error=t},n.render=function(){var t=this,e=this.state.url,n=this.props.error;return Ln.createElement("form",{className:"cbir-panel__input",onSubmit:this.submit,ref:this.errorReference},Ln.createElement("span",{className:this.getInputClass()},Ln.createElement("label",{className:"input__hint input__hint_visibility_visible",id:"hintuniq151721871321712645",htmlFor:"uniq151721871321712645","aria-hidden":"true"},da.urlHint()),Ln.createElement("span",{className:"input__box"},Ln.createElement("span",{className:Object(On.a)("input__clear",{visibility:!!e&&"visible"}),onClick:this.onClear}," "),Ln.createElement("input",{className:"input__control",id:"uniq151721871321712645",name:"cbir-url",placeholder:da.urlHint(),autoComplete:"off","aria-labelledby":"labeluniq151721871321712645 hintuniq151721871321712645",value:e,onChange:this.onChange,onKeyDown:this.onKeyDown,autoFocus:!0,onFocus:this.onFocus,onBlur:this.onBlur,ref:function(e){return t._input=e}}))),Ln.createElement("button",{type:"submit",name:"cbir-submit",disabled:!e,className:Object(On.a)("button",{size:"m",theme:"normal",side:"right",type:"cbir",disabled:!e&&"yes"},"cbir-panel__search-button")},Ln.createElement("span",{className:"button__text"},da.search())),n&&Ln.createElement(fa,{errorReference:this.errorReference,error:da.error()}))},n.getInputClass=function(){return Object(On.a)("input",{size:"m",autofocus:"yes",theme:"normal",type:"cbir",focused:!!this.state.focused&&"yes"})},e}(Ln.Component),I()(aa.prototype,"onChange",[$o],Object.getOwnPropertyDescriptor(aa.prototype,"onChange"),aa.prototype),I()(aa.prototype,"onKeyDown",[ta],Object.getOwnPropertyDescriptor(aa.prototype,"onKeyDown"),aa.prototype),I()(aa.prototype,"onFocus",[ea],Object.getOwnPropertyDescriptor(aa.prototype,"onFocus"),aa.prototype),I()(aa.prototype,"onBlur",[na],Object.getOwnPropertyDescriptor(aa.prototype,"onBlur"),aa.prototype),I()(aa.prototype,"onClear",[ra],Object.getOwnPropertyDescriptor(aa.prototype,"onClear"),aa.prototype),I()(aa.prototype,"submit",[ia],Object.getOwnPropertyDescriptor(aa.prototype,"submit"),aa.prototype),I()(aa.prototype,"errorReference",[oa],Object.getOwnPropertyDescriptor(aa.prototype,"errorReference"),aa.prototype),aa),ga=n("uSlG"),ma=function(t){function e(e){var n=t.call(this,e)||this;return n.errorReference=n.errorReference.bind(Zt()(Zt()(n))),n.onChange=n.onChange.bind(Zt()(Zt()(n))),n.onDrop=n.onDrop.bind(Zt()(Zt()(n))),n}O()(e,t);var n=e.prototype;return n.onChange=function(t){!1===this.processFiles(t.target.files)&&(t.target.value="")},n.onDrop=function(t){t.preventDefault(),t.stopPropagation(),this.processFiles(t.dataTransfer.files)},n.errorReference=function(t){if(!t)return this._error;this._error=t},n.render=function(){var t=this.props.error;return Ln.createElement("form",{className:"cbir-panel__dragzone",onDrop:this.onDrop,ref:this.errorReference},Ln.createElement("div",{className:"cbir-panel__upload-box"},Ln.createElement("span",{className:"cbir-panel__dragMessage"},Ln.createElement("button",{className:"cbir-panel__upload-link"},ga.chooseFile()),Ln.createElement("span",{className:"cbir-panel__drag-label"},ga.orDragHere()))),Ln.createElement("input",{className:"cbir-panel__file-input",type:"file",accept:"image/*",name:"upfile",onChange:this.onChange,value:""}),t&&Ln.createElement(fa,{errorReference:this.errorReference,error:ga.error()}))},n.processFiles=function(t){return t&&t.length>0?this.props.onFileSearch(t[0]):this.props.onFileSearch(void 0)},e}(Ln.Component),va=n("uYmT"),ba=n("pgbU"),_a=n("eTvZ"),ya=n("om3R"),Ca=Object(ne.a)("router",function(t,e,n){var r=n.getState,i=(n.dispatch,t.getUrlMeta(e.url)),o=i.event.params.id;if(i.event.name===E.a.CARD&&o){var a=r(),s=Object(ya.a)(a,o);return s&&s.source&&s.source.url}}),Oa=Object(ne.a)("env",function(t,e){var n=e.url;return t.invokeStrategy(et.a.CommonImageInfoStrategy,{url:n}).then(function(){return!0},function(){return!1})}),Sa=Object(Ze.a)(function(){var t=$()(Q.a.mark(function t(e,n){var r;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.di,t.next=3,r("ImagesSearchState");case 3:t.sent.search(e);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),wa=Object(Ze.a)(function(){var t=$()(Q.a.mark(function t(e,n){var r,i,o,a;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.file,i=e.type,o=n.di,t.next=4,o("ImagesSearchState");case 4:return a=t.sent,t.abrupt("return",a.uploadImage(r,i));case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),Ea=Object(Jo.a)(),ka=function(t){function e(e){var n=t.call(this,e)||this;return n.state={loading:!1,urlError:!1,fileError:!1},n.onUrlSearch=n.onUrlSearch.bind(Zt()(Zt()(n))),n.onFileSearch=n.onFileSearch.bind(Zt()(Zt()(n))),n.onDragStart=n.onDragStart.bind(Zt()(Zt()(n))),n.onDragStop=n.onDragStop.bind(Zt()(Zt()(n))),n.onDrop=n.onDrop.bind(Zt()(Zt()(n))),n}O()(e,t);var n=e.prototype;return n.onUrlSearch=function(t){var e=this;this.setState({urlError:!1}),this.handleLoading(this.validateImage(t).then(function(n){if(n)return e.props.dispatch(Sa({url:t}));e.showUrlError()}))},n.validateImage=function(t){return this.props.dispatch(Oa({url:t}))},n.onFileSearch=function(t){if(!t||!(e=t)||!Boolean(e.type.match(/^image\//)||e.type.match(/^text\//)))return this.showFileError(),!1;var e;this.handleLoading(this.props.dispatch(wa({file:t})))},n.onDragStart=function(t){t.preventDefault(),this.dragInProgress||this.props.disableDrop||(this.autoClose=!this.props.visible,!this.props.visible&&t.dataTransfer&&this.props.onOpen()),clearTimeout(this.autoCloseTimeout),this.dragInProgress=!0},n.onDragStop=function(t){var e=this;t.preventDefault(),clearTimeout(this.autoCloseTimeout),this.autoCloseTimeout=setTimeout(function(){e.dragInProgress=!1,e.autoClose&&e.props.onClose()},100)},n.showFileError=function(){var t=this;this.setState({fileError:!0,urlError:!1}),setTimeout(function(){return t.setState({fileError:!1})},5e3)},n.showUrlError=function(){var t=this;this.setState({fileError:!1,urlError:!0}),setTimeout(function(){return t.setState({urlError:!1})},5e3)},n.onDrop=function(){var t=$()(Q.a.mark(function t(n){var r,i,o,a,s,c,u,l;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=this.props,i=r.disableDrop,o=r.dispatch,n.dataTransfer&&Object(ba.a)(n.dataTransfer)){t.next=8;break}return n.stopImmediatePropagation(),n.stopPropagation(),this.showFileError(),t.abrupt("return");case 8:if(i||!n.dataTransfer){t.next=24;break}if(!(a=e.filterFiles(n.dataTransfer.files)).length){t.next=13;break}return this.onFileSearch(a[0]),t.abrupt("return");case 13:if(s=n.dataTransfer.getData("text/html"),!(c=Object(_a.a)(s,{tag:"img",attribute:"src"}))||!c.length){t.next=18;break}return this.onUrlSearch(c[0]),t.abrupt("return");case 18:if(!(u=Object(_a.a)(s,{tag:"a",attribute:"href"})).length){t.next=24;break}return t.next=22,o(Ca({url:u[0]}));case 22:(l=t.sent)&&this.onUrlSearch(l);case 24:this.dragInProgress=!1;case 25:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.componentDidMount=function(){document.addEventListener("dragenter",this.onDragStart),document.addEventListener("dragover",this.onDragStart),document.addEventListener("dragleave",this.onDragStop),document.addEventListener("drop",this.onDrop)},n.componentWillUnmount=function(){document.removeEventListener("dragenter",this.onDragStart),document.removeEventListener("dragover",this.onDragStart),document.removeEventListener("dragleave",this.onDragStop),document.removeEventListener("drop",this.onDrop)},n.render=function(){var t=this.state,e=t.loading,n=t.urlError,r=t.fileError,i=this.props.visible;return Ln.createElement(Ea,null,Ln.createElement("div",{className:Object(On.a)("cbir-panel",{dragdrop:"yes",visibility:i?"visible":"hidden"})},i&&Ln.createElement("div",{className:"cbir-panel__table"},Ln.createElement("div",{className:"cbir-panel__tabs"},Ln.createElement("div",{className:"cbir-panel__wrap"},Ln.createElement(ma,{onFileSearch:this.onFileSearch,error:r}),Ln.createElement(pa,{onUrlSearch:this.onUrlSearch,error:n}))),Ln.createElement("div",{className:"cbir-panel__close",onClick:this.props.onClose},Ln.createElement("div",{className:"cbir-panel__close-icon"}))),e&&Ln.createElement(va.a,null)))},n.handleLoading=function(t){var e=this;this.setState({loading:!0}),t.then(function(){e.setState({loading:!1})}).catch(function(t){console.log(t),e.setState({loading:!1})})},e.filterFiles=function(t){for(var e=[],n=0;n<t.length;n++)t[n].type.match(/^image\//)&&e.push(t[n]);return e},e}(Ln.Component),ja=Object(Nn.a)()(ka),Ta=n("hDfK"),xa=(sa=Object(qt.a)(),ca=Object(qt.a)(),ua=Object(qt.a)(),la=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={cbir:!1},e}O()(e,t);var n=e.prototype;return n.componentDidMount=function(){document.body.addEventListener("keydown",this.onKeyDown)},n.componentWillUnmount=function(){document.body.removeEventListener("keydown",this.onKeyDown)},n.onKeyDown=function(t){t.keyCode===U.I.ESCAPE&&this.state.cbir&&this.closeCbir()},n.openCbir=function(){this.setState({cbir:!0}),document.body.classList.add("page_cbir")},n.closeCbir=function(){this.setState({cbir:!1}),document.body.classList.remove("page_cbir")},n.render=function(){var t=this.props,e=t.disableCbir,n=t.disableDrop,r=t.hideHeader,i=t.isBeautyLayout,o=t.isAuthorized,a=this.state.cbir;return e&&(n=!0,a=!1),Ln.createElement(Kr.a,{loc:"head"},Ln.createElement("div",{className:Object(Bo.a)("serp-header",{"head-auth":!!o&&"yes","beauty-layout":!!i&&"yes"})},Ln.createElement("div",{className:"serp-header__wrapper"},!r&&Ln.createElement("div",{className:"serp-header__main"},Ln.createElement(Fo,null),Ln.createElement("div",{className:"serp-header__search2"},Ln.createElement(ro,{cbir:!e,onCbirClick:this.openCbir})),Ln.createElement("div",{className:"serp-header__nav"},Ln.createElement(No,null))),Ln.createElement("div",{className:"serp-header__under"},!r&&Ln.createElement(zo,null),Ln.createElement(Xo,null)),a&&!r&&Ln.createElement(Zo,{onClick:this.closeCbir}),!r&&Ln.createElement(ja,{visible:a,onOpen:this.openCbir,onClose:this.closeCbir,disableDrop:n}))))},e}(Ln.Component),I()(la.prototype,"onKeyDown",[sa],Object.getOwnPropertyDescriptor(la.prototype,"onKeyDown"),la.prototype),I()(la.prototype,"openCbir",[ca],Object.getOwnPropertyDescriptor(la.prototype,"openCbir"),la.prototype),I()(la.prototype,"closeCbir",[ua],Object.getOwnPropertyDescriptor(la.prototype,"closeCbir"),la.prototype),la),Ra=Object(Nn.a)(function(t){var e=!1;t.ui&&(t.ui.modal&&t.ui.modal.type&&(e=!0),t.ui.layout&&t.ui.layout.sidebarOpen&&(e=!0));var n=!Gi(Object(Yi.a)(t))&&Object(le.a)(t,dt.d.BOARDS_SEARCH)&&!qi(t);return{isBeautyLayout:Boolean(Object(le.a)(t,dt.d.BEAUTY_LAYOUT)),isAuthorized:Object(go.a)(Object(Yi.a)(t)),hideHeader:Boolean(Object(Ta.a)(t)),disableCbir:n,disableDrop:e}})(xa),Ia=[E.a.MAIN,E.a.PROFILE,E.a.MY_PROFILE,E.a.PROFILE_FEED,E.a.GEO_BOARD,E.a.GEO_CHANNEL,E.a.UNDERSIDE,E.a.CARDS,E.a.FOLLOWERS,E.a.FOLLOWINGS_CHANNELS,E.a.FOLLOWINGS_BOARDS,E.a.FOLLOWINGS_USERS,E.a.BOARD,E.a.BOARD_FOLLOWERS,E.a.BOARD_BOOKMARKS_SYNC,E.a.CHANNEL,E.a.FAVORITES_TYPE,E.a.DAILY_PHOTO,E.a.CONTEST,E.a.SEARCH_BOARDS,E.a.OFFLINE],Da=Object(Nn.a)(function(t){var e,n,r=t.env.isBrowserFavorites,i=(n=Wi(e=t))&&(e instanceof oe?"hasFeature"in e&&e.hasFeature(dt.d.HEADER_FAVORITES)&&Ia.includes(n):Object(le.a)(e,dt.d.HEADER_FAVORITES)&&Ia.includes(n))?94:135;return t.env.isYandexApp&&(i=40),t.env.isBrowserFavorites&&(i=67),{wrapHeight:i,favoritesHeader:r,isBeautyDesktopInputStyles:Object(le.a)(t,dt.d.BEAUTY_DESKTOP_INPUT_STYLES)&&!r}})(function(t){var e=t.favoritesHeader,n=t.isBeautyDesktopInputStyles,r=t.wrapHeight;return Ln.createElement(Kr.a,{loc:"head"},Ln.createElement("div",{className:Object(On.a)("head__wrap",{"beauty-desktop-input-styles":n})},e?Ln.createElement(Ao,null):Ln.createElement(Ra,null)),Ln.createElement("div",{className:"head__sentinel",style:{height:r+"px"}}))}),Pa=function(t){return(this&&this.isRestored?yn.fr:yn.f)([Object(Zn.react)(Object(Zn.renderView)(Da,{},this),this)])},La=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.behaviors=function(){return{WindowEvents:{behaviorClass:kn,callMethodsOn:"render"}}},n.isInstanceValid=function(){var t=this.env,e=t.eventName,n=t.prevEventName;return!this.isDestroyed&&"pluginSuccess"!==e&&"pluginSuccess"!==n},n.onShow=function(){this.showSaveAlertHint()},n.showSaveAlertHint=function(){var t=this.env.currentUser;!this._saveAlertShown&&t.canShowSaveAlert()&&(this._saveAlertShown=!0,this.showInRegion(this.hint,qr,{mod:"head",model:t,onClose:function(){return t.setSaveAlertHintShown()}}))},e}(jn.a);Object(w.a)({template:i,className:"head",modelEvents:{"change:login":"safeRender"}})(La);var Na=n("xfRZ"),Aa="page-loading_state_visible",Ba=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){var t=this.options.baseState;this.listenTo(t,{"loading:start":this.onLoadingStart,"loading:end":this.onLoadingEnd,"loading:cancel":this.onLoadingEnd})},n.onLoadingStart=function(){this.$el.removeClass("page-loading_state_hidden").addClass(Aa)},n.onLoadingEnd=function(){this.$el.removeClass(Aa).addClass("page-loading_state_hidden")},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([n.d("page-loading__wrap",{},[n.d("page-loading__wrap__i",{},[n.d("page-loading__spinner",{},[r(Na.a,{size:"L"},this)])," ",n("h4","page-loading__title",{},["Ваша персональна стрічка скоро буде готова"])," ",n("p","page-loading__desc",{},["Хвилинку"])])])])},className:"page-loading "+Aa})(Ba);var Ma=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){this.listenTo(z.a,{"ext:install:start":this.onExtStart,"ext:install:success":this.onExtFinish,"ext:install:error":this.onExtFinish})},n.onExtStart=function(){this.toggle(!0)},n.onExtFinish=function(){this.toggle(!1)},n.toggle=function(t){this.$el.toggleClass("ext-overlay_state_visible",t).toggleClass("ext-overlay_state_hidden",!t)},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([n.d("ext-overlay__wrap",{},[n("span","ext-overlay__close",{},[r(Cn.a,{class:"button_action-close button_action-close_large",type:"clear",icon:!0,"icon-only":!0},this)])," ",n.d("ext-overlay__body",{},[n("h3","ext-overlay__title",{},["Майже готово"])," ",n.d("ext-overlay__desc",{},["Підтвердьте встановлення розширення"])])])])},className:"ext-overlay ext-overlay_state_hidden"})(Ma);var Fa,Ua,za=n("F9NN"),Va=n("8yzE"),Ha=function(t){var e=this,n=function(t){return[(e&&e.isRestored?yn.er:yn.e)("a","layout__nav__arrow "+(t.href?"":"layout__nav_hidden"),{href:t.href,"data-navigate":"false"},[])]},r=function(t){return[(e&&e.isRestored?yn.er:yn.e).d(Object(yn.j)(["layout__nav__",t.type]),{title:t.title},[n.call(e,{href:t.href})])]};return(e&&e.isRestored?yn.fr:yn.f)([r.call(e,{href:t.leftCardUrl,type:"left",title:"Попереднє"})," ",r.call(e,{href:t.rightCardUrl,type:"right",title:"Наступне"})])},Wa=n("BZL/"),qa=(Fa=Object(P.a)(),Ua=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.onRender=function(){var t=this;if(this.model.shouldShowNav()){var e={leading:!0,trailing:!1};Object(Va.c)(this,Va.a.LEFT,Object(at.debounce)(function(e,n){return t.onLeft(n)},100,e),{priority:10}),Object(Va.c)(this,Va.a.RIGHT,Object(at.debounce)(function(e,n){return t.onRight(n)},100,e),{priority:10}),this.checkNav()}var n=this.getEnv().getScrollWidth();this.ui.navRight.css({marginRight:n})},n.onCardChange=function(){var t=this;if(!this.isDestroyed){var e=this.model.getCard();e&&(this.model.getArrowCards().then(function(n){t.model.getCard()===e&&t.setArrows(n)}),this.checkNav())}},n.promise=function(){var t=this;if(this.model.hasPageableCards())return this.model.getArrowCards().then(function(e){return t.setArrows(e)})},n.setArrows=function(t){var e=t.left,n=t.right;this.model.shouldShowNav()&&(this.leftCard=e,this.rightCard=n,this.prepareArrow(this.ui.arrowLeft,e),this.prepareArrow(this.ui.arrowRight,n))},n.prepareArrow=function(t,e){this.isIntact()&&(e?(Object(Wa.a)(e.getFirstImageURL({size:"s1200"}),{timeout:0}),t.removeClass("layout__nav_hidden"),t.attr("href",this.model.getRouterState().getCardURL(e))):t.addClass("layout__nav_hidden"))},n.checkNav=function(){this.model.shouldShowNav()&&this.$el.toggleClass("layout__nav_hidden",!this.model.hasPageableCards())},n.onLeft=function(t){Object(Va.d)(t)||this.model.isCardEdited()||(t&&t.preventDefault&&t.preventDefault(),this.model.previousCard())},n.onRight=function(t){Object(Va.d)(t)||this.model.isCardEdited()||(t&&t.preventDefault&&t.preventDefault(),this.model.nextCard())},n.serializeData=function(){var t=this.model.getRouterState(),e=this.leftCard,n=this.rightCard;return{leftCardUrl:e&&t.getCardURL(e),rightCardUrl:n&&t.getCardURL(n),leftContent:e&&e.getImageContent(),rightContent:n&&n.getImageContent()}},e}(D.c),I()(Ua.prototype,"onCardChange",[Fa],Object.getOwnPropertyDescriptor(Ua.prototype,"onCardChange"),Ua.prototype),Ua);Object(w.a)({template:o,className:"layout__nav",ui:{arrowLeft:".layout__nav__left a",arrowRight:".layout__nav__right a",navRight:".layout__nav__right"},events:{"click @ui.arrowLeft":"onLeft","click @ui.arrowRight":"onRight"},modelEvents:{"change:cards":"checkNav","change:card":"onCardChange"}})(qa);var Ka=n("SQy1"),Ga=n("spzH"),Xa=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){this.cardState=this.view.options.model,Object(Va.c)(this.view,Va.a.ESCAPE,this.onCardPopupClose.bind(this),{priority:this.options.priority})},n.onCardPopupClose=function(){if(this.view.isIntact()){if(!this.view.model.isCardTouched())return this.onCardClose(),!1;this.showConfirmPopup()}if(this.options.stopPropogation)return!1},n.onCardSave=function(){var t=this;this.view.model.saveCard().then(function(){return t.onCardClose()})},n.onCardClose=function(){this.options.closeMethod?this.view[this.options.closeMethod]():this.cardState.hasCard()&&this.view.model.closeCard()},n.showConfirmPopup=function(){var t=this.env;Ka.a.show({title:t.translate(Ga.title),buttons:[{label:t.translate(Ga.yes),model:this,method:"onCardSave",type:"action"},{label:t.translate(Ga.no),model:this,method:"onCardClose"}]})},e}(D.a);Object(w.a)({priority:10})(Xa);var Ja=function(t){function e(){return t.apply(this,arguments)||this}return O()(e,t),e}(Cn.a);Object(w.a)({options:G()({},Cn.a.prototype.options,{method:"save",loadingClass:"button_load",preventDefault:!0,stopPropagation:!1})})(Ja);var Qa=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){var t=this.options.swipeState;t&&this.listenTo(t,{"touch:out":this.onOut,"touch:out:end":this.onOutEnd}),this.listenTo(this.cardPopupState,{"change:card":this.onCardChange,"open:card":this.onOpenCard})},n.onRender=function(){if(this.model.hasCard()){var t=this.env.getScrollWidth();this.$el.css({marginRight:t})}},n.onZoomChange=function(){},n.onHover=function(){this.model.getCard()&&this.$(".button").attr("href",this.getBoardHref())},n.onClose=function(){this.env.hasFeature(dt.d.COLLECTIONS_CARDPOPUP_CLOSE),this.triggerMethod("cardPopupClose")},n.getBoardHref=function(){if(this.model.hasCard()){var t=this.model.getCard();return this.model.getRouterState().getCardBoardURL(t)}},n.onOut=function(t){var e=t.sqFactor;this.setOpacity(e)},n.onOutEnd=function(t){t||this.setOpacity("")},n.setOpacity=function(t){this.el&&(this.el.style.opacity=t)},n.onCardChange=function(t,e){e&&this.setOpacity("")},n.onOpenCard=function(){this.setOpacity("")},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,r=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([r(Ja,{title:"Закрити",model:this,method:"onClose",class:"button_layout-close",size:"L",icon:n("wzV+"),"icon-only":!0,type:"clear",stopPropagation:!0},this)])},className:"layout__close",modelEvents:{"change:cardZoomed":"onZoomChange"},events:{mouseover:"onHover"},behaviors:{ViewCardPopupClose:{behaviorClass:Xa}}})(Qa);var Za=n("Hnsh"),$a=n("Ed8H"),ts=n("IfkI"),es=n("7So+"),ns=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.onRender=function(){var t=this.collection.isFullyLoaded()&&!this.collection.isInitialLoad();this.$el.toggleClass("comments__load_loaded",t)},n.serializeData=function(){var t=this.collection.getPageSize(),e=this.collection.getCount(),n=this.collection.size();return this.collection.isInitialLoad()&&(t=U.s-U.r,n=U.r),{rest:Math.min(t,e-n)}},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([n(Ja,{model:this.collection,method:"fetchNext",label:Object(es.load)({count:t.rest}),class:"button_max",type:"pseudo"},this)])},className:"comments__load",collectionEvents:{"pagination:fetch pagination:fake:fetch reset":"safeRender"}})(ns);var rs=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).renderCounter=0,e.previousState=!1,e}O()(e,t);var n=e.prototype;return n.ui=function(){return{linkExpand:this.options.expandButton,text:this.options.textContainer,textWrapper:this.options.textContainerWrapper,expandTextContainer:this.options.expandTextContainer}},n.toggleStateExpanded=function(){this._stateExpanded=!this._stateExpanded},n.onRender=function(){var t=this;if(this.renderCounter++,this.renderCounter>1){var e=this._stateExpanded;this.toggleComment(this.previousState),e&&this.expandLink()}this.view.deferToAttach(function(){t.toggleComment(t.isCommentLong())})},n.toggleComment=function(t){this.previousState=t,t?(this.ui.linkExpand.removeClass("hidden"),this._stateExpanded=!1):(this.ui.text.removeClass(this.options.textShortClass),this.options.textContainerWrapper&&this.ui.textWrapper.removeClass(this.options.textContainerWrapperShortClass))},n.onClickExpand=function(){this.isCommentLong()&&this.expandLink()},n.expandLink=function(){if(this.toggleStateExpanded(),this.ui.text.toggleClass(this.options.textShortClass,!this._stateExpanded),this.options.textContainerWrapper&&this.ui.textWrapper.toggleClass(this.options.textContainerWrapperShortClass,!this._stateExpanded),this.ui.expandTextContainer&&this.ui.expandTextContainer.size()){var t=this.view.getEnv(),e=this._stateExpanded?this.options.minimizeText:this.options.expandText;this.ui.expandTextContainer.text(t.translate(e))}},n.onMaybeExpand=function(){this.options.expandOnTextClick&&this.onClickExpand()},n.isCommentLong=function(){var t=this.view.options,e=t.dynamic,n=t.dynamicPadding,r=void 0===n?0:n,i=this.ui.text,o=0;if(e&&i[0]){var a=i.clone(),s=r+"px";a.removeClass(this.options.textShortClass),a.css({visibility:"hidden",position:"absolute",paddingLeft:s,paddingRight:s});var c=a[0];document.body.appendChild(c),o=c.clientHeight||c.offsetHeight,document.body.removeChild(c)}else o=i[0]&&i[0].scrollHeight;return o>(this.options.textMaxHeight||100)},e}(D.a);Object(w.a)({events:{"click @ui.linkExpand":"onClickExpand","click @ui.text":"onMaybeExpand"}})(rs);var is=n("Fh3J");function os(t,e){if(!e)return t;for(var n=e.split("."),r=t;n.length>0&&r;){var i=n.shift();r=Object(f.isFunction)(r[i])?r[i]():Object(f.isFunction)(r.get)?r.get(i):r[i]}return r}var as=n("AnPS"),ss=n("K7k/");function cs(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=as.a.apply(void 0,e),i=e.pop().data.view;return i&&i.getEnv().isMultiMordaApp&&(r=Object(ss.a)(r)),r}var us=n("hDul"),ls=function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e;return(e?yn.fr:yn.f)([n.d("person__avatar",{},[t.static?[n("span","person__avatar__img",{style:Object(yn.j)(["background-image: url(",Object(us.a)(t.user,{hash:{size:t.size}}),");"]),title:t.user.display_name},[])]:[n("a","",Object(yn.assign)({href:function(t){return os(t.user,"is_restricted")?[cs.call(t,"myProfile",{hash:{},data:{view:this}})]:[cs.call(t,"profile",t.routeParams,{hash:{login:os(t.user,"login")},data:{view:this}})]}.call(this,{user:t.user,routeParams:t.routeParams}),class:"person__avatar__img",style:Object(yn.j)(["background-image: url(",Object(us.a)(t.user,{hash:{size:t.size}}),");"]),title:t.user.display_name},t.target?{target:t.target}:{},t.counter?{"data-c":t.counter}:{}),[])]," ",t.user.is_verified||t.user.attributes&&t.user.attributes.is_verified?[n("span",Object(yn.j)(["verified verified_size_",t.verifiedSize?t.verifiedSize:"M"]),{title:"Підтверджений користувач"},[])]:[]])])},ds=n("SUYq"),hs=n("6Xmf"),fs=function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e;return(e?yn.fr:yn.f)([n("span","",{},[t.letter]),t.rest])},ps=function(t){var e,n,r=this&&this.isRestored,i=r?yn.er:yn.e;return(r?yn.fr:yn.f)([i.d("person__user"+(t.inline?" person__user_inline":"")+(t.sep?" person__user_sep":""),{},[i(t.link?"a":"span","",Object(yn.assign)({class:"user-login"},t.link?t.is_restricted?{href:cs.call(t,"myProfile",{hash:{},data:{view:this}})}:{href:cs.call(t,"profile",{hash:{login:t.login},data:{view:this}})}:{},t.link&&t.target?{target:t.target}:{},t.loc?{"data-c":Object(hs.a)("clickUser",{hash:{userLogin:t.login,loc:t.loc}})}:{"data-c":Object(hs.a)("clickUser",{hash:{userLogin:t.login}})}),[t.letter?[(e=t.display_name,n={hash:{},data:{view:this}},""===(e=e?String(e).trim():"")?e:fs.call(n.data.view,{letter:e.slice(0,1),rest:e.slice(1)}))]:[t.display_name],t.showComma?[", "]:[]])])])};function gs(t,e){var n=e.hash,r=n.inline,i=void 0!==r&&r,o=n.letter,a=void 0===o||o,s=n.link,c=void 0===s||s,u=n.type,l=void 0===u?"gray":u,d=n.size,h=void 0===d?"M":d,f=n.target,p=n.invert,g=n.shadow,m=n.wrapper,v=n.sep,b=n.loc,_=n.showComma,y=e.data.view;return t instanceof ds.a&&(t={login:t.getLogin(),display_name:t.getDisplayName(),is_restricted:t.isRestricted()}),p&&(l="invert"),g&&(m=!0),ps.call(y,Object.assign({},t,{size:h,inline:i,letter:a,view:y,shadow:g,type:l,wrapper:m,link:c,sep:v,target:f,loc:b,showComma:_}))}var ms=n("67sj"),vs=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.onToggle=function(){var t=this.model.get(this.name),e=this.getValueFor(!0);this.view.options.uncheckAvailable&&t===e&&(e=this.getValueFor(!1)),this.model.set(this.name,e)},n.copyViewToModel=function(){var t=this.isInputChecked();t&&this.model.set(this.name,this.getValueFor(t))},e}(ms.a);Object(w.a)({defaults:G()({},ms.a.prototype.defaults,{disableIndeterminate:!0})})(vs);var bs=n("NDfO"),_s=n("bRg+"),ys=n("Ahwa"),Cs=n("bmsa"),Os={},Ss=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n._constructor=function(e){this.initOptions(e),this.initDefaultModel(),t.prototype._constructor.call(this,e)},n.defaultModelFactory=function(){return Os[this.name]||(Os[this.name]=new Cs.a),Os[this.name]},n.className=function(){return Object(bs.a)("radio",["type","size","disabled"],this.options)},e}(_s.a);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.sr:yn.s;return(e?yn.fr:yn.f)([n("span","radio__i",{},[n("input","",Object(yn.assign)({type:t.mode},t.name?{name:t.name}:{},t.value?{value:t.value}:{},t.checked?{checked:""}:{}),[])])," ",r(t.label)," ",r(ys.a.call(t,{data:{view:this}}))])},behaviors:{Radio:{behaviorClass:vs,name:"radio"}},triggers:{click:{stopPropagation:!1,event:"toggle"}},options:Object.assign({},_s.a.prototype.options,{size:"M",mode:"radio",type:"normal",value:!0,inverse:!1})})(Ss);var ws=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){t.prototype.initialize.call(this),this.complaint.save()},n.onReasonChange=function(){this.complaint.getReason()&&this.complaint.save(),this.isComplained=!0,this.render()},e}(function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){this.complaint=this.model.getComplaint()},n.serializeData=function(){var t=this.options;return{login:t.login,displayName:t.displayName,isComplained:Boolean(this.isComplained)}},e}(D.c));Object(w.a)({template:function(t){var e=this,n=e&&e.isRestored,r=n?yn.er:yn.e;return(n?yn.fr:yn.f)([t.login?[r.d("person person_href person_comments",{},[ls.call(e,{user:{login:t.login},size:"islands-retina-small",verifiedSize:"M"})," ",r.d("person__i",{},[gs({login:t.login,display_name:t.displayName},{hash:{inline:!0},data:{view:e}})])])]:[]," ",t.isComplained?[r.d("comments__service comments__service_success",{},[r("p","comments__service__label",{},["Дякуємо. Коментар відправлено на перевірку"])])]:[r.d("comments__service comments__service_report",{},[r("p","comments__service__label",{},["Коментар приховано. Будь ласка, вкажіть причину:"])," ",r("ul","comments__service__list",{},[[{label:"Не хочу цього бачити",value:""},{label:"Спам",value:"spam"},{label:"Образа",value:"hate_speech"},{label:"Порнографія",value:"porn"},{label:"Порушення правил",value:"rules_violation"}].map(function(t){var n=e&&e.isRestored;return(n?yn.er:yn.e)("li","comments__service__list__item",{},[(n?yn.ar:yn.a)(Ss,{class:"radio_comments-service",label:t.label,size:"L",model:e.model,name:"reason",value:t.value},e)])})])])]])},modelEvents:{"change:reason":"onReasonChange"}})(ws);var Es=n("eqMx");function ks(t,e){var n=e.data.view;if(t&&Object(f.isObject)(t)&&(t.login?t=t.login:t.getLogin&&(t=t.getLogin())),n)return n.getEnv().currentUser.getLogin()===t;throw new Error("Cannot find view context")}var js=n("G7lA"),Ts=n("UO52"),xs=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n._constructor=function(e){this.options=Object(at.defaults)({},e,{trigger:"click"}),t.prototype._constructor.call(this,e)},n.onRender=function(){var t=this.options.embeddedView;this.bindUIElements(),Object(at.defer)(this.positionate.bind(this)),t&&("function"==typeof t&&(t=new t),this.popupContent.show(t))},n.positionate=function(){if(!this.isDestroyed){var t=this.ui.popup;(t.is(".popup_show_right-center")||t.is(".popup_show_left-center"))&&t.css("margin-top",-(t.outerHeight()>>1)),(t.is(".popup_show_bottom-center")||t.is(".popup_show_top-center"))&&t.css("margin-left",-(t.outerWidth()>>1))}},n.onClick=function(t){this.getOption("preventDefault")&&t.preventDefault(),this.getOption("stopPropagation")&&t.stopPropagation(),this.isClickTrigger()&&this.triggerMethod("toggle")},n.onMouseOver=function(){if(this.isHoverTrigger()){this.hideHandler&&clearTimeout(this.hideHandler);var t=this.options.showDelay||0;this.showHandler=setTimeout(this.triggerMethod.bind(this,"toggleShow"),t)}},n.onMouseOut=function(){if(this.isHoverTrigger()){this.showHandler&&clearTimeout(this.showHandler);var t=this.options.hideDelay||100;this.hideHandler=setTimeout(this.triggerMethod.bind(this,"toggleHide"),t)}},n.onToggleRefresh=function(t){this.ui.popup.toggleClass("popup_visible",t)},n.isClickTrigger=function(){return"click"===this.getOption("trigger")},n.isHoverTrigger=function(){return"hover"===this.getOption("trigger")},n.serializeData=function(){var t=G()({},this.options);return t.className=Object(bs.a)("popup",["size","type","mode","show","visible"],this.options),t.attr=Ts.a.width(this.options),t},e}(jn.a);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.sr:yn.s;return(e?yn.fr:yn.f)([n.d("",Object(yn.assign)({class:t.className},t.attr.width?{style:Object(yn.j)(["width:",t.attr.width])}:{}),[n("span","popup__content",{},t.type?[n("p","popup__text",{},[r(t.text)])]:[r(t.text)])])," ",r(ys.a.call(t,{data:{view:this}}))])},className:"popup-overlay",behaviors:{Toggle:{behaviorClass:js.a},ClickOut:{behaviorClass:bn.a,eventName:"toggleHide"}},options:{preventDefault:!0,stopPropagation:!1},ui:{popup:">.popup"},regions:{popupContent:".popup__content"},events:{click:"onClick",mouseover:"onMouseOver",mouseout:"onMouseOut"}})(xs);var Rs=function(t){var e,n=this&&this.isRestored,r=n?yn.er:yn.e;return(n?yn.fr:yn.f)([r("a","",Object(yn.assign)({href:t.href,"data-href":(e=t.href,Object(Xe.b)(e))},t.target?{target:t.target}:{"data-navigate":"false"},{rel:"nofollow noopener","data-c":"",class:t.class}),[ys.a.call(t,{data:{view:this}})])])};function Is(t){var e=t.fn,n=t.hash,r=t.data.view,i=Object.assign({target:"_blank"},n,{content:e?e.call(r,this):""});return Rs.call(r,i)}var Ds=n("PExD"),Ps=function(t){return(this&&this.isRestored?yn.fr:yn.f)([t.values])},Ls=function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e;return(e?yn.fr:yn.f)([n("br","",{},[])])},Ns=function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e;return(e?yn.fr:yn.f)([n("a","link",{href:t.url},[t.text])])},As="link";function Bs(t,e){var n=this;void 0===e&&(e={});var r=[],i=!(e.hash||{}).noLinks;t=Object(Ds.b)(t);var o=function(t){return"≤P"+(r.push(t)-1)+"≥"};if(i&&(t=(t=(t=t.replace(/(^|[^&\/a-zа-яё0-9_])(#[a-zа-яё0-9_]*[a-zа-яё][a-zа-яё0-9_]*)/gi,function(t,r,i){var a=as.a.call(n,"search",{data:e.data,hash:{text:i}});return i.match(/^#x[a-f0-9]{2}$/)?t:r+o(Ns({url:a,text:i}))})).replace(/(^|\s)@([a-z0-9.@-]+)/g,function(t,n,r){var i=as.a.call(this,"profile",{data:e.data,hash:{login:r}});return n+o(Ns({url:i,text:"@"+r}))})).replace(/https?:\/\/((?:[а-яё\w\.-]+)\.(?:[а-яёa-z]{2,6})\S*)/gi,function(t,n){return o(Is.call(this,{data:e.data,fn:function(){return n},hash:{href:t,class:As}}))})),t=t.trim().replace(/<\/(div|p|span)>/gi,"\n").replace(/<(div|p|span)>/gi,"").replace(/\n\s*\n/g,function(){return o(Ls())+o(Ls())}).replace(/\n/g,function(){return o(Ls())}),r.length){var a=t.match(/(≤([^≥]+)≥|([^≤≥]+))/g).map(function(t){return"≤P"===t.slice(0,2)?r[t.slice(2,-1)]:t});return Ps.call(e.data.view,{values:a})}return t}var Ms=n("rdt4");function Fs(t,e){e||(e=t,t=void 0);var n=e.data.view,r=e.hash,i=r.fromNow,o=r.format;if(!n)throw new Error("Cannot find translate adapter");var a=n.getEnv();if(!a)throw new Error("Cannot find env");return function(t,e,n){void 0===n&&(n={});var r=new Ms.a(t);if(n.fromNow){var i=new Ms.a;return(i.diff(r)<0?i:r).fromNow(!0,{locale:e})}return r.format(n.format||"",{locale:e})}(t,a.language,{fromNow:i,format:o})}var Us=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.onRender=function(){this.isCurrentComment()&&(this.highlightComment(),setTimeout(this.scrollToComment.bind(this)))},n.highlightComment=function(){this.$el.addClass("comments__i_hl"),setTimeout(this.dimComment.bind(this),1e3)},n.dimComment=function(){this.isDestroyed||this.$el.removeClass("comments__i_hl")},n.serializeData=function(){return G()({},this.model.toViewJSON(),{complaint:this.model.getComplaint(),card:this.options.card,board:this.options.board,login:this.model.getOwnerLogin(),display_name:this.model.getOwnerName(),cardOwner:this.options.card.getOwner()})},n.scrollToComment=function(){if(!this.isDestroyed){var t=this.getEnv(),e=this.options.cardState,n=t.getWindowHeight()-48,r=this.$el.position(),i=this.$el.height();n<r.top+i&&e.trigger("scroll:to",r.top-n/2)}},n.isCurrentComment=function(){return this.model.getId()===this.options.cardState.getCommentId()},n.onAnswer=function(){this.options.cardState.trigger("comment:answer",this.model)},n.onComplain=function(){this.model.createComplaint()},n.onRemove=function(){is.a.showRemoveComment({model:this.model})},e}(D.c);Object(w.a)({template:function(t){var e=this,r=e&&e.isRestored,i=r?yn.ar:yn.a,o=r?yn.er:yn.e;return(r?yn.fr:yn.f)(t.complaint?[i(ws,{model:e.model,login:t.login,displayName:t.display_name},e)]:[o.d("comments__ctrl",{},Object(Es.a)({data:{view:e}})?ks(t.cardOwner,{hash:{},data:{view:e}})?[i(xs,{text:"Видалити",size:"S",trigger:"hover",show:"left-center",mode:"tip",type:"help",content:function(t){return[(this&&this.isRestored?yn.ar:yn.a)(Ja,{model:e,method:"onRemove",stopPropagation:!1,class:"button_active-opacity button_comments-del","icon-only":!0,icon:n("ASKi"),type:"clear"},this)]}},e)]:ks(t.owner,{hash:{},data:{view:e}})?[i(xs,{text:"Видалити",size:"S",trigger:"hover",show:"left-center",mode:"tip",type:"help",content:function(t){return[(this&&this.isRestored?yn.ar:yn.a)(Ja,{model:e,method:"onRemove",stopPropagation:!1,class:"button_active-opacity button_comments-del","icon-only":!0,icon:n("ASKi"),type:"clear"},this)]}},e)]:[i(xs,{text:"Поскаржитися",size:"S",trigger:"hover",show:"left-center",mode:"tip",type:"help",content:function(t){return[(this&&this.isRestored?yn.ar:yn.a)(Ja,{model:e,method:"onComplain",stopPropagation:!1,class:"button_active-opacity button_comments-flag","icon-only":!0,icon:n("6yN2"),type:"clear"},this)]}},e)]:[])," ",o.d("comment",{},[o.d("person person_href person_comments",{},[ls.call(e,{user:t.owner,size:"islands-retina-small",verifiedSize:"M"})," ",o.d("person__i",{},[gs(t.owner,{hash:{inline:!0,type:"normal"},data:{view:e}})])])," ",o.d("comment__text comment__text_short",{},[Bs(t.text,{hash:{},data:{view:e}})])," ",o.d("comment__expand hidden",{},[o("span","link link_comment-expand",{},["Розгорнути"])])," ",o.d("comment__info",{},[t.board?[o("a","comment__date",{href:"/collections/card/"+encodeURIComponent(t.card.id)+"/?commentId="+encodeURIComponent(t.id)},[Fs(t.service.created_at,{hash:{fromNow:!0},data:{view:e}})])]:[o("span","comment__date",{},[Fs(t.service.created_at,{hash:{fromNow:!0},data:{view:e}})])]," ",Object(Es.a)({data:{view:e}})?[o("span","comment__reply",{},["Відповісти"])]:[]])])])},className:"comments__i",ui:{answer:".comment__reply"},modelEvents:{"change:complaint":"render"},triggers:{"click @ui.answer":{event:"answer",stopPropagation:!1,preventDefault:!0}},behaviors:{TextCut:{behaviorClass:rs,textShortClass:"comment__text_short",expandButton:".comment__expand",textContainer:".comment__text",expandTextContainer:".link_comment_expand",expandText:es.expand,minimizeText:es.minimize,expandOnTextClick:!0}}})(Us);var zs=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.childViewOptions=function(){var t=this.options.cardState,e=t.getCard();return{cardState:t,card:e,board:e?e.getBoard():null,env:this.getEnv()}},n.filter=function(t){return!this.collection.isInitialLoad()||this.collection.indexOf(t)>=this.collection.length-this.collection.getCommentsOnPage()},n.onRender=function(){this.onChangeSize()},n.onChangeSize=function(){this.$el.toggleClass("comments__list_empty",0===this.collection.size())},e}(D.b);Object(w.a)({childView:Us,className:"comments__list",collectionEvents:{"reset update":"onChangeSize","pagination:fake:fetch":"safeRender"}})(zs);var Vs=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.promise=function(){return this.isRestricted?Promise.resolve():this.collection.fetchWithCurrentParams()},n.onRender=function(){this.onChangeSize()},n.onChangeSize=function(){this.$el.toggleClass("comments__box_empty",0===this.collection.size())},Jt()(e,[{key:"isRestricted",get:function(){return this.collection.getCard().hasRestrictedOwner()}}]),e}(D.c);function Hs(t,e){e||(e=t,t=null);var n=e.data.view.getEnv().currentUser;return t?n.get(t):n}Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.ar:yn.a;return(e?yn.fr:yn.f)(this.isRestricted?[]:[n(ns,{collection:this.collection,cardState:this.options.cardState},this)," ",n(zs,{collection:this.collection,cardState:this.options.cardState},this)])},className:"comments__box",collectionEvents:{"add remove reset":"onChangeSize"}})(Vs);var Ws=n("RaqJ"),qs=n("MKfg"),Ks=function(t){function e(){return t.apply(this,arguments)||this}return O()(e,t),e.prototype._onKeyDown=function(t){13!==t.which||this.getOption("shift")&&t.shiftKey||(t.preventDefault(),this._onAction(t))},e}(qs.a);Object(w.a)({events:{keydown:"_onKeyDown"}})(Ks);var Gs=n("J1fK"),Ys=n("84fb"),Xs=n("SDCS"),Js=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){var t=this.options.cardState,e=this.env&&this.env.event;this.initEmptyModel(),this.maxLen=this.options.maxLen||2048,this.autofocus=Boolean(e&&e.query&&"yes"===e.query.autofocus),t&&this.listenTo(t,"comment:answer",this.onAnswer)},n.onRender=function(){this.autofocus&&this.prepareAnswer()},n.serializeData=function(){return{hasFocus:this.isFocused()}},n.initEmptyModel=function(){this.model=this.collection.createComment(),this.listenTo(this.model,"change:text",this.onTextChange),this.$buttonComments=null},n.save=function(){var t=this;if(this.model.isValid()&&!this.isTooLong()){if(!this.sendInProgress)return this.sendInProgress=!0,this.model.save().then(function(){t.initEmptyModel(),t.render(),t.sendInProgress=!1}).catch(function(e){t.sendInProgress=!1,z.a.showXHRMessage(e)})}else this.model.trigger("validation:failed")},n.cancel=function(){this.model.setText("")},n.prepareAnswer=function(){var t=this.getTextarea(!0);setTimeout(function(){var e=t.get(0),n=e.value?e.value.length:0;e.focus(),e.setSelectionRange(n,n)}),this.scrollToForm()},n.onAnswer=function(t){this.model.inAnswerTo(t.getOwnerLogin()),this.model.setParent(t.getId()),this.prepareAnswer()},n.onTextChange=function(){var t=this.isTooLong();this.ui.err.toggleClass("hidden",!t),this.$buttonComments||(this.$buttonComments=this.$(".button_comments")),this.$buttonComments.toggleClass("button_disabled",t)},n.isTooLong=function(){return this.model.getText().length>this.maxLen},n.onFormOpen=function(){this.isIntact()&&(this.$el.addClass("comments__form_open"),this.scrollToForm())},n.onFocus=function(){var t=this;if(Object(Ys.a)(this.env.getState())){var e=this.env.dispatch;this.isFocused(!0),this.getTextarea().trigger("blur"),e(Object(Xs.a)({place:"comment",retpath:ee.a.getRetpathUrl(this.env,Object(E.e)(this.model.getCardId()))}))}else this.scrollToForm(),this.isFocused(!0)&&setTimeout(function(){t.getTextarea().trigger("focus")})},n.isFocused=function(t){var e=this.options.cardState;if(e){var n=e.getCard();if(Boolean(n&&"comment-form"===n.options.focus))return t&&(n.options.focus=null),!0}return!1},n.scrollToForm=function(){if(this.options.cardState){var t=this.options.cardState,e=this.getTextarea().offset().top;t.trigger("scroll:to",e,{animate:!0})}},n.getTextarea=function(t){return this.$textarea&&!t||(this.$textarea=this.$(".textarea__textarea_original")),this.$textarea},n.onSaveMouseDown=function(){var t=this;this.model.isValid()||(this.model.trigger("validation:failed"),setTimeout(function(){t.model.trigger("validation:failed")}))},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([n.d("person person_href person_comments",{},[ls.call(this,{user:Hs({hash:{},data:{view:this}}),size:"islands-retina-middle"})])," ",r(Ws.a,{clearTitle:"Очистити",model:this.model,name:"text",class:"textarea_comments",size:"L",widthp:100,minRows:2,maxRows:14,placeholder:"Написати коментар",focus:t.hasFocus,behaviors:{OnEnter:{behaviorClass:Ks,model:this,method:"save",shift:!0},FocusOnEvent:{behaviorClass:Gs.a,eventName:"validation:failed"},Event:{behaviorClass:qs.a,model:this,ui:"input",event:"focus",method:"onFocus"}}},this)," ",n.d("comments__form__ctrl",{},[r(Ja,{method:this.save.bind(this),stopPropagation:!1,class:"button_comments",size:"L",type:"action",label:"Надіслати",behaviors:{Event:{behaviorClass:qs.a,ui:"input",model:this,method:"onSaveMouseDown",event:"mousedown"}}},this)," ",n("p","comments__form__error hidden",{},["Надто довгий коментар"])])])},className:"comments__form",ui:{err:".comments__form__error",formLink:".comments__form__link",label:".comments__form__label",ctrl:".comments__form__ctrl"},triggers:{"click @ui.formLink":"form:open"}})(Js);var Qs,Zs=Vs,$s=Object(w.a)({template:function(t){var e=this,n=e&&e.isRestored,r=n?yn.er:yn.e,i=n?yn.ar:yn.a;return(n?yn.fr:yn.f)([r.d("comments",{},[r.d("comments__wrap",{},[Dn.a.call(t,"list",{hash:{async:!0,regionType:"spinner",type:"gray"},data:{view:e}})," ",Object(Es.a)({data:{view:e}})?[i(Js,{collection:e.collection,cardState:e.options.cardState},e)]:[function(t){var n=e&&e.isRestored?yn.er:yn.e;return[n.d("comments__auth",{},[n("a","link link_auth",{href:"#"},["Авторизуйтеся"]),", щоб залишити коментар"])]}.call(e,t)]])])])},className:"layout__comments__wrap",ui:{authLink:".link_auth"},triggers:{"click @ui.authLink":"auth"}})(Qs=Object(Hr.a)("onAuth")(Qs=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.promise=function(){return this.collection.getCard().hasRestrictedOwner()?Promise.resolve():this.collection.fetchWithCurrentParams()},n.onRender=function(){var t={collection:this.collection,cardState:this.options.cardState};this.showInRegion(this.list,Zs,t,{delay:1e3})},n.onAuth=function(){},e}(D.c))||Qs)||Qs,tc=n("TOCp"),ec=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){var t=this.options.cardState;this.listenTo(t,"change:selectedSeriesContent",this.onSelectionChange)},n.onRender=function(){this.onSelectionChange()},n.onClick=function(){this.isLoading()||this.options.cardState.setSelectedSeriesContent(this.model)},n.onChangeImage=function(){this.thumb||this.safeRender()},n.onSelectionChange=function(){var t=this.options.cardState.getSelectedSeriesContent(),e=Boolean(t&&t.id===this.model.id);this.$el.toggleClass("layout__series__item_cur",e)},n.serializeData=function(){return{description:this.options.card.getDescription(),thumbUrl:this.getThumb()}},n.isLoading=function(){return Boolean(!this.model.getContent()&&!this.model.getFallbackUrl())},n.getThumb=function(){return this.thumb?this.thumb:this.thumb=this.model.getThumbUrl()||this.model.getImageURL({size:"smart130"})||this.model.getSource().getUrl()},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([n.d("image image_layout-series",{},t.thumbUrl?[Object(tc.a)({hash:{url:t.thumbUrl,alt:t.description,className:"image__wrap",imageClass:"image__image"},data:{view:this}})]:[n.d("image__spinner",{},[r(Na.a,{size:"M"},this)])])])},className:"layout__series__item",modelEvents:{"sync change:content change:_fallbackUrl":"onChangeImage"},events:{click:"onClick"}})(ec);var nc=n("P/0C"),rc=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.className=function(){return this.options.add?"layout__series layout__series_edit":"layout__series"},n.initialize=function(){var t=this.options,e=t.card,n=t.cardState;this.collection=e.getContent(),this.listenTo(n,"change:selectedSeriesContent",this.onSelectionChange)},n.childViewOptions=function(){var t=this.options;return{card:t.card,cardState:t.cardState}},n.onRender=function(){this.updateShort(),this.options.open?this.toggleShort():this.toggleShort(this.isShort())},n.toggleShort=function(t){void 0===t&&(t=!1),this.$el.toggleClass("layout__series_short",t)},n.isShort=function(){return this.collection.length>4},n.getShort=function(){return this.collection.length-4},n.updateShort=function(){this.isShort()&&this.ui.overlayText.text("+"+this.getShort())},n.onSelectionChange=function(){this.options.cardState.getSelectedSeriesContent()&&this.ui.itemAdd.removeClass("layout__series__item_cur")},n.onExpand=function(){this.toggleShort()},n.onAdd=function(){this.options.cardState.setSelectedSeriesContent(null),this.ui.itemAdd.addClass("layout__series__item_cur")},n.serializeData=function(){return{disableEdit:this.options.card.isSeriesDisabled()}},e}(nc.a);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e;return(e?yn.fr:yn.f)([n.d("layout__series__trigger",{},[n("span","layout__series__val",{},[])])," ",n.d("layout__series__wrap",{},[]),this.options.add&&!t.disableEdit?[n("span","layout__series__item layout__series__item_add",{title:"Додати зображення до серії"},[])]:[]])},childView:ec,childViewContainer:".layout__series__wrap",ui:{overlay:".layout__series__trigger",overlayText:".layout__series__val",itemAdd:".layout__series__item_add"},triggers:{"click @ui.overlay":"expand","click @ui.itemAdd":"add"},collectionEvents:{"add remove reset":"updateShort"}})(rc);var ic=n("5Yhn"),oc=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){var t=this.model;this.originalCard=t.getCard(),this.proxyCard=t.createCurrentCardClone(),this.proxyCardContents=this.proxyCard.getContent(),t.setEditProxy(this.proxyCard),this.listenTo(this.proxyCard,"change:description",function(){return t.setCardTouched(!0)}),this.listenTo(this.proxyCardContents,"add remove reset",function(){return t.setCardTouched(!0)})},n.onSave=function(){this.proxyCard.trigger("copy:view:value"),this.model.saveCard()},n.onCancel=function(){var t=this.model;t.setCardEdited(!1),t.makeSureSelectedContent()},n.onRemove=function(){if(this.originalCard.isReadonly())z.a.showRemoveCardReadonlyMessage();else{var t=this.model;is.a.showImmediateRemoveCard({model:this.originalCard,immediate:function(){return t.setCardEdited(!1)}})}},n.serializeData=function(){var t=this.options.model,e=t.getCard(),n=this.proxyCard,r=e.isSeries();return G()({},n.toViewJSON(),{card:e,cardState:t,proxyCard:n,isSeries:r})},n.onDestroy=function(){this.proxyCard.destroy(),this.model.setEditProxy(null),this.model.setCurrentCardClone(null)},e}(D.c);Object(w.a)({template:function(t){var e=this,r=e&&e.isRestored,i=r?yn.er:yn.e,o=r?yn.ar:yn.a,a=r?yn.yr:yn.y;return(r?yn.fr:yn.f)([i.d("layout__edit__b",{},[i.d("layout__edit__b__i",{},[i("h4","layout__edit__title",{},["Редагування картки"])," ",i.d("layout__edit__b__ctrl",{},[o(Cn.a,{model:e,method:"onRemove",class:"button_layout-edit-delete button_active-opacity",type:"clear","icon-only":!0,icon:n("ASKi"),size:"L",title:"Видалити картку"},e)])," ",o(rc,{card:t.proxyCard,cardState:t.cardState,open:!0,add:!0},e)," ",i.d("form form_layout-edit",{},[i.d("form__row",{},[i("label","label label_layout-edit",{},["Опис"])," ",o(Ws.a,{model:e.proxyCard,name:"description",class:"textarea_layout-desc",size:"L",minRows:3,maxRows:14,widthp:100,clearTitle:"Очистити",focus:!0},e)])," ",t.source_meta.page_url?[i.d("form__row",{},[i("label","label label_layout-edit",{},["Посилання"])," ",o(ic.a,{class:"input_layout-edit-url",size:"L",value:t.source_meta.page_url,disabled:!0,widthp:100},e)])]:[]," ",Pr(dt.d.OBJECT_ANSWER,{hash:{},data:{view:e}})?[a(Object(yn.all)([Object(yn.retryPromise)(function(){return n.e(11).then(n.bind(null,"jTjB"))},1/0,3e3),e.getEnv().di({suggestSource:"objectAnswerSuggestSource"})],function(t){return o(t[0].DesktopCardSideEditObjectAnswer,Object(yn.assign)({proxyCard:e.proxyCard},t[1]),e)}),e)]:[]," ",Pr(dt.d.CARD_EDIT_CATALOG,{hash:{},data:{view:e}})?[a(Object(yn.all)([Object(yn.retryPromise)(function(){return n.e(10).then(n.bind(null,"FOwJ"))},1/0,3e3),e.getEnv().di({organizationsSuggestSource:"organizationsSuggestSource",toponymsSuggestSource:"toponymsSuggestSource"})],function(t){return o(t[0].DesktopCardSideEditCatalog,Object(yn.assign)({proxyCard:e.proxyCard},t[1]),e)}),e)]:[]])])])," ",i.d("layout__edit__f",{},[i.d("layout__edit__f__ctrl",{},[o(Cn.a,{model:e,method:"onSave",class:"button_layout-edit-save",size:"L",label:"Зберегти зміни",type:"action"},e)," ",o(Cn.a,{model:e,method:"onCancel",class:"button_layout-edit-cancel",size:"L",label:"Скасувати"},e)])])])},className:"layout__edit",behaviors:{ViewCardPopupClose:{behaviorClass:Xa,priority:20,closeMethod:"onCancel",stopPropogation:!0}}})(oc);var ac,sc,cc=Object(Ze.a)(function(){var t=$()(Q.a.mark(function t(e,n){var r,i,o,a,s,c;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.text,i=e.pageId,o=n.getState,a=o().env,s=a.tld,c=a.regionId,t.next=5,lt({tld:s,regionId:c,text:r,pageId:i});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),uc=n("o4LV"),lc=(ac=Object(qt.a)(),sc=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={adverts:[],isWarningExpanded:!1},e}O()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.adverts?this.setState({adverts:this.props.adverts}):this.fetchData().catch(function(t){return console.log(t)})},n.componentDidUpdate=function(){var t=this.props.adverts;t&&t.forEach(function(t){var e=t.link_head,n=t.link_tail;fetch(e+n,{credentials:"include",mode:"cors"}).catch(function(t){return console.error(t)})})},n.fetchData=function(){var t=$()(Q.a.mark(function t(){var e,n,r,i;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.props,n=e.text,r=e.pageId,!n||!r){t.next=6;break}return t.next=4,this.props.dispatch(cc({text:n,pageId:r}));case 4:i=t.sent,this.setState({adverts:i});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.toggleWarning=function(){this.setState(function(t){return{isWarningExpanded:!t.isWarningExpanded}})},n.render=function(){var t=this.props,e=t.mods,n=t.loc,r=t.greyLink,i=t.thinLink,o=t.boldTitle,a=this.state,s=a.adverts,c=a.isWarningExpanded,u=s[0];if(!u)return null;var l=G()({},this.context.counter,{loc:n}),d=Object(On.a)("link",{color:r?"grey":"green",weight:i?"normal":void 0}),h=Object(On.a)("direct-snippet__title",{bold:o}),f=u.warning&&u.warning.length>44,p=c||!f?u.warning:u.warning&&u.warning.slice(0,44)+"…",g=Object(On.a)("direct-snippet__warning",{expanded:c,clickable:f});return Ln.createElement("div",{className:Object(On.a)("direct-snippet",e)},Ln.createElement("a",{className:"link "+h,href:u.url,target:"_blank",tabIndex:0,"data-c":it.c.clickDirect(l),"data-disable-counters":"1"},u.title),Ln.createElement("a",{className:d+" direct-snippet__greenurl",href:u.url,target:"_blank",tabIndex:0,"data-c":it.c.clickDirect(l),"data-disable-counters":"1"},u.domain),Ln.createElement("div",{className:"direct-snippet__adv-label"},uc.label()),Ln.createElement("div",{className:"direct-snippet__text"},u.text),u.age&&Ln.createElement("div",{className:"direct-snippet__age"},u.age),u.warning&&Ln.createElement("div",{onClick:this.toggleWarning,className:g},p))},e}(Ln.Component),I()(sc.prototype,"toggleWarning",[ac],Object.getOwnPropertyDescriptor(sc.prototype,"toggleWarning"),sc.prototype),sc),dc=Object(Nn.b)()(lc),hc=["huaweirussia"],fc=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){this.listenTo(this.options.cardState,{"card:ads:loaded":this.onAdsLoaded})},n.onAdsLoaded=function(t){this.options.cardState.getCard().id===t.id&&this.safeRender()},n.isVisible=function(){var t=this.options.cardState.getCard().getOwnerLogin();return-1===hc.indexOf(t)},n.serializeData=function(){var t=this.options.cardState,e=t.getCard();return{adverts:t.getCardAdverts(e),isVisible:this.isVisible()}},e}(D.c);Object(w.a)({template:function(t){return(this&&this.isRestored?yn.fr:yn.f)(t.isVisible?[Object(Zn.react)(Object(Zn.renderView)(dc,{mods:{layout:!0,theme:"clear",visible:"yes",new_layout:Pr(dt.d.COLLECTIONS_DESKTOP_NEW_ADV,{hash:{},data:{view:this}})},adverts:t.adverts,loc:this.options.loc,greyLink:Pr(dt.d.COLLECTIONS_DESKTOP_ADV_GREY_LINK,{hash:{},data:{view:this}}),thinLink:Pr(dt.d.COLLECTIONS_DESKTOP_ADV_THIN_LINK,{hash:{},data:{view:this}}),boldTitle:Pr(dt.d.COLLECTIONS_DESKTOP_ADV_BOLD_TITLE,{hash:{},data:{view:this}})},this),this)]:[])},className:"layout__side-direct"})(fc);var pc=n("gh0E");function gc(t){return function(t){return Object(pc.a)(t)}(t.get("date"))}var mc=n("4e/Y"),vc=n("LYw3");function bc(t){return function(t){return t?String(t.getTitle()).trim():""}(t)}var _c=n("Q1O+"),yc=function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e;return(e?yn.fr:yn.f)([t.date?[n.d(Object(yn.j)(["contest contest_",t.mod]),{},[n("span","contest__icon",{},[])," ",n("h4","contest__title",{},[n("a","link",{href:"/collections/contest/photo-of-the-day/","data-c":Object(hs.a)("clickCardContestLink",{hash:{}})},["Фото дня"])])," ",n.d("contest__desc",{},["Переможець ",t.date])])]:[]," ",_c.a.call(t,t.contests,{hash:{},data:{view:this},fn:function(e){var n=this&&this.isRestored?yn.er:yn.e;return[n.d(Object(yn.j)(["contest contest_",t.mod]),{},[n("span","contest__icon",{},[])," ",n("h4","contest__title",{},[n("a","link",{href:"/collections/contest/"+encodeURIComponent(e.slug)+"/","data-c":Object(hs.a)("clickCardContestLink",{hash:{}})},[e.title])])," ",n.d("contest__desc",{},e.place?["Учасник конкурсу, ",e.place," місце"]:["Учасник конкурсу"])])]}})])},Cc=function(t){function e(){return t.apply(this,arguments)||this}return O()(e,t),e.prototype.attributes=function(){var e=t.prototype.attributes.call(this),n=this.getOption("color");return n&&(e.style="background: "+n+";"),e},e}(Cn.a),Oc=function(t){function e(){return t.apply(this,arguments)||this}return O()(e,t),e.prototype.attributes=function(){var e=t.prototype.attributes.call(this);return e["data-href"]=Object(Xe.b)(e.href),e["data-original-href"]=Object(Xe.b)(e.href),e},e}(Cc);Object(w.a)({options:G()({},Cc.prototype.options,{size:"M",icon:!0,rel:"nofollow",target:"_blank"})})(Oc);var Sc,wc,Ec,kc,jc,Tc=n("o2E8"),xc=n("FPVx"),Rc=n("FzJZ"),Ic=n("pryo"),Dc=(Sc=Object(w.a)({template:function(t){var e=this&&this.isRestored,r=e?yn.er:yn.e,i=e?yn.ar:yn.a;return(e?yn.fr:yn.f)(t.card?[Object(Zn.react)(Object(Zn.renderView)(mc.a,{mod:"layout",size:"M",cardId:t.card.id,showSource:!1},this),this)," ",t.isCardVirtual?[]:[r.d("layout__desc__head",{},[ks(t.owner.login,{hash:{},data:{view:this}})&&!t.owner.is_restricted?[r.d("layout__desc__head__ctrl",{},[i(Cn.a,{model:this,method:"onEdit",class:"button_layout-edit",size:"XL","icon-only":!0,icon:n("ecXe"),type:"pseudo",title:"Редагувати"},this)])]:[]," ",r.d("layout__desc__head__info",{},[r.d("person person_href person_layout",{},[ls.call(this,{user:t.owner,size:"islands-retina-middle",verifiedSize:"M"})," ",r.d("person__i",{},[r.d("person__info",{},t.owner.is_restricted?[r("a","person__info__groups",{href:"/collections/favorites-"+encodeURIComponent(t.sourceType)+"/"},[vc.a.call(t,t.sourceType,{hash:{},data:{view:this}})])]:[r("a","person__info__groups",{href:"/collections/user/"+encodeURIComponent(t.owner.login)+"/"+encodeURIComponent(t.board.slug)+"/"},[bc(t.targetBoard)])])," ",gs(t.owner,{hash:{inline:!0,type:"normal"},data:{view:this}})])])])])]," ",r.d("layout__desc__body",{},[t.isSeries?[i(rc,{card:t.card,cardState:t.cardState},this)]:[]," ",t.description?[r.d("layout__desc__text layout__desc__text_short",{},[Bs(t.description,{hash:{},data:{view:this}})])," ",r.d("layout__desc__expand hidden",{},[r("span","link link_layout-desc-expand",{"data-c":Object(hs.a)("clickCardExpandDescription",{hash:{cardId:t.card.id}})},["Розгорнути"])])]:[]," ",t.extensionButtonShown&&t.page?[r.d("layout__desc__outer layout__desc__outer_link",{},[Is({hash:{href:t.page.url,class:"link link_type_outer"},data:{view:this},fn:function(e){return[t.page.domain]}})])]:[]," ",t.isCardVirtual&&!t.description?[]:[r("p","layout__desc__date",{},t.isCardVirtual?[]:[t.isLoadedByUser?["Завантажено"," "]:[],t.service?[Fs(t.service.created_at,{hash:{fromNow:!0},data:{view:this}})]:[]])]," ",t.contests||t.cardDate?[yc.call(this,{contests:t.contests,date:t.cardDate,mod:"layout"})]:[]," ",!t.extensionButtonShown&&t.page&&t.isValidExternalLink?[r.d("layout__desc__outer",{},t.isWebSearchSource&&"link"!=t.sourceType&&"geo"!=t.sourceType&&"organization"!=t.sourceType?[i(Cn.a,{href:t.webSearchLink,label:"series"==t.sourceType?"Перейти до серіалу":"book"==t.sourceType?"Перейти к книге":"Перейти до фільму",icon:!0,size:"m",type:"action",class:"button_layout-desc-outer","data-c":Object(hs.a)("clickCardSerp",{hash:{cardId:t.card.id}}),target:"_blank"},this)]:[i(Oc,{href:t.page.url,type:"link"==t.sourceType?"action":"pseudo",label:Object(yn.j)(["Перейти на ",t.page.domain]),class:"button_layout-desc-outer","data-c":Object(hs.a)("clickCardExternal",{hash:{cardId:t.card.id}})},this)])]:[]])]:[])},className:"layout__desc",modelEvents:{update:"safeRender","change:card":"safeRender","card:change:complaint":"safeRender","card:change:description":"safeRender","card:change:board":"safeRender"},behaviors:{TextCut:{behaviorClass:rs,textShortClass:"layout__desc__text_short",expandButton:".layout__desc__expand",textContainer:".layout__desc__text",textMaxHeight:102}}}),wc=Object(Hr.a)(["showComments","onComplain"]),Ec=Object(P.a)(300),Sc(kc=wc((jc=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.onRender=function(){var t=this.model.getCard();t.isFilled()||t.isSeries()||t.getDescription()||this.getSourcePage()||this.$el.addClass("layout__desc_empty")},n.safeRender=function(){!this.isDestroyed&&this.model.getCard()&&this.render()},n.onEdit=function(){var t=this.model.getCard();this.env.hasFeature(dt.d.COLLECTIONS_DESKTOP_ADD_EDIT)?this.env.dispatch(Object(Ic.a)({cardId:t.id,type:"edit"})):t.isReadonly()?z.a.showEditCardReadonlyMessage():(this.model.setCardEdited(!0),this.model.setCardZoomed(!1))},n.getSourcePage=function(){var t=this.env,e=this.model.getCard(),n=e.getExtensions(t),r=e.getSourceMeta(),i=r.page_domain_decoded,o=r.page_url;if(o&&!n.isPageUrlShown())return{url:o,domain:i}},n.serializeData=function(){var t=this.env,e=this.model.getCard(),n=e.getBoard(),r=e.getExtensions(t),i=Object(Tc.a)(e),o=e.toViewJSON(),a=this.getSourcePage(),s=!0;return"link"===i&&a&&a.url&&!Object(Rc.a)(a.url)&&(s=!1),G()({},o,{card:e,sourceType:i,targetBoard:n,page:a,extensionButtonShown:r.isButtonShown(),cardState:this.model,isLoadedByUser:e.isLoadedByUser(),commentsCount:e.getCommentsCount(),isPrivate:n.isPrivate(),isSeries:e.isSeries(),isWebSearchSource:e.isWebSearchSource(),webSearchLink:Object(xc.a)(null,o),isCardVirtual:e.isVirtual(),description:e.getDescription(),contests:e.getContests(),cardDate:gc(e),isValidExternalLink:s})},e}(D.c),I()(jc.prototype,"safeRender",[Ec],Object.getOwnPropertyDescriptor(jc.prototype,"safeRender"),jc.prototype),kc=jc))||kc)||kc),Pc=(n("c9IW"),n("kWnB")),Lc="#FFDB4D";function Nc(t,e){return Object(Pc.a)(t,G()({name:"color_wiz_button",defaultColor:Lc},e))}var Ac=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.attributes=function(){return{}},n.open=function(){this.$el.removeClass("context_short")},n.className=function(){var t=this.getOption("contextName"),e=this.isInvert(),n=this.withoutColorWiz();return"context context_"+t+(this.isHidden()?" context_short":"")+(n?" context_color":"")+(e?" context_invert":"")},n.isHidden=function(){return this.getOption("hidden")},n.isInvert=function(){return!1},n.withoutColorWiz=function(){return!1},n.onTitleClick=function(){},n.onOpenCardPopup=function(){var t=this.options,e=t.baseState,n=t.cardState;e&&n&&n.hasCard()&&(this.env.isYandexAppMultiMorda?Object(Je.a)(this.env.router.reverse("card",{id:n.getCard().id}),this.env):e.openCardPopup(n.getCard(),n.getCards()))},n.serializeData=function(){var t=this.options,e=t.card,n=t.counterParams,r={backgroundWizColor:Object(Pc.a)(e),buttonWizColor:Nc(e),isInvert:this.isInvert(),isColor:this.withoutColorWiz(),isHidden:this.isHidden(),counterParams:n};return e&&(r=G()({},r,{cardId:e.id,ownerLogin:e.getOwnerLogin(),boardSlug:e.getBoardSlug()})),r},e}(D.c);Object(w.a)({events:{"click .context__title-link":"onTitleClick"}})(Ac);var Bc=function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e;return(e?yn.fr:yn.f)([n("h3","context__title"+(t.rating?t.ratingTitleClass?Object(yn.j)([" ",t.ratingTitleClass]):" context__title_rating":""),{itemprop:"name"},[n("span","context__title-text",{},[t.title])," ",t.rating?[n("span",t.ratingLabelClass?t.ratingLabelClass:"rating rating_context rating_obj",{},[t.rating])]:[]])])},Mc=n("0kDp"),Fc=n("CRez"),Uc=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.attributes=function(){return{}},n.isInvert=function(){return!1},n.initialize=function(){this.model.hasPrice()||(this.listenToOnce(this.options.card,"sync",this.onPriceUpdate),this.options.card.fetch(),this.wait=!0)},n.onPriceUpdate=function(){this.wait=!1,this.safeRender()},n.getButtonLabel=function(){var t,e,n=this.model;return n.isPrecise()?n.hasPrice()?n.isRouble()?(e=n.getRoundedPrice(),t=Mc.marketTeaserPriceRouble):(e=n.getFormatPrice(),t=Mc.marketTeaserPrice):t=Mc.marketNoPriceFull:t=Mc.marketNotPrecise,{full:this.env.translate(t,{price:e}),isRuble:n.isRouble(),price:e&&(n.isRouble()?this.env.translate(Mc.marketTeaserPriceRoubleShort,{price:e}):e)}},n.checkLength=function(t,e){return this.getEnv().getWindowWidth()/t.length<e},n.showExpander=function(){return!0},n.checkLabel=function(t){var e=this.getEnv();if(!e)return t;var n=e.translate(Fc.moreLabelMarket);return this.showExpander()&&this.checkLength(t+n,8.5)?e.translate(Mc.market):t},n.serializeData=function(){var e=this.getButtonLabel(),n=this.model.toViewJSON(this.env);return G()({},t.prototype.serializeData.call(this),n,{buttonLabel:e.full,buttonLabelShort:e.price,isRuble:e.isRuble,title:this.model.getFullTitle(),showExpander:this.showExpander()})},e}(Ac);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([t.name?[Bc.call(this,Object(yn.assign)(t,{ratingLabelClass:Object(yn.j)(["rating rating_context rating_market rating_market_rate_",t.rate]),title:t.title}))]:[]," ",t.features?[n("p","context__desc",{},[_c.a.call(t,t.features,{hash:{},data:{view:this},fn:function(t,e){return[e.index?[" ,"]:[],Bs(t,{hash:{},data:{view:this}})]}})])]:[]," ",n.d("context__ctrl",{},this.wait?[r(Na.a,{},this)]:[r(Cn.a,{class:"button_context button_context_market",type:"pseudo",icon:!0,href:t.url,target:"_blank","data-c":Object(hs.a)("clickCardMarket",t.counterParams,{hash:{cardId:t.cardId}}),content:function(e){var n=this&&this.isRestored;return[(n?yn.er:yn.e)("span","button__label",{},[(n?yn.sr:yn.s)(t.buttonLabel)])]}},this)])])},contextName:"market"})(Uc);var zc=n("82Qi"),Vc=n("a2jT"),Hc=n("JEEa"),Wc=n("/ERR");function qc(t,e){if(t)return t.join(e)}var Kc=n("YuhT"),Gc=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.className=function(){var t="summary summary_context";return this.options.isInvert&&(t+=" summary_invert"),t},n.serializeData=function(){var t=this.model;return{cookingTime:t.getCookingTime(),portionsCount:t.getPortionsCount(),rangePortionsCount:t.getRangePortionsCount()}},e}(D.c);function Yc(t){if(t)return t.charAt(0).toUpperCase()+t.slice(1)}Object(w.a)({tagName:"ul",template:function(t){var e,n,r,i,o,a,s,c=this&&this.isRestored,u=c?yn.er:yn.e;return(c?yn.fr:yn.f)([t.cookingTime?[u("li","summary__item summary__item_icon",{},[u("meta","",{itemprop:"totalTime",content:(r=t.cookingTime,i={hash:{}},o=(void 0===i?{}:i).hash,a=(void 0===o?{}:o).measure,s=void 0===a?"minutes":a,new Hc.a(r,s).toISOString())},[]),u("span","summary__icon summary__icon_time",{title:"Час приготув."},[])," ",u("p","summary__value",{},[Object(Wc.a)(t.cookingTime,{hash:{},data:{view:this}})])])]:[]," ",t.portionsCount||t.rangePortionsCount?[u("li","summary__item summary__item_icon",{},[u("meta","",{itemprop:"recipeYield",content:(e=t.portionsCount,n=qc(t.rangePortionsCount,"-"),e||n)},[]),u("span","summary__icon summary__icon_portions",{title:"Кількість порцій"},[])," ",u("p","summary__value",{},t.rangePortionsCount?[Object(Kc.servingsRangeCount)({count0:t.rangePortionsCount[0],count:t.rangePortionsCount[1]})]:[Object(Kc.servingsCount)({count:t.portionsCount})])])]:[]])}})(Gc);var Xc=function(t){function e(){return t.apply(this,arguments)||this}return O()(e,t),e.prototype.serializeData=function(){var t=this.options.ingredient,e=t.units,n=t.count;return{name:t.names[0],units:e,count:n}},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e;return(e?yn.fr:yn.f)([n.d("contents__label",{},[n("span","",{},[Yc(t.name)])])," ",t.count?[n.d("contents__value",{},[n("span","",{},[t.count," ",t.units])])]:[]])},className:"contents__item",tagName:"li",attributes:{Itemprop:"recipeIngredient",itemprop:"ingredients"}})(Xc);var Jc=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.getList=function(){var t=this.options.cardState,e=this.model,n=e.getIngredients();return e.getIngredientsCount()-U.V>=U.H&&!t.getShowAllIngredients()?n.slice(0,U.H):n},n.serializeData=function(){return{ingredients:this.getList()}},e}(D.c);Object(w.a)({className:"contents__list",template:function(t){var e=this;return(e&&e.isRestored?yn.fr:yn.f)([_c.a.call(t,t.ingredients,{hash:{},data:{view:e},fn:function(t){return[(this&&this.isRestored?yn.ar:yn.a)(Xc,{ingredient:t,env:e.options.env},this)]}})])},tagName:"ul"})(Jc);var Qc=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){this.listenTo(this.options.cardState,"change:showAllIngredients",this.safeRender)},n.attributes=function(){return G()({},t.prototype.attributes.call(this),{itemscope:"",itemtype:"http://schema.org/Recipe"})},n.onShowMore=function(){this.options.cardState.setShowAllIngredients(!0)},n.openTurbo=function(){var t=this.dep("PopupState"),e=this.options.card;t.setTypeTurbo({turboLink:Object(Vc.a)(e)})},n.serializeData=function(){var e=this.model,n=this.options.card,r=this.options.cardState,i=this.getEnv(),o=n.getFirstImageURL({size:Object(zc.a)({env:i})}),a=e.getCookingTime()||e.getPortionsCount(),s=e.getIngredientsCount()-U.H,c=!r.getShowAllIngredients()&&s>=U.V,u=Object(Vc.a)(n),l=n.getOwnerDisplayName(),d=e.getUrl(),h=d&&Object(Rc.a)(d);return G()({},t.prototype.serializeData.call(this),{env:i,recipe:e,image:o,ownerName:l,recipeName:e.getName(),recipeHref:d,source_meta:n.getSourceMeta(),turboLink:u,showMoreCount:s,showMoreButton:c,showDescription:a,isValidExternalLink:h})},e}(Ac);Object(w.a)({template:function(t){var e=this,n=e&&e.isRestored,r=n?yn.er:yn.e,i=n?yn.ar:yn.a,o=n?yn.rbr:yn.rb;return(n?yn.fr:yn.f)([r("script","",{type:"application/ld+json"},[]),Bc.call(e,Object(yn.assign)(t,{title:t.recipeName}))," ",t.image?[r("meta","",{itemprop:"image",content:t.image},[])]:[]," ",t.ownerName?[r("meta","",{itemprop:"author",content:t.ownerName},[])]:[]," ",t.showDescription?[i(Gc,{model:t.recipe,card:e.model,env:t.env,isInvert:t.isInvert},e)]:[]," ",o(function(){var n=e&&e.isRestored,r=n?yn.er:yn.e,i=n?yn.ar:yn.a;return n?yn.cr:yn.c,r.d(Object(On.b)("contents",{hash:{context:!0,invert:t.isInvert}}),{},[i(Jc,{model:t.recipe,cardState:e.options.cardState,env:t.env},e)," ",t.showMoreButton?[r("span","contents__more",{},[Object(Kc.showMoreIngredients)({count:t.showMoreCount})])]:[]])},!0)," ",t.turboLink&&!e.env.isYandexAppMultiMorda||t.isValidExternalLink?[r.d("context__ctrl",{},t.isValidExternalLink?[i(Oc,{href:t.recipeHref,label:Object(yn.j)(["Весь рецепт на ",t.source_meta.page_domain_decoded]),class:"button_context button_context_outer",type:"action",icon:!0,"data-c":Object(hs.a)("clickCardRecipe",t.counterParams,{hash:{cardId:t.cardId}})},e)]:[])]:[]])},contextName:"recipe",ui:{more:".contents__more",moreList:".context__list__more"},events:G()({},Ac.prototype.events,{"click @ui.more":"onShowMore","click @ui.moreList":"onShowMore"})})(Qc);var Zc=n("5Skr"),$c=function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e;return(e?yn.fr:yn.f)(t.summary?[n("ul","summary summary_context",{},[n("li","summary__item",{},[n("p","summary__value",{},[t.summary])])])]:[])},tu=function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e;return(e?yn.fr:yn.f)(t.description?[n.d("context__article",{},[n.d("context__text context__text_short",{},[n("p","",{},[Bs(t.description,{hash:{},data:{view:this}})])," ",t.descriptionSource&&t.descriptionSource.name&&t.descriptionSource.url?[n("p","",{},[Is({hash:{href:t.descriptionSource.url,class:"context__link"},data:{view:this},fn:function(e){return[t.descriptionSource.name]}})])]:[]])," ",n.d("context__article-expand hidden",{},[n("span","context__link context__link_expand",{"data-c":Object(hs.a)("clickCardExpandExtDescription",{hash:{cardId:t.cardId}})},["Розгорнути"])])])]:[])},eu=function(t){var e=this,n=e&&e.isRestored,r=n?yn.rbr:yn.rb;return(n?yn.fr:yn.f)([r(function(){var n=e&&e.isRestored,r=n?yn.er:yn.e;return n?yn.cr:yn.c,r("ul",Object(On.b)("star",{hash:{context:!0,invert:t.isInvert,color:t.isColor}}),{},[_c.a.call(t,t.ratings,{hash:{},data:{view:e},fn:function(t){var e=this&&this.isRestored?yn.er:yn.e;return[e("li","star__item",{},[e("span","star__icon",{},[e("span","star__icon-active",{style:Object(yn.j)(["width: ",t.percentage,"%;"])},[])])," ",e("span","star__value",{},[t.orig,"/",t.max])," ",t.href?[e("a","star__outer",{target:"_blank",href:t.href},[t.name])]:[e("span","star__outer",{},[t.name])]])]}})])},!0)])};function nu(t){return function(t){return Boolean(t&&t.match(/^tel:/))}(t)}var ru=function(t){var e=this&&this.isRestored,n=e?yn.sr:yn.s;return(e?yn.fr:yn.f)([n(ys.a.call(t,{data:{view:this}}))])},iu=function(t){function e(){return t.apply(this,arguments)||this}return O()(e,t),e.prototype.initialize=function(){var t=this;this.$el.on("click",function(){var e=t.el.parentNode,n=D.c.render(ru,{},t);t.destroy(),e.appendChild(n)})},e}(D.c);Object(w.a)({template:function(t){return(this&&this.isRestored?yn.fr:yn.f)(["[...] "])},tagName:"span",attributes:{role:"button"},className:"context__link context__link_expand"})(iu);var ou=function(t){var e=function(t){return[_c.a.call(t,t.values,{hash:{},data:{view:this},fn:function(t,e){var n=this&&this.isRestored?yn.er:yn.e;return[e.index?[n("i","",{},[","," "])]:[],t.href?[n("a","",Object(yn.assign)({href:t.href,class:"key__link"},nu.call(t,t.href,{hash:{},data:{view:this}})?{"data-navigate":"false"}:{target:"_blank"}),[t.value])]:[n("span","",{},[t.value])]]}})]},n=this,r=n&&n.isRestored,i=r?yn.rbr:yn.rb;return(r?yn.fr:yn.f)([i(function(){var r=n&&n.isRestored,i=r?yn.er:yn.e;return r?yn.cr:yn.c,i("ul",Object(On.b)("key",{hash:{context:!0,invert:t.isInvert,color:t.isColor}}),{},[_c.a.call(t,t.details,{hash:{},data:{view:n},fn:function(t){var n=this&&this.isRestored,r=n?yn.er:yn.e,i=n?yn.ar:yn.a;return[r("li","key__item",{},[r("span","key__label",{},[t.label])," ",r("span","key__value",{},[e.call(this,t),t.additionalValues&&t.additionalValues.length?[r("i","",{},[","," "]),i(iu,{content:function(n){return[e.call(this,{values:t.additionalValues})]}},this)]:[]])])]}})," ",t.genres?[i("li","key__item",{},[i("span","key__label",{},["Жанри"])," ",i("span","key__value",{},[t.genres])])]:[]])},!0)])},au=function(t){function e(e){var n,r=e.model.getType();return e.contextName=U.W[r],(n=t.call(this,e)||this).type=r,n}return O()(e,t),e.prototype.serializeData=function(){var e=Zc[this.type],n=this.isHidden(),r=e(this.model,this.getEnv(),{isHidden:n});return G()({},t.prototype.serializeData.call(this),r)},e}(Ac);Object(w.a)({template:function(t){var e=this,n=e&&e.isRestored,r=n?yn.er:yn.e,i=n?yn.ar:yn.a,o=n?yn.rbr:yn.rb;return(n?yn.fr:yn.f)([Bc.call(e,t)," ",t.summary?[$c.call(e,t)]:[]," ",t.genres?[r.d("context__desc",{},[r("span","context__desc-text",{},[t.genres])])]:[]," ",tu.call(e,t)," ",t.ratings?[eu.call(e,t)]:[]," ",t.details?[ou.call(e,t)]:[]," ",t.button?[r.d("context__ctrl",{},[i(Cn.a,{class:"button button_context"+(t.button.icon?Object(yn.j)([" button_context_",t.button.icon]):" button_context_outer"),label:t.button.label,href:t.button.href,icon:!0,target:"_blank",type:"action","data-c":Object(hs.a)("clickCardObjectAnswer",t.counterParams,{hash:{cardId:t.cardId}})},e)])]:[]," ",t.stores?[o(function(){var n=e&&e.isRestored,r=n?yn.er:yn.e;return n?yn.cr:yn.c,r.d("store store_context",{},[_c.a.call(t,t.stores,{hash:{},data:{view:e},fn:function(t){return[Is({hash:{target:null,href:t.value,class:Object(yn.j)(["store__link store__link_",t.name])},data:{view:this}})]}})])},!0)]:[]])},behaviors:{TextCut:{behaviorClass:rs,textShortClass:"context__text_short",expandButton:".context__article-expand",textContainer:".context__text",textMaxHeight:102}}})(au);var su=n("LiK1");function cu(t){var e=t[0],n=t[1],r=t[2];return{value:"+"+e+" "+n+" "+[r.slice(0,-4),r.slice(-4,-2),r.slice(-2)].join("-"),href:void 0}}var uu=n("8YGJ"),lu=function(t){function e(){return t.apply(this,arguments)||this}return O()(e,t),e.prototype.serializeData=function(){var e,n=this.getEnv(),r=this.model.toJSON()||{},i={id:r.id,name:r.name,summary:this.model.getCategoriesJoined(),button:null,ratings:null,details:null};r.coordinates&&(e=function(t){if(t&&t.coordinates&&t.name)return Object(Ri.a)(t.coordinates[0],t.coordinates[1],t.name)}(r),i.button={label:n.translate(uu.showOnMaps),labelShort:n.translate(uu.showOnMapsShort),href:e});var o=[];if(r.rating&&(i.ratings=[{orig:r.rating,max:10,name:n.translate(uu.ratingMaps),href:e,percentage:Math.round(10*r.rating)}]),r.address&&o.push({label:n.translate(uu.address),values:[{value:r.address}],nowrap:!0}),r.phones&&o.push({label:n.translate(uu.phone),values:r.phones.slice(0,2).map(cu),additionalValues:r.phones.slice(2).map(cu)}),r.urls){var a=Object(su.a)(r.urls.map(function(t){return{value:(e=t,e.match(/(https?:\/\/)?(www\.)?([^?\/]+)/)[3]),href:Object(Xe.b)(t)};var e}),function(t){return t.value});o.push({label:n.translate(uu.website),values:a.slice(0,1),additionalValues:a.slice(1)})}return r.working_hours&&o.push({label:n.translate(uu.workingHours),values:[{value:r.working_hours}]}),i.details=o,G()({},t.prototype.serializeData.call(this),i)},e}(Ac);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([Bc.call(this,Object(yn.assign)(t,{title:t.name}))," ",$c.call(this,t)," ",t.ratings?[eu.call(this,t)]:[]," ",t.details?[ou.call(this,t)]:[]," ",t.button?[n.d("context__ctrl",{},[r(Cn.a,{class:"button button_context button_context_maps",icon:!0,label:t.button.label,href:t.button.href,target:"_blank",type:"action","data-c":Object(hs.a)("clickCardOrganization",t.counterParams,{hash:{cardId:t.cardId}})},this)])]:[]])},contextName:"maps"})(lu);var du=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){var t=this,e=this.options.cardState;this.listenTo(e,"change:card",function(){e.getCard()&&t.safeRender()})},n.serializeData=function(){var t=this.options,e=t.hidden,n=t.counterParams,r=t.cardState,i=t.cardPopupState,o=void 0===i?r:i,a=this.env,s=this.baseState,c=r.getCard(),u=c.getExtensions(a);if(u.hasOne()){var l=u.getExtension(),d=l.getType();return{EXT_TYPES:U.B,type:d,extension:l,options:{env:a,card:c,baseState:s,cardState:o,model:l,hidden:e,counterParams:n,dynamic:!0}}}},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.ar:yn.a;return(e?yn.fr:yn.f)(t.extension?t.type==t.EXT_TYPES.MARKET?[n(Uc,t.options,this)]:t.type==t.EXT_TYPES.RECIPE?[n(Qc,t.options,this)]:t.type==t.EXT_TYPES.GAME?[n(au,t.options,this)]:t.type==t.EXT_TYPES.GEO?[n(au,t.options,this)]:t.type==t.EXT_TYPES.ORGANIZATION?[n(lu,t.options,this)]:[]:[])},className:"card__context"})(du);var hu=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){var t=this.options.cardState;this.listenTo(t,{"update card:change:complaint change:card change:cardEdited":this.safeRender,"scroll:to":this.scrollTo})},n.safeRender=function(){var t=this.options.cardState;!this.isDestroyed&&t.getCard()&&this.render()},n.onRender=function(){var t=this.options.cardState;if(t.getCard()){var e=t.isCardVisible();e&&this.renderComments(),this.$el.toggleClass("hidden",!e)}},n.renderComments=function(){var t=this.options.cardState;t.isCardEdited()||this.showInRegion(this.comments,$s,{collection:t.getComments(),cardState:t})},n.scrollTo=function(t,e){void 0===e&&(e={});var n=this.$el,r=t+n.scrollTop();e.animate?n.animate({scrollTop:r},500,"swing"):n.scrollTop(r)},n.isAdvAllowed=function(){var t=this.getEnv(),e=this.options.cardState.getCard();return!t||!t.hasFeature(dt.d.DESKTOP_ADV_PORN)||e.get("adv_on")},n.serializeData=function(){var t=this.options,e=t.baseState,n=t.cardState,r=e.getCurrentUserLogin(),i=n.getCard(),o=i.isBanned(),a=n.isCardEdited(),s=i?i.getCommentsCount():0,c=i?i.getBoardTitle():"",u=i?i.getDescription():"",l=Object($a.a)(i.getBoard());return{isBanned:o,isCardEdited:a,isAdvAllowed:this.isAdvAllowed(),boardTitle:c,cardDescription:u,commentsEmptyClass:!s&&!r,isHuawei:l,huaweiPixel:ts.b}},e}(D.c);Object(w.a)({template:function(t){var e=this,n=e&&e.isRestored,r=n?yn.ar:yn.a,i=function(t){return[(this&&this.isRestored?yn.ar:yn.a)(fc,{cardState:e.options.cardState,loc:"cardPopup"},this)]},o=n?yn.er:yn.e;return(n?yn.fr:yn.f)(t.isBanned?[]:t.isCardEdited?[r(oc,{model:e.options.cardState},e)]:[Pr(dt.d.DESKTOP_CARD_DIRECT_POSITION,1,{hash:{},data:{view:e}})&&t.isAdvAllowed?[i.call(e,t)]:[]," ",r(Dc,{model:e.options.cardState},e)," ",r(du,{cardState:e.options.cardState},e)," ",Pr(dt.d.DESKTOP_CARD_DIRECT_POSITION,2,{hash:{},data:{view:e}})&&t.isAdvAllowed?[i.call(e,t)]:[]," ",o.d("layout__comments"+(t.commentsEmptyClass?" layout__comments_empty":""),{},[Dn.a.call(t,"comments",{hash:{},data:{view:e}})])," ",t.isHuawei?[o("img","",{style:"visibility: hidden; position: absolute; top: 0; left: 0;",src:t.huaweiPixel},[])]:[]])},className:"layout__side",behaviors:{PreventParentScroll:{behaviorClass:Za.a}}})(hu);var fu=n("DPpg"),pu=n("rT8E"),gu=n("GGxO"),mu=n("XL0g"),vu=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).retry=0,e}O()(e,t);var n=e.prototype;return n.className=function(){return Object(On.a)("image",{card:!1,cover:this.isCover(),layout:!0,load:!0})},n.isCover=function(){var t=this.model.getCard(),e=t&&t.toViewJSON(),n=Object(ya.a)(e),r=Object(pu.a)(n);return Object(gu.a)(r)},n.onRender=function(){var t=this;this.toggleSpinner(),this.ui.img.load(function(){t.onImageLoad()}),this.ui.img.error(function(){t.onImageError()})},n.onImageLoad=function(){this.toggleSpinner()},n.onImageError=function(){var t=this;this.retry++,setTimeout(function(){if(t.isIntact()){var e=t.ui.img[0];if(e&&e.src){var n=e.src;e.src=null,n.indexOf("?retry=")>-1&&(n=n.replace(/\?retry=.+$/,"")),n+="?retry="+t.retry,e.src=n}}},1e3*this.retry)},n.toggleSpinner=function(){var t=this.model.getCard();this.isIntact()&&t&&(this.$el.toggleClass("image_load",!this.isImageLoaded()),this.ui.wrapOuter.toggleClass("image__wrap_hidden",!this.isImageLoaded()))},n.isImageLoaded=function(){var t=this.model.getCard(),e=t&&t.getFirstContent(),n=this.imageEl;return!e||Boolean(n.complete&&n.naturalWidth)||e.isAnimated()&&Boolean(n.src)},n.isCardFromImageIndex=function(){var t=this.model.getCard(),e=t&&t.getFirstContent();return!(e&&e.getContent())},n.getImageSourceUrlThumb=function(){if(this.isCardFromImageIndex()){var t=this.model.getCard(),e=t&&t.getFirstContent();return e?Object(ki.a)(e.toJSON(),{size:"s375"}):""}},n.serializeData=function(){var t=this.getEnv(),e=this.allowOrig,n=this.model.getCard(),r=n&&n.getFirstContent(),i=r&&r.getContent();if(r){var o=r.getBestSize({env:t,allowOrig:e});return{isVideo:r.isVideo(),thumbUrl:this.getImageSourceUrlThumb(),url:Object(mu.a)(r,{hash:{size:o}}),color:i&&i.avatars_meta,content:r,contentSize:o,description:n.getDescription().trim(),isCardFromImageIndex:this.isCardFromImageIndex()}}},Jt()(e,[{key:"imageEl",get:function(){return this.ui.img.get(0)}}]),e}(D.c);Object(w.a)({ui:{wrap:".image__wrap__i",wrapOuter:".image__wrap",img:".image__image",thumbImg:".image__thumb"},allowOrig:!0})(vu);var bu=n("Ryll"),_u=n("oWpj"),yu=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).rum=Object(_u.a)(bu.a.IMAGE,[bu.a.REQUEST_START,bu.a.REQUEST_END]),e}O()(e,t);var n=e.prototype;return n.onRender=function(){var t=this;setTimeout(function(){t.measureContentForZoom(),t.toggleSpinner()}),this.onSelectedContentChange();var e=this.isRestored,n=this.ui.img;n.load(function(){t.onImageLoad(),e||t.rum(n.prop("src"),bu.a.REQUEST_END)})},n.onSelectedContentChange=function(){var t=this.model.getSelectedSeriesContent();if(t&&!this.isDestroyed){this.model.setCardZoomed(!1);var e=this.getEnv(),n=this.allowOrig,r=t.getImageURL({size:t.getBestSize({env:e,allowOrig:n})});this.updateImage(r,t)}this.cleanOrigImage()},n.setupOrigImage=function(t,e){var n=t.getImageURL({size:e}),r=new Image,i=new Promise(function(t,e){r.onload=function(){return t(n)},r.onerror=function(){return e(n)}});return r.src=n,this._origImage=r,i},n.cleanOrigImage=function(){this._origImage=null},n.updateImage=function(t,e){var n=this,r=this.ui.img;this.toggleService&&(this.toggleService(),this.$el.removeClass("image_layout_screen"),this.measureContentForZoom(e)),clearTimeout(this.spinnerTimeout),this.isRestored||(this.rum(t,bu.a.REQUEST_START),this.isRestored||(r.removeAttr("src"),e&&e.isAnimated()?(this.toggleSpinner(),this.spinnerTimeout=setTimeout(function(){n.updateSrc(r,t),n.spinnerTimeoutEnd(e)},100)):(this.updateSrc(r,t),this.spinnerTimeout=setTimeout(function(){n.spinnerTimeoutEnd(e)},500))))},n.updateSrc=function(t,e){var n=this.model.getCard();t.attr("src",e),n&&t.attr("alt",n.getDescription().trim())},n.spinnerTimeoutEnd=function(){this.toggleSpinner()},e}(vu);Object(w.a)({modelEvents:{"change:cardZoomed":"onCardZoomChange","change:selectedSeriesContent":"onSelectedContentChange"}})(yu);var Cu,Ou,Su,wu,Eu=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.onRemove=function(){is.a.showImmediateRemoveCard({model:this.model})},n.serializeData=function(){return{ownerLogin:this.model.getOwnerLogin()}},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,r=e?yn.er:yn.e,i=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([r.d("layout__service__wrap",{},[r.d("layout__service__content",{},[r.d("layout__service__text",{},[r("p","",{},["На цю картку надійшла скарга,",r("br","",{},[]),"тому подивитися її не можна"])," ",r("p","",{},[r("a","link link_type_invert",{href:"https://yandex.ru/legal/collections_termsofuse/",target:"_blank"},["Детальна інформація"])])])," ",this.model&&ks(t.ownerLogin,{hash:{},data:{view:this}})?[r.d("layout__service__ctrl",{},[i(Cn.a,{label:"Видалити",class:"button_layout-service",size:"XL",type:"invert",icon:n("Qf0G"),model:this,method:"onRemove"},this)])]:[]])])])},className:"layout__service"})(Eu);var ku=(Cu=Object(P.a)(100),Ou=Object(P.a)(),Su=Object(P.a)(),wu=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){this.listenTo(this.env.pageState,"resize",this.onResize)},n.onRender=function(){var e=this;t.prototype.onRender.call(this),this.model.isCurrentCardComplained()&&this.onComplainSuccess(),this.ui.thumbImg.on("load",function(){e.ui.thumbImg.removeClass("image__thumb_hidden"),e.setImageSize()}),this.toggleService()},n.toggleSpinner=function(){t.prototype.toggleSpinner.call(this),this.isIntact()&&this.model.hasCard()&&this.zoomPosition()},n.onNext=function(){this.model.isCardEdited()||this.model.isVoting()||this.model.nextCard()},n.onResize=function(){this.measureContentForZoom(),this.zoomPosition(),this.setImageSize()},n.onSelectedContentChange=function(){t.prototype.onSelectedContentChange.call(this);var e=this.getImageSourceUrlThumb();e?(this.ui.thumbImg.attr("src",e),this.ui.thumbImg.css({width:"",height:""}),this.setImageSize()):this.ui.thumbImg&&(this.ui.thumbImg.removeAttr("src"),this.ui.thumbImg.addClass("image__thumb_hidden")),this.setImageSize()},n.zoomPosition=function(){var t=this.ui.img,e=t&&t.position();if(this.isIntact()&&e){var n=Math.round(e.top),r=Math.round(this.ui.wrapOuter.width());this.ui.zoom.css({top:n,left:r/2}),this.imageTop=e.top,this.hoverAreaHeight=t.height()/2}},n.measureContentForZoom=function(t){var e=this.model.getCard();if(!this.isDestroyed&&e){var n=this.ui.wrap,r=n.width(),i=n.height(),o=t||e.getFirstContent(),a=!1;if(o){var s=o.getFitImageInfo(r,i),c=o.getOrigSize();s&&c&&c.width>s.width&&s.width<r&&(a=!0)}this.$el.toggleClass("image_layout_zoom",a),a||this.model.setCardZoomed(!1)}},n.onComplainSuccess=function(){this.toggleService({complained:!0})},n.toggleService=function(t){var e=void 0===t?{}:t,n=e.complained,r=e.banned,i=this.model.getCard(),o=n||this.model.isCurrentCardComplained(),a=r||this.model.isCurrentCardBanned();this.ui.wrapOuter.toggleClass("image__wrap_complain",o).toggleClass("image__wrap_banned",a).toggleClass("image__wrap_sq",a&&i&&!i.getContent().length),a?this.showInRegion(this.service,Eu,{model:this.model.getCard(),env:this.env}):this.service.empty()},n.onZoomToggle=function(){var t=this,e=this.model,n=!e.isCardZoomed();if(e.setCardZoomed(n),n&&!this._origImage){var r=this.model.getSelectedSeriesContent();this.setupOrigImage(r,U.d.OPTIMIZE).then(function(e){t.isIntact()&&r===t.model.getSelectedSeriesContent()&&t.updateSrc(t.ui.img,e)})}},n.onOverImage=function(t){if(this.isIntact()){var e=.5*(1-(t.clientY-this.imageTop)/this.hoverAreaHeight);this.ui.zoom.css("opacity",e>=0?e:0)}},n.onOutImage=function(){this.isIntact()&&this.ui.zoom.css("opacity",0)},n.onCardZoomChange=function(){var t=this.model;this.$el.toggleClass("image_layout_screen",t.isCardZoomed()),this.zoomPosition()},n.setImageSize=function(){var t,e,n=this.model.getCard().getFirstContent();if(n&&this.isCardFromImageIndex()){var r=n.getSource().toJSON(),i=r.big_thumb_width,o=r.big_thumb_height,a=[this.ui.wrap.get(0).clientWidth],s=[this.ui.wrap.get(0).clientHeight];i&&o&&(a.push(Number(i)),s.push(Number(o)));var c=(t={width:+i,height:+o},e={width:Math.min.apply(null,a),height:Math.min.apply(null,s)},t.height&&e.height?t.width/t.height<e.width/e.height?{width:"auto",height:e.height}:{width:e.width,height:"auto"}:{width:"auto",height:"auto"}),u=c.width,l=c.height;this.ui.thumbImg.css({width:u,height:l})}},e}(yu),I()(wu.prototype,"onResize",[Cu],Object.getOwnPropertyDescriptor(wu.prototype,"onResize"),wu.prototype),I()(wu.prototype,"onOverImage",[Ou],Object.getOwnPropertyDescriptor(wu.prototype,"onOverImage"),wu.prototype),I()(wu.prototype,"onOutImage",[Su],Object.getOwnPropertyDescriptor(wu.prototype,"onOutImage"),wu.prototype),wu);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([n.d("image__load",{},[n.d("image__load__wrap",{},[r(Na.a,{size:"L",gif:!1},this)])])," ",n.d("image__wrap image__wrap_hidden",{},[n.d("image__wrap__i",{},[n("span","image__zoom",{},[]),n("img","image__thumb image__thumb_hidden",{src:t.thumbUrl,alt:t.description},[]),n("img","image__image",{src:t.url,alt:t.description,"data-il":"image__wrap"},[])])])," ",Dn.a.call(t,"service",{hash:{},data:{view:this}})," ",Dn.a.call(t,"cardPopupNav",{hash:{async:!0},data:{view:this}})])},ui:G()({},yu.prototype.ui,{zoom:".image__zoom"}),events:{"mousemove @ui.img":"onOverImage","mouseout @ui.img":"onOutImage","click @ui.wrap":"onNext"},triggers:{"click @ui.zoom":"zoom:toggle"},modelEvents:G()({},yu.prototype.modelEvents,{"card:change:complaint":"onComplainSuccess"})})(ku);var ju,Tu,xu,Ru=n("/+oc"),Iu=function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e;return(e?yn.fr:yn.f)(t.format.type?[n.d("image__type",{},[n("span",Object(yn.j)(["image__type__format image__type__format_",t.format.type," "+(t.size?Object(yn.j)([" image__type__format_size_",t.size]):"")]),{},[])," ",t.format.payload?[n("span",Object(yn.j)(["image__type__info image__type__info_",t.format.type," "+(t.size?Object(yn.j)([" image__type__info_size_",t.size]):"")]),{},[Object(Ru.a)(t.format.payload.duration,{hash:{},data:{view:this}}),t.format.payload.isHD?[n("b","",{},["hd"])]:[]])]:[]])]:[])},Du="gif",Pu="video";function Lu(t,e){var n=e.hash,r=n.info,i=void 0!==r&&r,o=n.size,a=e.data,s={};if(t&&(t.isAnimated()&&(s.type=Du),t.isVideo()&&(s.type=Pu,i))){var c=t.getSource();s.payload={duration:c.getDuration(),isHD:c.isHD()}}return Iu.call(a.view,{format:s,info:i,size:o})}var Nu,Au,Bu=["inited","started","ended","paused","error","resumed","rewound","adShown"],Mu=new(ju=Object(qt.a)(),Tu=Object(qt.a)(),xu=function(){function t(){this.interval=0,this.ticks=0,this.laps=0}var e=t.prototype;return e.bindPlayerEvents=function(t){this.eventListenerAdded||(window.addEventListener("message",this.onSandboxMessage),window.addEventListener("unload",this.onWindowClose),this.eventListenerAdded=!0),this.params=t},e.unbindPlayerEvents=function(){this.eventListenerAdded&&(window.removeEventListener("message",this.onSandboxMessage),window.removeEventListener("unload",this.onWindowClose),this.eventListenerAdded=!1),this.params={}},e.onWindowClose=function(){this.sendCounter("card.window-close")},e.onSandboxMessage=function(t){var e,n=t.data||{};"string"==typeof n&&-1!==n.indexOf("sandbox:")&&(n=this.parseData(n)),n.event&&(e=n.event.split(":")[1],this.onPlayerEvent(e,n))},e.parseData=function(t){try{return JSON.parse(t)}catch(t){return{}}},e.getPlayerEventsParams=function(t,e){var n=e||{},r=n.time,i=n.code;return G()({},this.params,{event_name:t,client_timestamp:Date.now(),playing_duration:this.ticks||0},i?{code:i}:{},r?{time:r}:{})},e.onPlayerEvent=function(t,e){if(-1!==Bu.indexOf(t))switch(this.sendCounter("player-events."+t,e),t){case"started":case"resumed":return this.start();case"paused":case"ended":return this.stopTimer()}},e.sendCounter=function(t,e){it.d.playingCardHeartbeat(this.getPlayerEventsParams(t,e))},e.start=function(){var t=this.getRepeatParam();if(t){var e=t.interval,n=t.stop;e&&"number"==typeof e&&(this.interval=e,"number"==typeof n&&n>e&&(this.stopAfter=n)),this.interval&&this.stopAfter&&this.startTimer()}},e.startTimer=function(){var t=this;this.stopTimer();var e,n=Date.now(),r=0;this.intervalId=window.setTimeout(function i(){r++,e=Date.now()-n-1e3*r,t.intervalId=window.setTimeout(i,1e3-e),t.tick()},1e3)},e.getRepeatParam=function(){var t=this.params.duration;if(t){var e=Math.floor(Math.max(.1*t,30)),n=Math.floor(1*t);return n>=e?{interval:e,stop:n}:void 0}},e.tick=function(){if(this.ticks++,this.isExceededDuration(this.ticks))return this.sendCounter("heartbeat.end"),void this.clear();this.stopAfter&&this.stopAfter<=this.ticks||(this.laps=this.laps||0,this.laps++,this.laps===this.interval&&(this.laps=0,this.sendCounter("heartbeat.tick")))},e.stopTimer=function(){this.intervalId&&window.clearTimeout(this.intervalId),this.intervalId=null},e.clear=function(){this.stopTimer(),this.ticks=0,this.interval=null,this.laps=0},e.reset=function(){this.unbindPlayerEvents(),this.clear()},e.isExceededDuration=function(t){var e=this.params.duration;return!!e&&t>e},t}(),I()(xu.prototype,"onWindowClose",[ju],Object.getOwnPropertyDescriptor(xu.prototype,"onWindowClose"),xu.prototype),I()(xu.prototype,"onSandboxMessage",[Tu],Object.getOwnPropertyDescriptor(xu.prototype,"onSandboxMessage"),xu.prototype),xu),Fu=n("iABh"),Uu=(Nu=Object(qt.a)(),Au=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={iframeError:!1},e}O()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.setCounters(this.props.player)},n.componentWillReceiveProps=function(t){this.setCounters(t.player)},n.componentWillUnmount=function(){Mu.sendCounter("card.unmount"),Mu.reset()},n.onIframeError=function(){this.setState({iframeError:!0})},n.render=function(){var t=this.props.player,e=t.name,n=t.html;return this.state.iframeError||!n?Ln.createElement("div",{className:"layout__service"},Ln.createElement("div",{className:"layout__service__wrap"},Ln.createElement("div",{className:"layout__service__content"},Ln.createElement("div",{className:"layout__service__text"},Fu.videoError())))):Ln.createElement("iframe",G()({className:"sandbox sandbox_player-id",src:n,name:e,scrolling:"no",frameBorder:"0",width:"100%",height:"100%",onError:this.onIframeError},{allow:"autoplay; fullscreen"}))},n.setCounters=function(t){var e=t.cardId,n=t.name,r={cardId:e,url:t.url,name:n,duration:t.duration};it.d.showCardVideoPlayer(r),Mu.bindPlayerEvents(r)},e}(Ln.PureComponent),I()(Au.prototype,"onIframeError",[Nu],Object.getOwnPropertyDescriptor(Au.prototype,"onIframeError"),Au.prototype),Au);function zu(t){return Boolean(t&&t.indexOf("<iframe")>=0&&-1===t.indexOf("<script"))}var Vu={youtube:"youtube",dailymotion:"dailymotion",izlesene:"izlesene",mailru:"mailru",rutube:"rutube",vimeo:"vimeo",vh:"yandex",vk:"vk",ok:"ok",uakino:"yadoma",moonwalk:"moonwalk",mirsexy:"mirsexy",clipiki:"uppod",bazr:"uppod",stormo:"uppod",kinoluvr:"uppod"},Hu="//yastatic.net/video-player/0xa6b21fbc9d/pages-common/";function Wu(t,e,n){var r,i=function(t,e){return t&&Vu[t]?Vu[t]:zu(e)?"iframe-default":"default"}(t,e);return n&&e&&zu(e)&&(e=e.replace(/<iframe(?:\s+|\s+[^>]+\s+)src="(?:[^"]+)/,function(t){return t?t+(-1!==t.indexOf("?")?"&amp;":"?")+"autoplay=1":t})),Hu+(i+"/")+i+".html"+((r={html:e,autoplay:n?"yes":void 0})?"#"+Object(Re.a)(G()({},r)):"")}var qu=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.className=function(){return this.options.type===U.gb?"card__video":"layout__video"},n.initialize=function(){this.listenTo(this.options.cardState,"card:change:complaint card:change:is_banned",this.safeRender)},n.getViewOptions=function(){return this.options.cardState.getCard(),{events:{click:"onSingleTap"}}},n.events=function(){return this.getViewOptions().events},n.behaviors=function(){return this.getViewOptions().behaviors},n.onSingleTap=function(){this.options.showPreview&&(this.options.showPreview=!1,this.safeRender())},n.serializeData=function(){var t,e=this.getEnv(),n=this.model,r=n.getBestSize({env:e}),i=this.model.getSource(),o=i.getEmbedURL(),a=this.options.type===U.gb?U.gb:U.hb,s=this.cardPopupState,c=s.isAutoplay(),u=!s.isCardVisible();if(o&&s&&!s.isCardEdited()&&c&&(o+="?autoplay=1"),!o){var l=i.getPlayerId(),d=i.getPlayerHTML(),h=i.getId(),f=i.getUrl(),p=i.getDuration();t=function(t){var e=t.playerId,n=t.playerHTML;if(n)return{name:e?"sandbox-"+e:"sandbox",html:Wu(e,n,t.isAutoPlay)}}({playerId:l,playerHTML:d,isAutoPlay:c}),t=G()({},t,{url:f,cardId:h,duration:p})}return{card:s.getCard(),content:n,embed:o,layoutPrefix:a,contentSize:r,player:t,isBanned:u}},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.ar:yn.a;return(e?yn.fr:yn.f)(this.options.showPreview?[n.d("image image_card",{},[this.env.isLegacy?[]:[n.d("image__like",{},[])]," ",n.d("image__wrap image__wrap_hidden",{},[n.d("image__wrap__i",{},[Lu.call(t,t.content,{hash:{info:!0,size:"L"},data:{view:this}}),n("img","image__image",{src:Object(mu.a)(t.content,{hash:{size:t.contentSize}}),alt:t.description,"data-il":"image__wrap"},[])])])])]:[n.d(Object(yn.j)([t.layoutPrefix,"__video__wrap"]),{},t.isBanned?[r(Eu,{model:t.card},this)]:t.player?[Object(Zn.react)(Object(Zn.renderView)(Uu,{player:t.player},this),this)]:t.embed?[n("iframe","",{src:t.embed,frameborder:"0",allowfullscreen:"",allow:"autoplay"},[])]:[])])}})(qu);var Ku=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.onRender=function(){this.onSelectedContentChange()},n.onSelectedContentChange=function(){var e=this.model.getSelectedSeriesContent();return e&&e.isVideo()&&this.showInRegion(this.video,qu,{model:e,cardState:this.model,className:"layout__video layout__video_edit"}),t.prototype.onSelectedContentChange.call(this)},e}(ku);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.ar:yn.a,r=e?yn.er:yn.e;return(e?yn.fr:yn.f)(t.isVideo?[n(qu,{regionName:"video",model:t.content,cardState:this.model,className:"layout__video layout__video_edit"},this)]:[r("img","dash__layout__i",{src:Object(mu.a)(t.content,{hash:{size:"preview"}}),alt:t.description},[])])},className:"dash__layout__wrap",ui:{link:".image__image",img:"img"},events:{},triggers:{},modelEvents:{"change:selectedSeriesContent":"onSelectedContentChange"},initialize:f.noop,onNext:f.noop,onCardsUpdate:f.noop,toggleSpinner:f.noop,measureContentForZoom:f.noop,zoomPosition:f.noop,onComplainSuccess:f.noop,onResize:f.noop,isImageLoaded:f.noop,toggleService:f.noop,onZoomToggle:f.noop,onOverImage:f.noop,onOutImage:f.noop})(Ku);var Gu=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.removeFromSeries=function(){var t=this;is.a.showRemoveFromSeries({model:this.model,customPromise:function(){return t.model.editSeriesRemove()},complete:function(){return t.model.selectFirstContentInSeries()}})},n.serializeData=function(){var t=this.model.getCard(),e=t&&t.getContent(),n=this.model.getSelectedSeriesContent();if(n)return{isMain:e&&e.first().id===n.id}},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.ar:yn.a;return(e?yn.fr:yn.f)(t.isMain?[]:[n(Cn.a,{model:this,method:"removeFromSeries",label:"Видалити з серії",size:"S",type:"invert",class:"button_lyaout-dash-delete"},this)])},className:"dash__layout__ctrl",modelEvents:{"change:selectedSeriesContent":"safeRender"}})(Gu);var Yu=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.onClick=function(){var t=this,e=this.options.cardState.toggleCardContentToSeries(this.model);this.$el.toggleClass("dash__view_pinned",e),e.promise.then(function(e){t.$el.toggleClass("dash__view_pinned",e)})},n.onRender=function(){var t=this;setTimeout(function(){return t.showElement()})},n.showElement=function(){this.$el.removeClass("dash__view_hide").addClass("dash__view_show")},n.serializeData=function(){var t=this.model.getFirstContent(),e=t&&t.getSource(),n="";return t&&t.isVideo()?n=this.model.getThumbUrl():e&&(n=e.getUrl()),{description:this.model.getDescription(),image_meta:this.model.getImageMeta(),image:n}},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e;return(e?yn.fr:yn.f)([n.d("dash__view__i",{},[n.d("dash__view__wrap",{},[n.d("dash__view__img",{},[n.d("dash__view__pin",{},[])," ",Object(tc.a)({hash:{url:t.image,alt:t.description,className:"dash__view__img__wrap",imageClass:"dash__view__img__i"},data:{view:this}})])," ",n.d("dash__view__footer",{},[n("p","dash__view__title",{},[t.description])," ",t.image_meta&&t.image_meta.naturalWidth?[n("p","dash__view__size",{},[t.image_meta.naturalWidth," × ",t.image_meta.naturalHeight])]:[]])])])])},className:"dash__view dash__view_hide",triggers:{click:"click"}})(Yu);var Xu=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.childViewOptions=function(){return{cardState:this.options.cardState}},n.promise=function(){var t=this,e=this.options.cardState;if(e.hasCard()){var n=e.getCard().getSourceMetaPageUrl();return e.fetchCardsFromQuery(n).then(function(){t.collection=e.getInternetCards()})}},e}(D.b);Object(w.a)({className:"dash__views__list",childView:Yu})(Xu);var Ju=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){var t=this.options.cardState;this._selectionPresent=t.isSelectedContentPresent(),this.listenTo(t,"change:selectedSeriesContent",this.onSelectedContentChange)},n.onSelectedContentChange=function(){var t=this.options.cardState,e=t.isSelectedContentPresent();this._selectionPresent!==e&&(this._selectionPresent=e,t.isCardEdited()&&this.render())},n.onFileChange=function(t){var e=this.options.cardState,n=Object(fu.a)(t.target.files);e.fetchContentsFromFiles(n)},n.serializeData=function(){var t=this.options.cardState,e=t.isSelectedContentPresent(),n=t.getCard();return{cardState:t,selectionPresent:e,isSeries:n&&n.isSeries()}},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([n.d("dash__wrap",{},t.selectionPresent?[n.d("dash__layout",{},[r(Ku,{model:this.options.cardState},this)," ",r(Gu,{model:this.options.cardState},this)])]:[n.d("dash__views",{},[n.d("dash__views__wrap",{},[n.d("dash__views__title",{},["Додайте зображення до серії"])," ",n.d("dash__view dash__view_add dash__view_show",{},[n.d("dash__view__i",{},[n.d("dash__view__wrap",{},[n.d("dash__view__add",{},[n("input","",{type:"file",accept:"image/*"},[])," ",n.d("dash__view__add__label",{},[n("em","",{},["Виберіть файл"])," або перетягніть його сюди"])])])])])," ",r(Xu,{cardState:this.options.cardState,async:!0,regionType:"spinner",type:"transparent"},this)])])])])},className:"dash dash_layout",ui:{input:"input"},events:{"change @ui.input":"onFileChange"}})(Ju);var Qu=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.onInjectValue=function(t){var e=this.stopLoading.bind(this);this.handleResult(t,e,e)},n.stopLoading=function(){this.isDestroyed||(this.$el.removeClass(this.options.loadingClass),this.ui.label.text(this.options.label))},n.onClick=function(){this.triggerMethod("toggle")},n.onCheckRefresh=function(t){this.$el.toggleClass("button_state_check",t.isChecked())},e}(Cn.a);Object(w.a)({ui:{input:"> input",label:"> .button__label"},behaviors:{Check:{behaviorClass:ms.a}},triggers:{click:"click"},options:G()({},Cn.a.prototype.options,{mode:"check",value:!0,inverse:!1,loadOnPromise:!0})})(Qu);var Zu,$u,tl,el,nl,rl,il=n("irYq"),ol=n("qhbX"),al=Object(w.a)({name:"is_liked",options:G()({},Qu.prototype.options,{size:"L"}),triggers:G()({},Qu.prototype.triggers,{click:{event:"click",stopPropagation:!1}})})(Zu=Object(Hr.a)({methodName:"onClick",methodOptions:function(t){var e=t.model;return{retpath:{route:"card",params:{id:e.getId(),hintAction:U.F.cardLike,hintTarget:e.getHintTarget()}}}},permission:"cardLike"})(Zu=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.attributes=function(){return{title:il.like()}},n.onClick=function(){var t=this.card;if(t)return t.hasRestrictedOwner()?Object(Hr.b)(this,{}):this.env.dispatch(Object(ol.a)({id:t.id,isLiked:!t.isLiked(),counter:this.options.counterParams}))},n.serializeData=function(){return Object(f.omit)(t.prototype.serializeData.call(this),"content")},Jt()(e,[{key:"card",get:function(){return this.model instanceof B.a?this.model:this.model&&this.model.getCard&&this.model.getCard()}}]),e}(Qu))||Zu)||Zu,sl=n("r1Wy"),cl=n("hMiQ"),ul=Object(w.a)({template:function(t){return(this&&this.isRestored?yn.fr:yn.f)([sl.a.call(this,Object(yn.assign)(t,{label:t.label,content:function(t){var e=this&&this.isRestored?yn.er:yn.e;return t["icon-only"]?[]:[e("span","button__check-label",{},["Видалити"])]}}))])},options:G()({},Qu.prototype.options,{size:"L"})})($u=Object(Hr.a)({methodName:"onClick",methodOptions:function(t){var e=t.getCard();return{retpath:{route:"card",params:{id:e.getId(),hintAction:U.F.cardShare,hintTarget:e.getHintTarget()}}}}})($u=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.getCard=function(){return this.model},n.onClick=function(){this.options.isMyCard?this.onMyCardClick():this.onCardClick()},n.onMyCardClick=function(){},n.onCardClick=function(){},n.serializeData=function(){var e=t.prototype.serializeData.call(this),n=this.options.isMyCard;return e.label=n?cl.done:cl.share,e},e}(Qu))||$u)||$u,ll=n("TBxt"),dl=(tl=Object(P.a)(),el=Object(P.a)(),nl=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.getCard=function(){return this.options.card},n.getSidebarState=function(){return this.dep("SidebarState")},n.onMyCardClick=function(){var t=this.getSidebarState();t.isClosed()||t.closePanel();var e=this.getCard();e.isReadonly()?z.a.showRemoveCardReadonlyMessage():is.a.showImmediateRemoveCard({model:e})},n.onCardClick=function(){var t=this.options.loc;this.env.dispatch(Object(ll.a)({id:this.getCard().id,counter:{loc:t}}))},e}(ul),I()(nl.prototype,"onMyCardClick",[tl],Object.getOwnPropertyDescriptor(nl.prototype,"onMyCardClick"),nl.prototype),I()(nl.prototype,"onCardClick",[el],Object.getOwnPropertyDescriptor(nl.prototype,"onCardClick"),nl.prototype),nl);Object(w.a)({attributes:{"data-c":""},triggers:{}})(dl);var hl=Object(w.a)({options:G()({},Cn.a.prototype.options,{size:"L",type:"normal",class:"button_card-action button_card-action_move"})})(rl=Object(Hr.a)("onClick")(rl=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.attributes=function(){return{title:il.move()}},n.onClick=function(t){t.stopPropagation();var e=this.model;if(!e||!e.isReadonly())return this.env.hasFeature(dt.d.COLLECTIONS_DESKTOP_ADD_INTERNAL)?this.env.dispatch(Object(Ic.a)({cardId:e.id})):this.dep("SidebarState").moveCard(this.model);z.a.showMoveCardReadonlyMessage()},e}(Cn.a))||rl)||rl,fl=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.stopLoading=function(){this.isDestroyed||(this.$el.removeClass(this.options.loadingClass),this.triggerMethod("refresh"))},n.onCheckRefresh=function(t){this.$el.toggleClass("button_state_check",t.isChecked());var e=this.options.label;t.isChecked()||Object(at.isUndefined)(this.options.inverseLabel)||(e=this.options.inverseLabel),this.ui.label.text(e)},e}(Qu);Object(w.a)({options:G()({},Qu.prototype.options,{mode:"toggle",value:!0,inverse:!1})})(fl);var pl,gl=n("QCEX"),ml=n("dDwQ"),vl=n("14Y5"),bl=Object(w.a)({template:function(t){return(this&&this.isRestored?yn.fr:yn.f)([sl.a.call(this,Object(yn.assign)(t,{label:Object(gl.a)(t.label,{hash:{},data:{view:this}}),content:function(t){var e=this&&this.isRestored?yn.er:yn.e;return t["icon-only"]?[]:[e("span","button__check-label",{},["До актуальних"])]}}))])},name:"isWishFulfilled",options:G()({},fl.prototype.options,{size:"L"})})(pl=Object(it.b)("clickCardWish",function(){return{cardId:(this.options.cardWrapper?this.model.getCard():this.model).id}})(pl=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){this.options.cardWrapper&&this.listenTo(this.model,"change:card card:change:labels",this.onCardChanges)},n.onClick=function(){var t=$()(Q.a.mark(function t(){var e;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.card,t.prev=1,!e){t.next=5;break}return t.next=5,this.env.dispatch(Object(vl.a)({cardId:e.id,isFulfilled:!e.isWishFulfilled(),counter:{}}));case 5:this.triggerMethod("refresh"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])}));return function(){return t.apply(this,arguments)}}(),n.serializeData=function(){return G()({},Object(f.omit)(t.prototype.serializeData.call(this),"content"),{label:this.getLabel()})},n.getLabel=function(){var t=ml.wishDone,e=ml.wishMove;return this.options.longLabel&&(t=ml.wishDoneLong,e=ml.wishMoveLong),this.model.isWishFulfilled()?t:e},n.onCheckRefresh=function(e){this.card&&(t.prototype.onCheckRefresh.call(this,e),this.ui.label.text(this.getEnv().translate(this.getLabel())))},n.onCardChanges=function(){this.triggerMethod("refresh")},Jt()(e,[{key:"card",get:function(){return this.model instanceof B.a?this.model:this.model.getCard&&this.model.getCard()}}]),e}(fl))||pl)||pl,_l=n("lUvp"),yl=function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.sr:yn.s,i=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([n.d("hint__pop__b",{},[n("p","hint__pop__text",{},[r(Object(_l.a)(t.text,{hash:{},data:{view:this}}))])])," ",n.d("hint__pop__f",{},[i(Cn.a,{model:this,method:"onClick",type:"clear",label:"Зрозуміло",size:"XL",class:"button_hint-close"},this)])])},Cl=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.attributes=function(){return this.options.width?{style:"width: "+this.options.width+"px; margin-left: -"+this.options.width/2+"px"}:{}},n.onClick=function(){this.options.hintState&&this.options.hintState.clean(),this.destroy()},n.serializeData=function(){return{text:this.options.text}},e}(D.c);Object(w.a)({template:a,className:"hint__pop"})(Cl);var Ol,Sl=n("8Yia"),wl=(n("nT9c"),n("V8c5")),El=Object(w.a)({options:G()({},Cn.a.prototype.options,{size:"M",type:"pseudo",icon:!0,"icon-only":!0,shape:"circle",class:"button_profile button_profile_share"})})(Ol=Object(it.b)("clickYaShare")(Ol=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n._ensureElement=function(){var e=this.options;if(this.nativeShare=!1,this.nativeShare){var n=e.share||this.metaState.getCardOG(this.card),r=Object(Sl.a)(n);this.options=G()({},e,{href:r,target:"_blank"})}return t.prototype._ensureElement.call(this)},n.initialize=function(e){var n=this;t.prototype.initialize.call(this,e);var r=e.swapModel;r&&this.listenTo(r,"change:card",function(){n.model=r.getCard()})},n.onClick=function(){this.nativeShare||(this.options.requestAuth?Object(Hr.b)(this,{}):this.env.dispatch(Object(wl.a)({id:this.card.id,storeKey:"cards",counter:{loc:this.options.loc}})))},Jt()(e,[{key:"card",get:function(){return this.model instanceof B.a?this.model:this.model.getCard()}}]),e}(Cn.a))||Ol)||Ol,kl="button-card-action",jl=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.className=function(){return this.options.invert?kl+" button-card-action_invert":kl+" button-card-action_shadow"},n.initialize=function(){this.options.fadein&&this.$el.addClass("button-card-action_hide")},n.onRender=function(){var t=this,e=this.model.getOwnerLogin()===this.env.currentUser.getLogin(),n=this.model.getBoard();if(e&&n&&n.isWishlist())this.showInRegion(this.primary,bl,{model:this.model,type:"action",mode:"toggle",class:"button_card-action button_card-action_wish"});else{var r={card:this.model,checked:e,isMyCard:e,type:"action",mode:"toggle",class:"button_card-action button_card-action_check",loc:this.options.loc,stopPropagation:!1},i={model:this.model,class:"button_card-action button_card-action_like"};this.showInRegion(this.primary,dl,r),this.showInRegion(this.additional,al,i)}this.options.move&&this.showInRegion(this.secondary,hl,{model:this.model}),this.options.fadein&&this.deferToAttach(function(){t.$el.removeClass("button-card-action_hide")}),this.renderHints()},n.renderHints=function(){var t=this;if(this.options.hint){var e=this.options.hintState,n=this.model;e.showHintCardShare(n)?(this.showInRegion(this.cardShare,Cl,{text:n.getShareHintText(),hintState:e}),setTimeout(function(){t.ui.hintCardShare.addClass("hint_state_visible")})):e.showHintCardLike(n)&&(this.showInRegion(this.cardLike,Cl,{text:n.getLikeHintText(),hintState:e}),setTimeout(function(){t.ui.hintCardLike.addClass("hint_state_visible")}))}},n.serializeData=function(){return this.options.share?{share:this.metaState.getCardOG(this.model)}:{}},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([n.d("hint hint_card-share hint_card-action hint_state_hidden",{},[n.d("buttongroup buttongroup_card-action",{},[Dn.a.call(t,"primary",{hash:{},data:{view:this}})," ",this.options.move?[Dn.a.call(t,"secondary",{hash:{},data:{view:this}})]:[]])," ",Dn.a.call(t,"cardShare",{hash:{},data:{view:this}})])," ",n.d("hint hint_card-like hint_card-action hint_state_hidden",{},[Dn.a.call(t,"additional",{hash:{},data:{view:this}})," ",Dn.a.call(t,"cardLike",{hash:{},data:{view:this}})])," ",this.options.share?[r(El,{model:this.model,share:t.share,type:"normal","icon-only":!1,icon:!1,shape:null,class:"button_card-action button_card-action_share",size:"L"},this)]:[]])},ui:{hintCardShare:".hint_card-share",hintCardLike:".hint_card-like"},modelEvents:{"change:board":"safeRender"}})(jl);var Tl=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.safeRender=function(){this.model.hasCard()&&t.prototype.safeRender.call(this)},n.serializeData=function(){if(this.model.hasCard()){var t=this.model.getCard(),e=t.getOwner(),n=t.getBoard(),r=this.getEnv().currentUser;return{card:t,owner:e&&e.toJSON(),isMyWishlist:r.getLogin()===t.getOwnerLogin()&&n.isWishlist()}}},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.ar:yn.a;return(e?yn.fr:yn.f)(t.card?[n(jl,{model:t.card,invert:!0,move:ks(t.owner,{hash:{},data:{view:this}}),hint:!0,hintState:this.options.hintState,loc:"popup"},this)]:[])},className:"layout__head__ctrl",modelEvents:{"change:card":"safeRender"}})(Tl);var xl=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.onRender=function(){var t=this.getEnv().getScrollWidth();this.$el.css({marginRight:t}),this.changeCard(),this.model.isCurrentCardComplained()&&this.onComplainSuccess(),this.$el.toggleClass("layout__head_banned",this.model.isCurrentCardBanned())},n.onCardChange=function(){this.isDestroyed||(this.$el.toggleClass("layout__head_complain",this.model.isCurrentCardComplained()).toggleClass("layout__head_banned",this.model.isCurrentCardBanned()),this.changeCard())},n.changeCard=function(){this._headCard&&this.stopListening(this._headCard),this._headCard=this.model.getCard(),this.listenTo(this._headCard,"change:board",this.onCardChange)},n.onComplainSuccess=function(){this.$el.addClass("layout__head_complain")},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([n(Tl,{model:this.model,hintState:this.options.hintState,env:this.env},this)])},className:"layout__head",modelEvents:{"change:card":"onCardChange","card:change:complaint":"onComplainSuccess"}})(xl);var Rl,Il=n("NpBQ"),Dl=n("/rhZ"),Pl=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.onClick=function(){var t=this,e=this.getOption("model"),n=this.getOption("method"),r=this.getOption("activeClass");if(e&&n&&e[n]){var i=Promise.resolve().then(function(){return e[n]()});this.$el.addClass(r);var o=function(){return t.$el.removeClass(r)};if(this.options.clickModel){var a=this.options.clickModel,s=this.options.clickMethod;a[s]&&a[s]()}return i.then(o,o)}},n.onCheckRefresh=function(e){if(t.prototype.onCheckRefresh.call(this,e),this.getOption("inverseTitle")){var n=e.isChecked()?this.getOption("title"):this.getOption("inverseTitle");this.$el.attr("title",n)}},e}(fl);Object(w.a)({options:G()({},fl.prototype.options,{activeClass:"button_load"}),triggers:G()({},fl.prototype.triggers,{click:{event:"click",stopPropagation:!1}})})(Pl);var Ll=Object(w.a)({options:G()({},Pl.prototype.options,{method:"toggleSubscription",icon:!0,name:"is_subscribed",type:"action"})})(Rl=Object(Hr.a)({methodName:"onClick",methodOptions:function(t){var e,n=t.model;if(n&&n.getReloadUrlParams)return{retpath:{route:(e=n.getReloadUrlParams()).name,params:e.params},loginType:t.options.loginType}},permission:function(t){return t.options.permission?t.options.permission:"resourceSubscribe"}})(Rl=function(t){function e(e){return e.label&&(e["icon-only"]=!1),t.call(this,e)||this}O()(e,t);var n=e.prototype;return n.className=function(){var e=this.options,n=t.prototype.className.call(this);return e.customClass||(n+=" "+Object(bs.a)("button_follow",["pseudo","invert","shadow"],e)),n},n.initialize=function(){this.options.sync&&this.options.name&&this.listenTo(this.model,"change:"+this.options.name,this.render)},n.onClick=function(){this._isLoading||(this.setLoading(),this.model.setSubscribeOptions({loc:this.options.loc,collapsed:this.baseState.isFloatingCollapsed()}),t.prototype.onClick.call(this).catch(function(t){return console.log(t)}).then(this.setLoaded.bind(this)))},n.setLoading=function(){this._isLoading=!0},n.setLoaded=function(){this._isLoading=!1},e}(Pl))||Rl)||Rl,Nl=n("vm6G"),Al=function(t){function e(e){return e.label=e.label||Nl.unsubscribe(),e.inverseLabel=e.inverseLabel||Nl.subscribe(),t.call(this,e)||this}O()(e,t);var n=e.prototype;return n.onClick=function(){var e=!this._isLoading;t.prototype.onClick.call(this),e&&this.onMouseEnter()},n.onMouseEnter=function(){this.model.isSubscribed()||this.$el.addClass("button_follow_hover")},n.onMouseLeave=function(){this.$el.removeClass("button_follow_hover")},e}(Ll);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e;return(e?yn.fr:yn.f)([sl.a.call(this,t)," ",n("span","button__check-label",{},["Відписатися"])])},triggers:G()({},Ll.prototype.triggers,{mouseenter:"mouseEnter",mouseleave:"mouseLeave"})})(Al);var Bl=function(t){function e(){return t.apply(this,arguments)||this}return O()(e,t),e.prototype.serializeData=function(){return{stats:this.model.getStats()}},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e;return(e?yn.fr:yn.f)([n("span","person__info__followers",{},[Object(ji.followers)({count:t.stats.subscribers})])])},className:"person__info",modelEvents:{"change:stats":"render"}})(Bl);var Ml=function(t){function e(){return t.apply(this,arguments)||this}return O()(e,t),e.prototype.serializeData=function(){return{login:this.model.getLogin()}},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([Object(Es.a)({data:{view:this}})?ks(this.model,{hash:{},data:{view:this}})?[]:[n.d("modal__list-right",{},[r(Al,{class:"button-follow button_follow_pseudo",model:this.model,loc:"stat","data-c":Object(hs.a)("clickUserSubscribe",{hash:{userLogin:t.login}})},this)])]:[]," ",n.d("modal__list-left",{},[n.d("person person_href person_list",{},[ls.call(this,{user:this.model,size:"islands-75",counter:Object(hs.a)("clickUser",{hash:{userLogin:t.login}})})," ",n.d("person__i",{},[gs(this.model,{hash:{type:"normal"},data:{view:this}})," ",r(Bl,{model:this.model},this)])])])])},className:"modal__list-item"})(Ml);var Fl=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.promise=function(){var t=this.options.promise;return t?t():null},n.initialize=function(){this.options.diffDesc&&this.listenTo(this.collection,"update reset",this.onChange)},n.onRender=function(){this.onChange()},n.onChange=function(){var t=this.options,e=t.diffDesc,n=t.emptyDiffDesc;if(e&&this.isIntact()&&this.collection.isFullyLoaded()){var r=this.getEnv(),i=this.collection.getCount(),o=this.options.count-i;if(o){var a=!i&&n?n:e,s=r.translate(a,{count:o});this.desc.html(s)}}},e}(nc.a);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([n.d("modal__list-wrap",{},[])," ",this.options.diffDesc?[n.d("modal__list-item modal__list-item_clear",{},[n("p","modal__list-text",{},[],{ui:"desc",view:this})])]:[]," ",n.d("modal__list-loading",{},[r(Na.a,{size:"L"},this)])])},className:"modal__list",childView:Ml,childViewContainer:".modal__list-wrap",behaviors:{InfiniteScroll:{behaviorClass:Dl.a,events:"update reset filter",wrapper:".modal__ii",container:".modal__list-wrap",spinner:".modal__list-loading",relative:!0}}})(Fl);var Ul=n("+LNT"),zl=function(t){function e(){return t.apply(this,arguments)||this}return O()(e,t),e.prototype.onRender=function(){var t=this.options,e=t.promise;this.showInRegion(this.list,Fl,{promise:e,collection:t.users,diffDesc:t.diffDesc,emptyDiffDesc:t.emptyDiffDesc,count:t.count})},e}(Il.a);Object(w.a)({template:function(t){return(this&&this.isRestored?yn.fr:yn.f)([Ul.a.call(this,{close:!0,scroll:!0,title:Object(gl.a)(this.options.title,{hash:{count:this.options.count},data:{view:this}}),content:function(t){return[Dn.a.call(t,"list",{hash:{async:!0,regionType:"spinner"},data:{view:this}})]}})])},attributes:{id:"modal_list"}})(zl);var Vl,Hl,Wl=(Vl=Object(P.a)(),Hl=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.events=function(){return{"click @ui.share":"onUsersSharedList","click @ui.fav":"onUsersLikedList"}},n.onRender=function(){this.comments&&this.stopListening(this.comments),this.comments=this.model.getComments(),this.listenTo(this.comments,"add remove reset",this.safeRender)},n.safeRender=function(){this.isIntact()&&this.model.getCard()&&this.render()},n.onUsersSharedList=function(){var t=this.model.getCard(),e=t.getSharesCount();if(e){var n=t.getUsersShared();zl.show({promise:function(){return n.fetchSharedUsersForCard(t)},users:n,title:ji.sharedTitle,diffDesc:ji.sharedDiffDesc,emptyDiffDesc:ji.emptySharedDiffDesc,count:e})}},n.onUsersLikedList=function(){var t=this.model.getCard(),e=t.getLikesCount();if(e){var n=t.getUsersLiked(this.env);zl.show({promise:function(){return n.fetchLikedUsersForCard(t)},users:n,title:ji.likedTitle,count:e})}},n.serializeData=function(){return{stat:this.model.getCard().getStat()}},e}(D.c),I()(Hl.prototype,"safeRender",[Vl],Object.getOwnPropertyDescriptor(Hl.prototype,"safeRender"),Hl.prototype),Hl);Object(w.a)({template:function(t){var e=this,n=e&&e.isRestored,r=n?yn.er:yn.e;return(n?yn.fr:yn.f)([r.d("stat stat_layout stat_invert",{},[[{mod:"check",count:t.stat.shares_count,title:Object(ji.sharedTitle)({count:t.stat.shares_count})},{mod:"fav",count:t.stat.likes_count,title:Object(ji.likedTitle)({count:t.stat.likes_count})},{mod:"msg",count:t.stat.comments_count,title:Object(ji.commentsTitle)({count:t.stat.comments_count})}].map(function(t){var n=e&&e.isRestored?yn.er:yn.e;return n.d(Object(yn.j)(["stat__item stat__item_",t.mod]),{title:t.title},[n("span","stat__val"+(t.count?" stat__val_link":""),{},[t.count])])})])])},className:"layout__info__stat",ui:{share:".stat__item_check",fav:".stat__item_fav"},modelEvents:{"card:change:stat":"safeRender","change:card":"safeRender"}})(Wl);var ql,Kl,Gl=function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([n.d("share__container",{},t.hideLoader?[]:[n.d("share__loading",{},[r(Na.a,{size:t.spinnerSize,gif:!1},this)])])," ","full"==t.services?[n.d("share__ect",{},[Dn.a.call(t,"button",{hash:{},data:{view:this}})])]:[]," ",t.dots?[n.d("share__ect",{},[r(El,{model:this.model,optionsModel:this,optionsMethod:"getShareOptions",class:"button_share button_share_more",shape:null,loc:this.options.loc},this)])]:[]])},Yl=n("bn5B"),Xl="vkontakte,facebook,odnoklassniki,twitter,whatsapp,",Jl={compact:"vkontakte,twitter,facebook,odnoklassniki",general:Xl+"telegram",full:Xl+"viber,telegram"},Ql={S:"s",M:"m",L:"l"},Zl={S:"M",M:"XS",L:"M"},$l=(ql=Object(P.a)(500),Kl=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){this.model&&this.listenTo(this.model,"update:share:content",this.updateContent)},n.className=function(){var t,e=this.options,n=e.mod,r=e.size,i=e.invert,o=e.round;return Object(On.a)("share",((t={})[n]=Boolean(n),t.loading=!0,t.size=Ql[r||"S"],t.invert=i,t.round=o,t))},n.onRender=function(){var t=this,n=Object(f.pick)(this.options,["url","title","description","image"]);this.prepareContent(n),e.initShare().then(function(){t.initShare(n)})},n.onDestroy=function(){this.destroyShare(),this.stopDestroyTimeout()},n.prepareContent=function(t){void 0===t&&(t={});var e=t,n=e.title,r=e.description,i=e.url;return n||this.options.disableTitle||(t.title=document.title),r&&r.length>512&&(t.description=r.substring(0,509)+"..."),i||(t.url=this.options.url||window.location.href),t},n.initShare=function(t){if(this.isIntact()){this.shareOptions=t;var e=Object(f.pick)(this.options,["counter","limit","popupDirection","size","lang"]),n=Jl[this.options.services||"compact"];this.$el.addClass("share_loading"),this._share=this._initShare(this.ui.shareContainer,t,Object.assign({services:n,bare:!0,counter:!0,size:"S"},e))}},n.destroyShare=function(){this.shareOptions=null,this._share&&"function"==typeof this._share.destroy&&this._share.destroy()},n._initShare=function(t,e,n){var r=this;if(void 0===e&&(e={}),void 0===n&&(n={}),this.stopDestroyTimeout(),this.startDestroyTimeout(),"undefined"!=typeof Ya&&"function"==typeof Ya.share2){if(this.button){var i=e.url;this.button.show(new Cn.a({href:"mailto:?body="+encodeURIComponent(i)+"&subject="+encodeURIComponent(e.title),"data-navigate":!1,class:"button_share button_share_email",icon:!0,"icon-only":!0,type:"pseudo",model:this,method:"onMailTo",preventDefault:!1}))}return Ya.share2(t.get(0),{content:e,theme:Object.assign({},n,{size:Ql[n.size]}),hooks:{onready:function(){r.initReady()},onshare:function(t){r.onShare({name:t,loc:r.options.shareLocation})}}})}this.$el.addClass("hidden")},n.initReady=function(){this.stopDestroyTimeout(),this.$el.removeClass("share_loading")},n.onShare=function(t){z.a.trigger("share:submit",t)},n.onMailTo=function(){z.a.trigger("share:submit",{name:"mailto"})},n.startDestroyTimeout=function(){var t=this;this.destroyTimeout=setTimeout(function(){t.destroy()},8e3)},n.stopDestroyTimeout=function(){clearTimeout(this.destroyTimeout)},n.updateContent=function(t){void 0===t&&(t={}),this.prepareContent(t),this.destroyShare(),this.initShare(t)},n.getShareOptions=function(){return this.shareOptions},n.serializeData=function(){var t=this.getOption("size")||"S";return{hideLoader:this.getOption("hideLoader"),mod:this.getOption("mod"),invert:this.getOption("invert"),dots:this.getOption("dots"),spinnerSize:Zl[t],size:Ql[t],services:this.getOption("services")||"compact"}},e.initShare=function(){return Object(Yl.a)()},e}(D.c),I()(Kl.prototype,"onRender",[ql],Object.getOwnPropertyDescriptor(Kl.prototype,"onRender"),Kl.prototype),Kl);Object(w.a)({template:s,ui:{shareContainer:".share__container"}})($l);var td=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.onRender=function(){this.refresh()},n.onCardChange=function(){this.model.getCard()&&(this.updateShareContent(),this.refresh())},n.refresh=function(){this.checkVisibility(),this.updateCurrentCard()},n.checkVisibility=function(){this.$el.toggleClass("hidden",this.model.isCardPrivate())},n.updateCurrentCard=function(){var t=this.model.getCard();this.currentCard&&this.stopListening(this.currentCard),this.listenTo(t,"change:description change:board",this.updateShareContent),this.currentCard=t},n.updateShareContent=function(){this.model.trigger("update:share:content",this.getShareData())},n.getShareData=function(){var t=this.options.metaState,e=this.model.getCard();return t.getCardOG(e)},n.serializeData=function(){var t=this.getEnv();return G()({lang:t.language},this.getShareData())},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.ar:yn.a;return(e?yn.fr:yn.f)([n($l,{model:this.model,services:"compact",limit:4,popupDirection:"top",hideLoader:!0,mod:"layout",size:"M",title:t.title,description:t.description,image:t.image,lang:t.lang,dots:!0,invert:!0,loc:"popup"},this)])},className:"layout__info__share",modelEvents:{"change:card":"onCardChange"}})(td);var ed=n("FH3s"),nd=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.onComplain=function(){this.env.dispatch(Object(ed.a)({id:this.model.getCard().id,storeKey:"cards",counter:{}}))},n.safeRender=function(){this.model.hasCard()&&t.prototype.safeRender.call(this)},n.serializeData=function(){var t=this.model.getCard();return{card:t,owner:t.getOwner()}},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,r=e?yn.ar:yn.a;return(e?yn.fr:yn.f)(Object(Es.a)({data:{view:this}})?ks(t.owner,{hash:{},data:{view:this}})?[]:[r(Cn.a,{label:"Поскаржитися",type:"clear",size:"S",class:"button_layout-complain",icon:n("AwAT"),model:this,method:"onComplain","data-c":Object(hs.a)("clickCardComplain",{hash:{cardId:t.card.id}})},this)]:[])},className:"layout__info__ctrl",modelEvents:{"change:card":"safeRender"}})(nd);var rd,id,od,ad=0,sd=(rd=function(t,e,n){return{configurable:!0,enumerable:n.enumerable,get:function(){var t=n.value;return od=od||"__rjctntlfnshd"+ad++,Object.defineProperty(this,e,{configurable:!0,enumerable:n.enumerable,value:function(){var e=this;if(this[od])return this[od];for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this[od]=Promise.resolve(t.call.apply(t,[this].concat(r))).then(function(t){return e[od]=void 0,t},function(t){throw e[od]=void 0,t}),this[od]}}),this[e]}}},id=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.saveVote=function(t){var e=this;return this.model.getCard().saveVote(t).catch(function(t){t&&409===t.status||(z.a.showSaveBallotVoteFailedMessage(),console.error(t)),t&&t.responseJSON&&"closed"===t.responseJSON.code&&e.model.closeCard()}),this.model.nextCard().then(function(t){t||e.model.closeCard()},function(t){console.error(t)})},n.isVisible=function(){return e.isVoting(this.model)},n.safeRender=function(){this.model.hasCard()&&t.prototype.safeRender.call(this)},n.onLike=function(){this.saveVote(!0)},n.onDislike=function(){this.saveVote(!1)},n.serializeData=function(){return{visible:this.isVisible()}},n.onRender=function(){this.$el.toggleClass("like_"+this.options.mod,this.isVisible())},e.isVoting=function(t){var e=t.isVoting(),n=t.getCard();return e&&n&&Boolean(n.getBallot())},e}(D.c),I()(id.prototype,"saveVote",[rd],Object.getOwnPropertyDescriptor(id.prototype,"saveVote"),id.prototype),id);Object(w.a)({template:function(t){var e=this,n=function(t){return[(this&&this.isRestored?yn.ar:yn.a)(Cn.a,Object(yn.assign)(t,{model:e,inverse:null,class:Object(On.b)("button_like",{hash:{up:t.value,down:!t.value,wide:t.wide,shadow:!0}})}),this)]};return(e&&e.isRestored?yn.fr:yn.f)(t.visible?[n.call(e,{value:!0,method:"onLike",icon:!0,label:"Подобається",type:"action","data-c":Object(hs.a)("clickContestLike",{hash:{}})})," ",n.call(e,{value:!1,method:"onDislike",icon:!1,label:"Не подобається","data-c":Object(hs.a)("clickContestDislike",{hash:{}})})]:[])},className:"like",modelEvents:{"change:card":"safeRender"}})(sd);var cd=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.safeRender=function(){this.model.getCard()&&this.render()},n.onRender=function(){this.toggleComplained()},n.toggleComplained=function(){this.$el.toggleClass("hidden",this.model.isCurrentCardComplained())},n.serializeData=function(){var t=this.model.getCard();return{isHidden:t.isBanned()||t.hasRestrictedOwner(),isVoting:sd.isVoting(this.model)}},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.ar:yn.a;return(e?yn.fr:yn.f)(t.isHidden?[]:[n.d("layout__info__i",{},[r(Wl,{model:this.model},this)," ",r(td,{model:this.model,metaState:this.options.metaState},this)," ",r(nd,{model:this.model,baseState:this.options.baseState},this)])," ",t.isVoting?[r(sd,{mod:"layout",model:this.model},this)]:[]])},className:"layout__info",modelEvents:{"card:change:complaint":"toggleComplained","change:card":"toggleComplained"}})(cd);var ud=n("ol8y"),ld=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){var t=this.options.cardState;this.listenTo(t,"card:change:complaint",this.onChangeComplain),this.listenTo(t,"change:cardEdited",this.onCardEditChange),this.listenTo(t,"change:selectedSeriesContent",this.onChangeContent)},n.onRender=function(){this.refreshContentType(),this.onChangeComplain()},n.onCardEditChange=function(){this.options.cardState.getCard()&&this.safeRender()},n.onChangeContent=function(){var t=this.options.cardState,e=this.getContent();this.refreshContentType(),t.isCardEdited()||(this.isContentVideo()?(this.showInRegion(this.video,qu,{model:e,cardState:t}),this.image.empty()):this.image.hasView()||(this.showInRegion(this.image,ku,{model:t}),this.video.empty()))},n.onChangeComplain=function(){this.options.cardState.isCurrentCardComplained()&&(this.video.empty(),this.$el.removeClass("layout__content_video"))},n.refreshContentType=function(){var t=this.isContentVideo();this.$el.toggleClass("layout__content_image",!t).toggleClass("layout__content_video",t)},n.serializeData=function(){var t=this.options.cardState,e=t.getCard(),n=e&&e.isSeries(),r=t.isCardEdited(),i=e.getFirstContent(),o=this.isContentVideo(i);return{disableEdit:e.isSeriesDisabled(),isCardEdited:r,isSeries:n,isVideo:o,content:i}},n.getContent=function(){return this.options.cardState.getSelectedSeriesContent()},n.isContentVideo=function(t){return void 0===t&&(t=this.getContent()),!this.options.cardState.isCurrentCardComplained()&&t&&t.isVideo()||this.isCardVideoSource()},n.isCardVideoSource=function(){var t=this.options.cardState.getCard();return Boolean(t&&Object(ud.a)(t.toJSON()))},e}(D.c);Object(w.a)({template:function(t){var e=this&&this.isRestored,n=e?yn.ar:yn.a,r=e?yn.er:yn.e;return(e?yn.fr:yn.f)(t.isCardEdited&&!t.disableEdit?[n(Ju,{cardState:this.options.cardState},this)]:[n(xl,{model:this.options.cardState,hintState:this.options.hintState,env:this.options.env},this)," ",r.d("layout__image",{},[n(ku,{regionName:"image",model:this.options.cardState},this)])," ",t.content&&t.isVideo?[n(qu,{regionName:"video",model:t.content,cardState:this.options.cardState},this)]:[Dn.a.call(t,"video",{hash:{},data:{view:this}})]," ",n(cd,{model:this.options.cardState,baseState:this.options.baseState,metaState:this.options.metaState},this)])},className:"layout__content"})(ld);var dd,hd=n("Kq94"),fd=n("njkS"),pd=Object(Nn.a)(function(t){return{tld:Object(lo.a)(t)}})(function(t){var e=t.tld,n=t.invert,r=Object(On.a)("footer",{invert:n});return"uz"===e&&(e="ru"),Ln.createElement("footer",{className:r},Ln.createElement("p",{className:"footer__copy"},"© 2015—",(new Date).getFullYear()," ",hd.yandex.r()),Ln.createElement("ul",{className:"footer__links"},Ln.createElement("li",{className:"footer__links__i"},Ln.createElement("a",{href:"https://yandex."+e+"/support/collections/",className:"link link_type_minor"},fd.help())),Ln.createElement("li",{className:"footer__links__i"},Ln.createElement("a",{href:"https://yandex."+e+"/support/collections/troubleshooting.xml",className:"link link_type_minor"},fd.feedback())),Ln.createElement("li",{className:"footer__links__i"},Ln.createElement("a",{href:"https://yandex."+e+"/legal/collections_termsofuse/",className:"link link_type_minor"},hd.eula()))))}),gd=function(t){var e=this&&this.isRestored,n=e?yn.er:yn.e,r=e?yn.ar:yn.a;return(e?yn.fr:yn.f)(t.card&&t.card.id?[n("script","",{type:"application/ld+json"},[]),n("script","",{type:"application/ld+json"},[]),r(Qa,{model:t.cardState,env:this.options.env},this)," ",Dn.a.call(t,"cardPopupNav",{hash:{async:!0},data:{view:this}})," ",n.d("layout__wrap",{},[n.d("layout__wrap__i",{},[r(hu,{cardState:t.cardState,baseState:t.baseState,env:this.options.env},this)," ",r(ld,{cardState:t.cardState,baseState:t.baseState,hintState:t.hintState,metaState:this.options.metaState},this)])])," ",Dn.a.call(t,"cardSimilar",{hash:{},data:{view:this}})," ",Object(Zn.react)(Object(Zn.renderView)(pd,{invert:!0},this),this)]:[])},md=n("ggah"),vd=n("CYZy"),bd=n("HZC2"),_d=n("qTqY"),yd=n("POJF"),Cd=n("5a4k"),Od=n("Ml+Q"),Sd="cardSimilarToCard",wd=Object(Nn.b)(function(t){return{seed:Object(Cd.a)(t,Sd),isLoading:Object(_d.a)(t,Sd),isFullyLoaded:Object(yd.a)(t,Sd),isEmpty:Object(Od.a)(t,Sd)}})(function(t){var e=t.cardId,n=t.seed,r=t.isLoading,i=t.isFullyLoaded,o=t.isEmpty,a=t.scrollElement,s={id:"cardSimilarToCard",entries:[{storeKey:Sd,type:vd.a.CARD,start:0,step:1}]};return Ln.createElement(Kr.a,{loc:"similarCards",similarCardId:e,cardsSessionId:n},Ln.createElement("div",{className:Object(On.a)("layout__similar",{filled:i,empty:o})},Ln.createElement(bd.a,{itemsKey:Sd,shaker:s,ignoreOverflow:!0,scrollElement:a,options:{showCtrl:!0}}),r&&!i&&Ln.createElement("div",{className:"async_spinner"},Ln.createElement(An.a,{gif:!1}))))}),Ed=function(t){return(this&&this.isRestored?yn.fr:yn.f)([Object(Zn.react)(Object(Zn.renderView)(wd,{cardId:this.options.cardId,scrollElement:this.options.scrollElement},this),this)])},kd=Object(w.a)({template:u,className:"layout__category layout__category_views"})(dd=Object(md.a)()(dd=function(t){function e(){return t.apply(this,arguments)||this}return O()(e,t),e}(D.c))||dd)||dd,jd=n("S7YN"),Td=n("4MLz"),xd=Object(Ze.a)(function(){var t=$()(Q.a.mark(function t(e,n){var r,i,o,a;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.cardId,i=n.getState,n.di,o=n.dispatch,r){t.next=4;break}return t.abrupt("return");case 4:return a=Object(ud.a)(i(),r),t.next=7,o(Object(jd.a)({storeKey:"cardSimilarToCard",url:"/collections/api/cards",reset:{count:0,results:[],next:null},query:{similar_to:r,index_video_enabled:a?1:void 0,page:1,page_size:U.y,seed:Object(Td.a)()}}));case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),Rd=qe.b.radio.channel("resize").vent,Id=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){var t=this.options.cardState;this.listenTo(t,{update:this.render,"card:change:complaint":this.onComplainSuccess,"cards:update":this.onCardsUpdate,"change:card":this.onCardChanged,"change:cardEdited":this.onCardEditChange,"change:cardZoomed":this.onCardZoomChange})},n.onRender=function(){var t=this.options.cardState,e=t.getCard(),n=t.getCards(),r=e&&e.isBanned(),i=t.isCurrentCardComplained();this.hasCardAtRender=Boolean(e),this.$el.toggleClass("layout_hide",!e).toggleClass("layout_complain",i).toggleClass("layout_banned",r),this.ui.wrap.toggleClass("layout__wrap_side",!r&&!i),e&&this.scheduleRenderSimilar(),n&&n.length&&this.onCardsUpdate(),this.onCardEditChange(),this.onCardZoomChange(),this.onUpdateFocus()},n.scheduleRender=function(t,e,n){var r=this,i=this.options.cardState,o=i.getCard();t&&t.currentView&&t.empty(),setTimeout(function(){i.getCard()===o&&n.call(r)},e)},n.scheduleRenderSimilar=function(){this.options.cardState.isCurrentCardBanned()||this.scheduleRender(this.cardSimilar,100,this.renderSimilar)},n.renderSimilar=function(){var t=this.options.cardState;if(!t.isCurrentCardComplained()&&!t.isCurrentCardBanned()){var e=t.getCard().id;this.getEnv().dispatch(xd({cardId:e})),this.showInRegion(this.cardSimilar,kd,{cardId:e,scrollElement:this.el})}},n.onCardsUpdate=function(){if(!this.isDestroyed){var t=this.cardPopupNav,e=this.options,n=e.baseState,r=e.cardState,i=r.getCard(),o=r.getCards(),a=this.getEnv();o&&o.length&&!r.isVoting()&&(i&&this.showInRegion(t,qa,{env:a,model:r,baseState:n}),this.$el.toggleClass("layout__image_single-card",1===o.length))}},n.onCardChanged=function(){var t=this.options.cardState,e=t.getCard();if(!e)return this.el.scrollTop=0,this.render();var n=e&&e.isBanned(),r=t.isCurrentCardComplained();this.$el.toggleClass("layout_complain",r).toggleClass("layout_banned",n),this.ui.wrap.toggleClass("layout__wrap_side",!n&&!r),this.el.scrollTop=0,this.hasCardAtRender?(this.scheduleRenderSimilar(),this.onUpdateFocus()):this.render()},n.onCardEditChange=function(){var t=this.options.cardState;this.$el.toggleClass("layout_edit",t.isCardEdited()),Rd.trigger("resize")},n.onCardZoomChange=function(){if(!this.isDestroyed){var t=this.options.cardState;this.ui.wrap.toggleClass("layout__wrap_screen",t.isCardZoomed())}},n.onComplainSuccess=function(){this.$el.addClass("layout_complain"),this.ui.wrap.removeClass("layout__wrap_side")},n.onUpdateFocus=function(){var t=this;setTimeout(function(){t.$el.focus()})},n.serializeData=function(){var t=this.options,e=t.cardState,n=t.baseState,r=t.hintState,i=e.getCard();return{cardState:e,baseState:n,hintState:r,card:i,env:this.getEnv()}},e}(D.c);Object(w.a)({template:c,className:"layout layout_show-suggest",ui:{wrap:".layout__wrap"},attributes:{tabindex:-1}})(Id);var Dd,Pd,Ld,Nd=function(t){var e=this,r=e&&e.isRestored,i=r?yn.er:yn.e,o=r?yn.ar:yn.a,a=r?yn.yr:yn.y,s=r?yn.cr:yn.c;return(r?yn.fr:yn.f)([i.d("wrap__inner",{},[Dn.a.call(t,"header",{hash:{},data:{view:e}})," ",t.showExt?a(Object(yn.all)([Object(yn.retryPromise)(function(){return n.e(15).then(n.bind(null,"v28M"))},1/0,3e3),e.getEnv().di({env:"env",model:"ExtBannerState"})],function(t){return o(t[0].ExtBanner,Object(yn.assign)({fixed:!0,close:!0,loc:"popup"},t[1]),e)}),e):s()," ",Dn.a.call(t,"section",{hash:{},data:{view:e}})," ",t.showExt?o(Ma,{},e):s()," ",Object(Zn.react)(Object(Zn.renderView)(za.a,{},e),e)])," ",o(Id,{cardState:e.options.cardPopupState,baseState:e.options.baseState,sidebarState:e.options.sidebarState,hintState:e.options.hintState,metaState:e.options.metaState},e)," ",Object(Zn.react)(Object(Zn.renderView)(pd,{},e),e)," ",Dn.a.call(t,"popup",{hash:{className:"hidden"},data:{view:e}})," ",Dn.a.call(t,"sidebar",{hash:{className:"hidden"},data:{view:e}})," ",Dn.a.call(t,"pageLoading",{hash:{className:"hidden"},data:{view:e}})])},Ad=n("Wrnh"),Bd=n("RvyH"),Md=Object(Le.a)(function(t,e){var n=Object(Bd.a)(t);return n&&n.overflow===e?t:Object(Wn.a)(t,{layout:G()({},n,{overflow:e})})}),Fd=qe.b.radio.channel("resize").vent,Ud=(Dd=function(t,e,n){return{configurable:!0,enumerable:n.enumerable,get:function(){return Object.defineProperty(this,e,{configurable:!0,enumerable:n.enumerable,value:Object(f.once)(n.value)}),this[e]}}},Pd=Object(P.a)(),Ld=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){var t=this.options,e=t.baseState,n=t.sidebarState,r=t.cardPopupState;e&&this.listenTo(e,{"change:invertFooter":this.toggleInvert,"change:categoryLayout":this.onLayoutChange,"loading:start":this.onLoadingStart,"loading:end":this.onLoadingEnd,"loading:cancel":this.onLoadingCancel,"change:isWhitePage":this.refreshWhitePage}),n&&(this.listenTo(n,"change:isImageDragged",this.onRefreshOverflow),this.listenTo(n,"change:type",this.onSidebarChangeState)),r&&this.listenTo(r,"change:card",this.onRefreshOverflow),this.overflowRefreshChain=new Promise(function(t){return setTimeout(t)})},n.onRender=function(){this.onRefreshOverflow(),this.onLayoutChange(),this.refreshWhitePage()},n.renderPageLoading=function(){this.showInRegion(this.pageLoading,Ba,{baseState:this.options.baseState})},n.onLoadingStart=function(){this.renderPageLoading(),this._loadingAnimationTimeout&&(clearTimeout(this._loadingAnimationTimeout),this.onLoadingFinished()),this.$el.addClass("wrap_page-loading"),this.toggleOverflow(!0)},n.onLoadingEnd=function(){var t=this;this.$el.addClass("wrap_page-load"),this.forceRefreshOverflow(),this._loadingAnimationTimeout=setTimeout(function(){t.onLoadingFinished(),t.options.hintState.showHintUserSubscriptions()},2e3)},n.onLoadingCancel=function(){this.forceRefreshOverflow(),this.onLoadingFinished()},n.onLoadingFinished=function(){this.$el.removeClass("wrap_page-loading wrap_page-load")},n.onReady=function(){if(this.isIntact()){var t=this.options.cardPopupState;t&&(t.onReady(),this.forceRefreshOverflow()),this.refreshWhitePage()}},n.refreshWhitePage=function(){if(this.isIntact()){var t=this.options.baseState.isWhitePage();this.ui.inner.toggleClass("wrap__inner_white",t)}},n.toggleInvert=function(){if(this.isIntact()){var t=this.options.baseState.isInvertFooter();this.ui.inner.toggleClass("wrap__inner_black",t).toggleClass("wrap__inner_category_black",t)}},n.onRefreshOverflow=function(){var t=this;if(this.isIntact()){var e=this.options,n=e.cardPopupState,r=e.sidebarState,i=n.hasCard(),o=r.isImageDragged(),a=Boolean(i||o);a&&void 0===this.scrollTop&&(this.scrollTop=document.body.scrollTop||document.documentElement.scrollTop),void 0!==this.scrollTop&&(this.overflowRefreshChain=this.overflowRefreshChain.then(function(){t.isDestroyed||(t.toggleOverflow(a),a||(document.body.scrollTop=document.documentElement.scrollTop=t.scrollTop||0,t.scrollTop=void 0,Fd.trigger("resize")))})),this.ui.inner.toggleClass("wrap__inner_layout",i)}},n.forceRefreshOverflow=function(){if(this.isIntact()){var t=this.options,e=t.cardPopupState,n=t.sidebarState,r=Boolean(e.getCard()),i=n.isImageDragged(),o=Boolean(r||i);this.toggleOverflow(o)}},n.onSidebarChangeState=function(){if(this.isIntact()){var t=!this.options.sidebarState.isClosed();this.ui.inner.toggleClass("wrap__inner_sidebar",t),document.body.classList.toggle("body-overlay",t)}},n.onLayoutChange=function(){this.isIntact()&&this.ui.inner.toggleClass("wrap__inner_category",this.options.baseState.isCategoryLayout())},n.toggleOverflow=function(t){var e=this;this.isIntact()&&(t&&this.env.dispatch(Md(t)),this.ui.inner.toggleClass("wrap__inner_overflow",t),t||setTimeout(function(){e.env.dispatch(Md(t))}),this.options.baseState.setOverflow(t))},n.serializeData=function(){return{showExt:Object(Ad.a)(this.env.getState())}},e}(D.c),I()(Ld.prototype,"renderPageLoading",[Dd],Object.getOwnPropertyDescriptor(Ld.prototype,"renderPageLoading"),Ld.prototype),I()(Ld.prototype,"onReady",[Pd],Object.getOwnPropertyDescriptor(Ld.prototype,"onReady"),Ld.prototype),Ld);Object(w.a)({template:l,className:"wrap",ui:{inner:".wrap__inner"}})(Ud);var zd,Vd,Hd,Wd,qd,Kd,Gd=function(t){function e(){return t.apply(this,arguments)||this}return O()(e,t),e}(Ud),Yd=n("vjVR"),Xd=(n("Nn3Z"),n("yO7b"),n("EF4d"),n("iwFM").a.applyDecls()),Jd=(zd=Object(qt.a)(),Vd=Object(qt.a)(),Hd=Object(qt.a)(),Wd=function(t){function e(e){var n=t.call(this,e)||this;n.value="";var r=e.value||"";return n.value=r,n.state={text:r},n}O()(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){var e=t.value||"";this.value=e,this.setState({text:e})},n.onChange=function(t,e,n){var r=t,i=this.props.autocommit;(n||i)&&this.setValue(r||"",e,n),this.setState({text:r})},n.onBlur=function(){this.setValue(this.state.text||"")},n.onKeyDown=function(t){var e=this,n=this.props,r=n.autocommit,i=n.suggest;(r&&i||t.keyCode===Yd.b)&&setTimeout(function(){return e.setValue(e.state.text||"")},100),t.keyCode===Yd.c&&t.preventDefault()},n.setValue=function(t,e,n){t!==this.value&&(this.value=t,this.props.onChange(t,e,n))},n.render=function(){return Ln.createElement(Xd,G()({},this.props,{text:this.state.text,onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.onKeyDown}))},e}(Ln.Component),I()(Wd.prototype,"onChange",[zd],Object.getOwnPropertyDescriptor(Wd.prototype,"onChange"),Wd.prototype),I()(Wd.prototype,"onBlur",[Vd],Object.getOwnPropertyDescriptor(Wd.prototype,"onBlur"),Wd.prototype),I()(Wd.prototype,"onKeyDown",[Hd],Object.getOwnPropertyDescriptor(Wd.prototype,"onKeyDown"),Wd.prototype),Wd),Qd=(qd=Object(qt.a)(),Kd=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={text:""},e.value=[],e}O()(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){this.value=t.value||[]},n.onChange=function(t,e,n){var r=t;r&&n&&"suggest"===n.source&&(this.value.push(t),r="",this.props.onChange(this.value,e,n)),this.setState({text:r})},n.render=function(){return Ln.createElement(Xd,G()({},this.props,{text:this.state.text,onChange:this.onChange}))},e}(Ln.Component),I()(Kd.prototype,"onChange",[qd],Object.getOwnPropertyDescriptor(Kd.prototype,"onChange"),Kd.prototype),Kd),Zd=n("5K/n"),$d=n("Ff+0");function th(t,e){return t.filter(function(t){return!e.find(function(e){return t.name===e.name&&t.value===e.value})})}function eh(t){return t.verticalFilters&&t.verticalFilters.negatives||[]}var nh=n("VtoV"),rh=n("PZSv");function ih(t,e,n){var r=rh["label("+[t,e,n].join(",")+")"];return r?r():String(n)}function oh(t,e,n){return t&&e&&n?n.filter(Boolean).map(function(n){return{label:ih(t,e,n),name:e,value:n}}):[]}var ah=n("2WP6");function sh(t){var e=Object(nh.a)(t),n=Object(Yi.a)(t),r=Object(ah.a)(n);if(e&&r){var i=r[e]||{};return Object.keys(i).reduce(function(t,n){if(n&&"_"!==n[0]){var r=i[n];return[].concat(t,oh(e,n,Array.isArray(r)?r:[r]))}return t},[])}return[]}function ch(t,e){if(t&&e){var n=e.params,r=e.data,i=e.custom||[],o=e.single||[];return Object.keys(t).reduce(function(e,a){if(a&&n.includes(a)){var s=String(t[a]);if(""!==s){var c=r[a]||[],u=!i.includes(a);if(o.includes(a))u&&!c.includes(s)||(e[a]=s);else{var l=s.split(",").filter(function(t){return!u||c.includes(t)});l.length&&(e[a]=l)}}}return e},{})}}function uh(t){return ch(t.event&&t.event.query,t.verticalFilters)}function lh(t){var e=Object(nh.a)(t),n=uh(t);return e&&n?Object.keys(n).reduce(function(t,r){var i=n[r];return[].concat(t,oh(e,r,Array.isArray(i)?i:[i]))},[]):[]}var dh,hh,fh=n("/FHb"),ph=Object.keys(fh.a).reduce(function(t,e){var n=fh.a[e];return t[JSON.stringify([n.sex,n.age])]=e,t},{}),gh=((dh={})[we.c]=function(t){if(t.ingredients&&t.ingredients.length){var e=t.ingredients.filter(function(t){return"-"!==t[0]}),n=t.ingredients.filter(function(t){return"-"===t[0]}).map(function(t){return t.slice(1)});return G()({},t,{ingredients:e,ingredients_exclude:n})}return t},dh[we.d]=function(t){var e=[];return t.sex&&t.sex.length&&t.age&&t.age.length&&t.sex.forEach(function(n){t.age.forEach(function(t){var r=ph[JSON.stringify([n,t])];r&&e.push(r)})}),G()({},t,{target:e.length?e:void 0,sex:void 0,age:void 0})},dh);function mh(t){var e=Object(nh.a)(t),n=t.verticalFiltersSuggest;if(e&&n){if(n._loading)return[];var r=function(t,e){void 0===e&&(e={});var n=gh[t];return n?n(e):e}(e,n);return Object.keys(r).reduce(function(t,n){return n&&"_"!==n[0]?[].concat(t,oh(e,n,r[n])):t},[])}return[]}function vh(t,e){var n,r,i=e.mode,o=e.name,a=e.value,s=e.single,c=void 0===s?[]:s;return i===hh.UPDATE&&(r=a),i===hh.DELETE&&Array.isArray(t[o])&&(r=(r=t[o].filter(function(t){return t!==a})).length?r:void 0),i===hh.MERGE&&(r=c.includes(o)?a:[].concat(t[o]||[],[a])),G()({},t,((n={})[o]=r,n))}!function(t){t[t.UPDATE=0]="UPDATE",t[t.DELETE=1]="DELETE",t[t.MERGE=2]="MERGE"}(hh||(hh={}));var bh=n("oXfe");function _h(t){if(t)return Object.keys(t).reduce(function(e,n){var r=t[n];return n&&"_"!==n[0]&&null!=r&&(e[n]=Array.isArray(r)?r.join(","):r),e},{})}function yh(t){return t.verticalFilters&&t.verticalFilters.single||[]}var Ch=n("qKPy"),Oh=n("lhXF");function Sh(t,e){var n=e||uh(t),r=eh(t);if(n&&r&&r.length)return r.reduce(function(t,e){return t[e]=n[e],t},{})}var wh=n("aGho"),Eh=Object(Ze.a)(function(){var t=$()(Q.a.mark(function t(e,n){var r,i,o,a,s,c,u,l,d,h,f,p;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=e.name,i=e.value,o=e.mode,a=void 0===o?hh.UPDATE:o,s=n.getState,n.di,c=n.dispatch,u=s(),l=uh(u),d=Object(nh.a)(u),l&&d&&(h=G()({},vh(l,{name:r,value:i,mode:a,single:yh(u)}),{id:u.event.query&&u.event.query.id}),c(Object(bh.a)({payload:_h(h)})),u=s(),(f=eh(u))&&f.includes(r)&&c(Object(Oh.a)({key:d,mutation:function(){return Sh(u,h)}})).catch(function(t){return console.error(t)}),p=Object(Ch.a)(d,h),c(Object(jd.a)({storeKey:"verticalFiltersSuggest",url:wh.b[d],query:p})),c(Object(jd.a)({storeKey:"verticalSearchCards",url:"/collections/api/cards/search/",query:G()({},p,{page_size:24})})));case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),kh=n("WucJ"),jh=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).prevSelectedTags=[],e.fullPreferencesTags=[],e}O()(e,t);var n=e.prototype;return n.tagAdd=function(t,e){this.props.dispatch(Eh({name:t,value:e,mode:hh.MERGE}))},n.tagRemove=function(t,e){this.props.dispatch(Eh({name:t,value:e,mode:hh.DELETE}))},n.translateLabel=function(t,e,n){var r=Object($d.a)(n),i=kh["tag("+[t,e].join(",")+")"];return i?i({text:r}):String(r)},n.render=function(){var t,e=this,n=this.props,r=n.vertical,i=n.negatives,o=void 0===i?[]:i,a=n.selectedTags,s=void 0===a?[]:a,c=n.preferencesTags,u=void 0===c?[]:c,l=n.suggestTags,d=void 0===l?[]:l,h=this.prevSelectedTags,f=th(s,h),p=th(h,s),g=th(h,p);s=[].concat(f,g),this.prevSelectedTags=s,this.props.autoscroll&&f.length&&(t=0);var m=th(this.fullPreferencesTags,u),v=[].concat(u,m);this.fullPreferencesTags=v,u=th(v,s),d=th(d,[].concat(s,u));var b=o.reduce(function(t,e){return t[e]=!0,t},{}),_=this.translateLabel.bind(this,r);return Ln.createElement(Zd.a,{mod:"selection",scrollTo:t,arrows:!0},this.props.children,s.map(function(t){return Ln.createElement("div",{key:JSON.stringify([t.name,t.value]),className:Object(On.a)("selection__tag",{active:!0,negative:b[t.name]})},_(t.name,t.label),Ln.createElement("span",{className:"selection__tag-clear",onClick:e.tagRemove.bind(e,t.name,t.value)}))}),[].concat(u,d).map(function(t){return Ln.createElement("div",{className:Object(On.a)("selection__tag",{negative:b[t.name]}),key:JSON.stringify([t.name,t.value]),onClick:e.tagAdd.bind(e,t.name,t.value)},_(t.name,t.label))}))},e}(Ln.Component),Th=Object(Nn.a)(function(t){return{vertical:Object(nh.a)(t),negatives:eh(t),selectedTags:lh(t),preferencesTags:sh(t),suggestTags:mh(t)}})(jh),xh=n("XUyP"),Rh=n("+Jil"),Ih=n("CsIx"),Dh=Object(Nn.a)(function(t){var e=Object(Yi.a)(t);return{verticalSlug:Object(Rh.a)(t),currentUserLogin:e.login,isRestricted:Object(Ih.a)(e)}})(function(t){var e=t.title,n=t.currentUserLogin,r=t.isRestricted,i=t.verticalSlug,o=t.singleLine,a=t.children;return Ln.createElement(Ln.Fragment,null,Ln.createElement("div",{className:"selection__head"},Ln.createElement("h2",{className:"selection__title"},e),n&&Ln.createElement("a",{href:r?Object(E.n)():Object(E.w)(n),className:"selection__link"},xh.collections())),Ln.createElement("div",{className:"selection__body"},o?Ln.createElement(Th,null,a):Ln.createElement(Ln.Fragment,null,Ln.createElement(Zd.a,{mod:"selection",arrows:!0},a),Ln.createElement(Th,{autoscroll:!0}))),Ln.createElement("div",{className:"selection__close"},i&&Ln.createElement(Sr.a,{props:{href:Object(E.x)(i)},icon:!0,mods:{type:"clear","icon-only":!0,"action-close":[!0,"xlarge"]}})))});function Ph(t,e){return t.length<1?[]:e}var Lh,Nh=(Lh=function(){return me.a.factory()},"/collections/api/recipes/ingredients/suggest/",function(t){return void 0===t&&(t=Ph),function(e,n,r){var i=String(n||"").trim();if(n.length<1)return r(t(n),{});Lh().get("/collections/api/recipes/ingredients/suggest/",{data:{text:i}}).then(function(e){return r(t(n,e),{})})}});function Ah(t,e){return t.length<1?[]:e[2].map(function(t){return t[0]})}var Bh=function(t,e){return function(t){return void 0===t&&(t=Ah),function(n,r,i){var o=String(r||"").trim();return r.length<1?i(t(r),{}):ct("https://suggest-multi.yandex.net/suggest-dish-collections",G()({},e,{part:o})).then(function(e){i(t(r,e),{})})}}}(0,{uil:"ru",lr:213,fact:1});function Mh(t){var e=Object(nh.a)(t),n=function(t){return t.verticalFilters&&t.verticalFilters.data}(t);if(e&&n)return Object.keys(n).reduce(function(t,r){var i=n[r];return t[r]=oh(e,r,Array.isArray(i)?i:[i]),t},{})}var Fh=function(t){return{filterData:Mh(t),query:uh(t)||{}}};function Uh(t,e){return function(n){e&&e(Eh({name:t,value:n}))}}n("qx4X"),n("h64U");var zh,Vh=n("UXYF").a.applyDecls(),Hh=n("8j9T").a.applyDecls(),Wh=function(t){return Ln.createElement(Hh.Item,{key:t.value,val:t.value},Object($d.a)(t.label))},qh=function(t){var e=t.filterData,n=t.query,r=t.name,i=t.placeholder,o=t.onChange,a=t.children;return Ln.createElement(Vh,{type:"check",cls:"select_selection",theme:"normal",view:"default",tone:"default",size:"n",width:"fixed",maxHeight:388,placeholder:i,val:n[r],onChange:o},a||e[r].map(Wh))},Kh=n("BN8n").a.applyDecls(),Gh=function(t){var e=t.filterData,n=t.query,r=t.name,i=t.placeholder,o=t.onChange,a=t.defaults,s=t.children,c=n[r],u=o;return void 0!==a&&(void 0===c&&(c=a),u=function(t){var e=t;(t===a||Array.isArray(t)&&1===t.length&&t[0]===a)&&(e=void 0),o(e)}),Ln.createElement(Kh,{type:"radiocheck",cls:"select_selection",theme:"normal",view:"default",tone:"default",size:"n",width:"fixed",placeholder:i,val:c,onChange:u},s||e[r].map(Wh))},Yh=n("rSuW"),Xh=function(t){function e(e){var n,r=t.call(this,e)||this;return r.textDataProvider=Bh(),r.ingredientsDataProvider=Nh((void 0,n=function(){var t=r.props.query;return["ingredients","ingredients_exclude"].reduce(function(e,n){return[].concat(e,t[n])},[])},function(t,e){if(t.length<1&&(e=[]),n){var r=n();return e.filter(function(t){return!r.includes(t.toLowerCase())})}return e})),r}return O()(e,t),e.prototype.render=function(){var t=this.props,e=t.filterData,n=t.query,r=t.dispatch;return e&&n?Ln.createElement(Dh,{title:Yh.foodTitle()},Ln.createElement(Jd,{cls:"input_selection input_selection_search",theme:"normal",size:"n",placeholder:Yh.foodText(),updateOnEnter:!1,autocomplete:!1,hasClear:!0,suggest:!0,dataprovider:this.textDataProvider,value:n.text,onChange:Uh("text",r)}),Ln.createElement(Qd,{cls:"input_selection",theme:"normal",size:"n",placeholder:Yh.foodIngredients(),updateOnEnter:!1,autocomplete:!1,hasClear:!0,suggest:!0,dataprovider:this.ingredientsDataProvider,value:n.ingredients,onChange:Uh("ingredients",r)}),Ln.createElement(Qd,{cls:"input_selection",theme:"normal",size:"n",placeholder:Yh.foodIngredientsExclude(),updateOnEnter:!1,autocomplete:!1,hasClear:!0,suggest:!0,dataprovider:this.ingredientsDataProvider,value:n.ingredients_exclude,onChange:Uh("ingredients_exclude",r)}),Ln.createElement(qh,{name:"cuisines",query:n,filterData:e,placeholder:Yh.foodCuisines(),onChange:Uh("cuisines",r)},Ln.createElement(Hh.Group,{title:Yh.foodCuisinesTop()},e.cuisines_top.map(Wh)),Ln.createElement(Hh.Group,{title:Yh.foodCuisines()},e.cuisines.map(Wh))),Ln.createElement(qh,{name:"types",query:n,filterData:e,placeholder:Yh.foodTypes(),onChange:Uh("types",r)}),Ln.createElement(Gh,{name:"cooking_time__lte",query:n,filterData:e,defaults:"-1",placeholder:Yh.foodCookingTime(),onChange:Uh("cooking_time__lte",r)})):null},e}(Ln.Component),Jh=Object(Nn.a)(Fh)(Xh),Qh=Object(Nn.a)(Fh)(function(t){var e=t.query,n=t.filterData,r=t.dispatch;return n&&e?Ln.createElement(Dh,{title:Yh.hairstylesTitle(),singleLine:!0},Ln.createElement(Gh,{name:"target",query:e,filterData:n,placeholder:Yh.hairstylesTarget(),onChange:Uh("target",r)}),Ln.createElement(Gh,{name:"length",query:e,filterData:n,placeholder:Yh.hairstylesLength(),onChange:Uh("length",r)}),Ln.createElement(Gh,{name:"color",query:e,filterData:n,placeholder:Yh.hairstylesColor(),onChange:Uh("color",r)})):null}),Zh=Object(Nn.a)(Fh)(function(t){var e=t.query,n=t.filterData,r=t.dispatch;return n&&e?Ln.createElement(Dh,{title:Yh.interiorsTitle(),singleLine:!0},Ln.createElement(Gh,{name:"room",query:e,filterData:n,placeholder:Yh.interiorsRoom(),onChange:Uh("room",r)}),Ln.createElement(qh,{name:"furniture",query:e,filterData:n,placeholder:Yh.interiorsFurniture(),onChange:Uh("furniture",r)})):null}),$h=((zh={})[we.c]=Jh,zh[we.d]=Qh,zh[we.e]=Zh,zh),tf=Object(Nn.a)(function(t){return{vertical:Object(nh.a)(t)}})(function(t){var e=t.vertical,n=$h[e];return Ln.createElement(Kr.a,{loc:"verticalSearch"},n?Ln.createElement(n,null):null)}),ef=function(t){function e(){return t.apply(this,arguments)||this}return O()(e,t),e}(jn.a);Object(w.a)({template:function(t){return(this&&this.isRestored?yn.fr:yn.f)([Object(Zn.react)(Object(Zn.renderView)(tf,{},this),this)])},className:"selection section_vsearch-header"})(ef);var nf=n("bP1J"),rf=n("TKgN"),of=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){t.prototype.initialize.call(this),this.pageState=this.env.pageState},n.onShow=function(){t.prototype.onShow.call(this),Object(Va.c)(this,Va.a.ESCAPE,this.onEscape,{priority:50}),this.listenTo(this.model,"change:imageDragged",this.onImageDragged)},n.onEscape=function(){if(!this.model.isClosed())return this.onClickOut(),!1},n.onImageDragged=function(){if(this.model.isClosed()){var t=this.model.isImageDragged();this._toggle(t)}},n.onClickOut=function(t,e){var n=!this.model.isClosed(),r=this.model.isTypeCardAddSuccess(),i=this.model.hasCardContent();Object($e.a)(this.env.reduxState.getState()).modal||(n&&Date.now()-this.openTime>100&&i&&!r?(e&&(e.preventDefault(),e.stopPropagation()),this.beforeClosePanel()):this.onClose())},n.beforeClosePanel=function(){var t=this.env;Ka.a.show({title:t.translate(rf.closeTitle,{escape:!0}),stopPropagation:!0,buttons:[{label:t.translate(rf.apply),model:this,method:"onClose"},{label:t.translate(rf.cancel),type:"action",stopPropagation:!0}]})},n.onArrow=function(t){t.preventDefault(),this.model.isClosed()?this.pageState.scrollTo(0,0,{duration:200}):this.onClose()},e}(nf.a);Object(w.a)({options:{showArrow:!0},behaviors:G()({},nf.a.prototype.behaviors,{ClickOut:{behaviorClass:bn.a,ignoreDetachedNodes:!0}})})(of);var af=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.getSidebarState=function(){return this.get("sidebarState")},n.setSidebarState=function(t){this.getSidebarState()!==t&&(this.stopListeningPanel(),t.setShowExtOnFinish(!this.shouldShowBanner()),this.set("sidebarState",t),this.listenTo(t,"change:type",this.onSideChange))},n.isCard=function(){return this.get("isCard")},n.setIsCard=function(t){this.set("isCard",t)},n.shouldShowBanner=function(){var t=this.getEnv().currentUser;return!!t.isAuthorized()&&!this.isCard()&&Object(Ad.a)(this.getEnv().getState())&&t.getPreferences()&&!t.getPreferences().isShownPlugin()},n.onSideChange=function(){if(this.shouldShowBanner()){var t=this.getSidebarState().getType();t===U.n.ADD_CARD_BOARD_SUCCESS?this._createdInProgress=!0:t===U.n.NONE&&this._createdInProgress?(this.trigger("show:banner"),this.stopListeningPanel()):this._createdInProgress=!1}else this.stopListeningPanel()},n.stopListeningPanel=function(){var t=this.getSidebarState();t&&(t.setShowExtOnFinish(!0),this.stopListening(t))},n.updateDependencies=function(t){var e=t.event,n=t.env,r=t.sidebarState;this.setIsCard("card"===e.name),this.setEnv(n),this.setSidebarState(r)},n.destroy=function(){},e}(S.a);Object(w.a)({defaults:{isCard:!1}})(af);var sf=n("n73F"),cf=n("8LPo"),uf=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){this._feedCardCount=0,this._feedShownCount=0},n.setEvent=function(t){this.set("event",t)},n.getEvent=function(){return this.get("event")},n.setAction=function(t){this.set("action",t)},n.getAction=function(){return this.get("action")},n.setIdentifier=function(t){this.set("identifier",t)},n.getIdentifier=function(){return this.get("identifier")},n.setActionAndIdentifier=function(t,e){this.set({action:t,identifier:e})},n.setRouterState=function(t){this.set("routerState",t)},n.getRouterState=function(){return this.get("routerState")},n.showHintCardShare=function(t){return this.shouldShowActionHint(t.getHintTarget(),U.F.cardShare)},n.showHintCardLike=function(t){return!t.isLiked()&&this.shouldShowActionHint(t.getHintTarget(),U.F.cardLike)},n.showHintSubscribe=function(t){var e=t.getHintTarget();return t instanceof sf.a?this.shouldShowActionHint(e,U.F.boardSubscribe):t instanceof cf.a?this.shouldShowActionHint(e,U.F.channelSubscribe):t instanceof ds.a?this.shouldShowActionHint(e,U.F.userSubscribe):void 0},n.showHintUserSubscriptions=function(){this.setActionAndIdentifier(U.F.userSubscriptions,U.E.followingsChannels)},n.shouldShowActionHint=function(t,e){var n=this.getEnv().currentUser,r=this.getAction(),i=this.getIdentifier();return n&&n.isAuthorized()&&r===e&&i===t},n.cleanURL=function(){var t=this.getRouterState(),e=this.getEvent();if(e&&e.query&&e.query.hintAction||e.query.hintTarget){var n,r=((n={}).hintAction=null,n.hintTarget=null,n);t.replaceQuery(r,{trigger:!1,replace:!0})}},n.clean=function(){this.setActionAndIdentifier(null,null)},n.handleEvent=function(t){var e=t.query;e&&e.hintAction&&e.hintTarget&&(this.setAction(e.hintAction),this.setIdentifier(e.hintTarget))},n.updateDependencies=function(t){var e=t.event,n=t.env,r=t.routerState;this.setEnv(n),this.setEvent(e),this.setRouterState(r),this.handleEvent(e),this.cleanURL()},e}(S.a);Object(w.a)({defaults:{action:null,id:null}})(uf);var lf=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.uploadImage=function(t,e){var n=this;return void 0===e&&(e=""),Promise.resolve(this.getEnv().di("resizer")).then(function(e){return e.resize(t,{quality:.7,width:1e3,height:1e3})}).then(function(t){return n._uploadImage(t,e)})},n._uploadImage=function(t,e){var n=this,r=new FormData;r.append("upfile",t);var i,o=Y.ajax({type:"post",url:"/images/search?"+Y.param({rpt:"imageview",format:"json",request:'{"blocks":[{"block":"b-page_type_search-by-image__link"}]}'}),data:r,dataType:"json",context:this,cache:!1,contentType:!1,processData:!1});return(i=o,new Promise(function(t,e){return i.then(t,e)})).then(function(t){var r=t.blocks&&t.blocks[0].params.url;if(!r)throw new Error("Cannot upload image. Maybe not image?");return n.search({query:r,type:e})})},n.search=function(t,e){var n,r=t.text,i=t.query,o=void 0===i?"":i,a=t.type,s=t.url;r?(o="text="+encodeURIComponent(r),n={query:r}):a?n={cbir:o+="&img_type="+a}:s&&(o+="&url="+encodeURIComponent(s)+"&rpt=imageview",n={url:s}),rt.a.sendCounter(it.a.clickSearch,G()({},n,e)),location.href="/images/search?source=collections&"+o},e}(S.a);Object(w.a)({defaults:{text:""}})(lf);var df=n("1XFv"),hf=n("uDOU"),ff=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){this.on("change:query",this.onQueryChange)},n.setUrl=function(t,e){this.setQuery(t,e)},n.getQuery=function(){return this.get("query")},n.getNewBoardTitle=function(){var t=this.getQuery();return Object(hf.a)(t)?"":t},n.setQuery=function(t,e){void 0===e&&(e={}),this.set("query",t,e)},n.setLoading=function(t){this.set("loading",t)},n.getLoading=function(){return this.get("loading")},n.setCards=function(t){this.set("cards",t)},n.getCards=function(){return this.get("cards")},n.isEmpty=function(){return this.getCards().isEmpty()},n.getImages=function(){return this.get("internetImages")},n.setImages=function(t){this.set("internetImages",t)},n.getFetchError=function(){return this.get("fetchError")},n.setFetchError=function(t){return this.set("fetchError",t)},n.loadingStart=function(){this.trigger("loading:start")},n.loadingEnd=function(){this._fetchPromise=void 0,this.trigger("loading:end")},n.onSuggestSubmit=function(){return this.loadingStart(),this.fetchImages()},n.fetchImages=function(){var t=this,e=this.getQuery()||"",n=String(e).trim();if(this.setFetchError(null),!n.length)return this.loadingEnd(),Promise.resolve(new df.a);if(this._fetchPromise)return this._fetchPromise;this.setLoading(this.getLoading()+1);var r=setTimeout(function(){t.loadingEnd(),t.setFetchError({status:0})},7e3);return this._fetchPromise=this.getEnv().invokeStrategy(et.a.CardsFetchFromQueryStrategy,{state:this,query:n}).then(function(e){return clearTimeout(r),t.loadingEnd(),e}).catch(function(e){throw clearTimeout(r),t.loadingEnd(),t.setFetchError(e),e}),this._fetchPromise},n.onQueryChange=function(t,e){this._fetchPromise=void 0,e||this.internetCollectionsClean()},n.internetCollectionsClean=function(){var t=this.getCards(),e=this.getImages();e&&e.cleanImages(),t&&t.reset()},n.updateCards=function(){var t=this.getCards();this.getImages().asyncToCards(2,t)},n.updateDependencies=function(t){var e=t.request,n=t.cards;this.setRequestAdapter(e),this.setCards(n)},e}(S.a);Object(w.a)({defaults:{url:"",loading:0}})(ff);var pf=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.getEvent=function(){return this.get("event")},n.setEvent=function(t){this.set("event",t)},n.getEventName=function(){var t=this.getEvent();return t.isAlias?t.origName:t.name},n.getActiveDependencies=function(){var t=this.getEnv().di,e={};return t&&this.dependencies.forEach(function(n){var r=n[0].toLowerCase()+n.slice(1);e[r]=t.getDefinition(n).instance}),e},n._getTemplateParams=function(){return{}},n.getTemplateParams=function(){return this._getTemplateParams(this.getActiveDependencies())},n._buildDefault=function(t,e){var n=e.prefix||"",r=this.translates,i=e.eventName||this.getEventName(),o=r[i+n+t]||r[i+t]||r["default"+t];return o?o(e):""},n._buildOG=function(t,e){var n=this._buildFamily(t,e);return n.og||n.default},n._buildFamily=function(t,e){return{default:this._buildDefault(t,e),og:this._buildDefault("OG"+t,e),meta:this._buildDefault("Meta"+t,e)}},n.getTitle=function(){return this._buildDefault("Title",this.getTemplateParams())},n.getOGTitle=function(){return this._buildOG("Title",this.getTemplateParams())},n.getDescription=function(){return this._buildDefault("Description",this.getTemplateParams())},n.getOGDescription=function(){return this._buildOG("Description",this.getTemplateParams())},n.getShareData=function(){return{title:this.getOGTitle(),description:this.getOGDescription()}},n.updateDependencies=function(t){var e=t.event,n=t.env;this.setEvent(e),this.setEnv(n)},e}(S.a),gf=n("aeY2"),mf=n("P7/t"),vf={search:["vertical","text"]},bf={geoBoard:"board",geoChannel:"channel",feed:"home",errorNotFound:""};function _f(t){return function(e,n){var r=e.name,i=e.origName,o=e.query,a=e.params,s=i||r,c=s in bf?bf[s]:s;if(!c)return"";if(vf[c]){var u={};vf[c].forEach(function(t){return u[t]=o[t]}),a=Object.assign(u,a)}return t(n.router.reverse(c,a),n)}}_f(function(t){return t});var yf=_f(mf.a),Cf=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.mergeProperties=function(t){this.set(t.toJSON())},n.getMeta=function(){return Object(f.compact)(Object(f.map)(this.toJSON(),function(t,e){if(t&&t!==U.A)return{property:e,content:t}}))},n.copyPropsForTwitter=function(){var t=this.get("og:image");t?(this.set("twitter:card","summary_large_image"),this.set("twitter:image",t)):this.set("twitter:card","summary"),this.set("twitter:title",this.get("og:title")),this.set("twitter:description",this.get("og:description"))},n.measureImage=function(t){void 0===t&&(t={}),this.get("og:image")&&(t.size===U.Z?this.setImageSize(507,237):this.setImageSize(1200,630))},n.setImageSize=function(t,e){this.set("og:image:width",t),this.set("og:image:height",e)},e.constructForPage=function(t,e){void 0===t&&(t={}),void 0===e&&(e={});var n=t.env,r=t.event,i=Object(f.omit)(e,f.isEmpty);return this.dataFactory(Object.assign({"og:title":gf.defaultTitle(),"og:description":gf.defaultDescription(),"og:url":yf(r,n),"og:image":t.image?t.image:null,"og:type":"website","fb:app_id":"612985925534416","twitter:site":"@yacollections"},i),t)},e}(S.a),Of=n("2qyN"),Sf=n("y1pN"),wf=n("UQOb"),Ef=n("lPPs"),kf=n("UoCc"),jf=n("O/ol"),Tf=n("CHZ4");function xf(t){return void 0===t&&(t=""),t.replace(/(<\/?[a-z][^>]*(>|$))/gi," ")}var Rf,If=n("wYmg"),Df=n("1SpP"),Pf=n("INas"),Lf=n("VMUI"),Nf=n("lv8r"),Af=n("o7PK"),Bf=n("nNBK"),Mf={imagesTouch:"images",imagesDesktop:"images",imagesPad:"images",imagesSmart:"images"},Ff=((Rf={}).images={"fb:app_id":"","twitter:site":"@yandeximages"},Rf),Uf=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.getCardOG=function(t){var e=this.getEnv(),n=this._getCardTemplateParams(t);return n.eventName=n.eventName||"card",{title:this._buildOG("Title",n),description:this._buildOG("Description",n),image:t.getShareImageUrl(),url:Object(mf.a)(e.router.reverse("card",{id:t.id}),e)}},n._getCardTemplateParams=function(t){var e={};if(t){var n=this.getEnv(),r=t.getExtensions(n);if(e.card_title=r.getBestTitle(),t.hasRestrictedOwner())e.eventName="favorites";else if(t.isFilled())e.board_title=bc(t.getBoard()),e.owner_login=t.getOwnerDisplayName(),t.isVideo()?e.prefix="Video":String(t.getDescription()||"").trim()&&(e.prefix="WithDescription",e.card_title=t.getDescription());else{var i=r.getMetaTemplatePrefix()||"VirtualCard",o=String(t.getDescription()||"").trim();i&&(e.prefix=i),o&&"VirtualCard"===i&&(e.card_title=t.getDescription())}t.isBanned()&&(e.prefix="Banned")}return e},n._getTemplateParams=function(t){var e=t.redux,n=t.currentContest,r=t.cardPopupState,i=r&&r.getCard(),o=this.getEventName(),a=e&&e.getState();i?o="card":n&&(o="contest"),Mf[o]&&(o=Mf[o]);var s={eventName:o};if(a){var c=Object(ke.a)(a),u=Object(Nf.a)(a),l=Object(Pf.a)(a);if(c){var d=Object(wf.a)(c)||0,h=Object(Sf.a)(a,c),f=Object(Of.a)(c);s.board_title=Object(Ef.a)(c),s.owner_login=Object(Co.a)(h),s.prefix="",d>10&&(s.prefix="WithCount",s.count=d),f&&(s.prefix+="Custom",s.board_description=f),"geoBoard"===s.eventName&&(s.eventName="board")}if(l&&(s.login=Object(Co.a)(l)),u){if(s.channel_title=Object(Af.a)(u),s.channel_description=Object(Bf.a)(u),a.channelCards){var p=Object(kf.a)(a,"channelCards");p&&(s.count=p<=24?10:p<=49?25:p<=74?50:p<=99?75:p-p%100)}"geoChannel"===s.eventName&&(s.eventName="channel")}}if(n)s.contest_title=n.getTitle(),s.contest_description=xf(n.getDescription());else if(a&&a.contest){var g=Object(jf.a)(a,a.contest.id);g&&(s.contest_title=g.title,s.contest_description=xf(g.description))}if(a&&Object(Tf.a)(a,E.a.SEARCH)){var m=a.event.query.text;s.search_query=m,m||"search"!==o||(s.prefix="Empty")}if(i&&Object.assign(s,this._getCardTemplateParams(i)),s.eventName!==E.a.VERTICAL_FEED||s.vertical_title||(s.eventName="feed"),s.eventName===E.a.FAVORITES_TYPE){var v=this.getEvent().params;v&&v.type&&(s.prefix=v.type[0].toUpperCase()+v.type.slice(1))}return s},n.toMetaArray=function(){var t,e=this.getActiveDependencies(),n=e.redux,r=e.cardPopupState,i=e.currentContest,o=n&&n.getState(),a=this._getTemplateParams(e),s=this._buildFamily("Title",a),c=this._buildFamily("Description",a),u=this.getEvent(),l=this.getEventName(),d=this.getEnv(),h=r&&r.getCard(),f="card"===l&&h&&h.isBanned(),p=gf.cardBannedTitle(),g=Object(Nf.a)(o),m=Object(ke.a)(o),v=Object(Pf.a)(o),b=Cf.constructForPage({event:u,env:d},{"og:title":f?p:s.og||s.default,"og:description":f?p:c.og||c.default});if(Ff[a.eventName]&&b.set(Ff[a.eventName]),g)t=Object(Df.a)(g.slug);else if(i)t=i.getShareImageUrl();else if(m){var _=Object(Sf.a)(o,m.id);m&&_&&(t=Object(If.a)(_.login,m.slug))}else v?t=Object(Lf.a)(v.login):h?t=h.getShareImageUrl():l.match(/^(images|gorsel)/)||(t=gn("assets/meta/yandex.jpeg"));if(t){var y=this.getColumns();y&&y>1&&y<6&&(t+="?columns="+y),b.set("og:image",t)}if(b.copyPropsForTwitter(),h){var C=h.getShareImageSize();b.setImageSize(C.width,C.height)}else g?b.measureImage({size:U.Z}):b.measureImage();var O=[{name:"title",content:f?p:s.meta||s.default},{name:"description",content:f?p:c.meta||c.default}];return[].concat(b.getMeta(),O)},n.getColumns=function(){var t=this.getEnv();if(t.event&&t.event.query.columns)return Number(t.event.query.columns)},e}(pf);Object(w.a)({translates:gf,dependencies:["redux","currentContest","CardPopupState"]})(Uf);var zf,Vf,Hf=n("NVra"),Wf={identity:function(t){return t},floatButton:function(t,e){return"float_"+(e?"collapsed":"expanded")},popup:function(){return"card_fullview"},wideTeaser:function(){return"card_teaser"},boardsList:function(){return"boards_list"},boardFooter:function(){return"board_footer"}},qf=(zf=Object(P.a)(500),Vf=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){var t,e=this,n=Object(Hf.a)({env:this.getEnv()});this.metrika=n,window.metrika=n,this.metrika.onLoad(function(t){e.setCounter(t),e.listenToAddToHomeEvents()}),this.listenTo(z.a,((t={"board:create":this.boardAdd,"board:subscribe":this.boardSubscribe,"sidebar:board:add":this.sidebarBoardAdd,"card:comment:add":this.cardComment,"card:like":this.cardLiked,"card:share:complete":this.cardShareCompleted,"card:create":this.cardCreateCompleted})[U.f]=this.onCardsSeen,t["plugin:store"]=this.pluginStore,t["user:auth"]=this.userAuth,t["user:subscribe"]=this.userSubscribe,t["channel:subscribe"]=this.onChannelSubscribe,t["show:share:modal"]=this.onShowShareModal,t["share:submit"]=this.onShareSubmit,t))},n.listenToAddToHomeEvents=function(){var t=this;window.addEventListener("beforeinstallprompt",function(e){t.addToHomeShown(),e.userChoice.then(function(e){"dismissed"!==e.outcome&&t.addToHomeAccepted()})})},n.setCounter=function(t){this.set("counter",t)},n.getCounter=function(){return this.get("counter")},n.execute=function(t){var e=this;this.metrika&&this.metrika.onLoad(function(){return t(e.getCounter())})},n.boardAdd=function(){this.metrika&&this.metrika.reachGoal(this.isEmbed()?"plugin_collection_added":"collection_added")},n.getSubscribeGoalParams=function(t){void 0===t&&(t={});var e={},n=t,r=n.loc,i=n.collapsed,o=Wf[r]||Wf.identity;return r&&o&&(e.context=o(r,i)),e},n.boardSubscribe=function(t,e){this.metrika&&this.metrika.reachGoal("subs_c",this.getSubscribeGoalParams(e))},n.sidebarBoardAdd=function(){this.metrika&&this.metrika.reachGoal("to_new_collection")},n.cardComment=function(){this.metrika&&this.metrika.reachGoal("comment_added")},n.cardLiked=function(){this.metrika&&this.metrika.reachGoal("like")},n.cardShareCompleted=function(){this.metrika&&this.metrika.reachGoal("card_added")},n.cardCreateCompleted=function(t){t.card;var e=t.loc,n={};e&&(n.loc=e),this.metrika&&this.metrika.reachGoal(this.isEmbed()?"plugin_card_added":"card_added",n)},n.addToHomeShown=function(){this.metrika&&this.metrika.reachGoal("add_to_home_shown")},n.addToHomeAccepted=function(){this.metrika&&this.metrika.reachGoal("add_to_home_accepted")},n.pluginStore=function(t){this.metrika&&(this.metrika.reachGoal("plugin_store"),this.metrika.extLink(t))},n.userAuth=function(t){this.metrika&&this.metrika.reachGoal("auth",t)},n.userSubscribe=function(t,e){this.metrika&&this.metrika.reachGoal("subs_u",this.getSubscribeGoalParams(e))},n.onChannelSubscribe=function(t,e){this.metrika&&this.metrika.reachGoal("subs_ch",this.getSubscribeGoalParams(e))},n.onCardsSeen=function(t){var e=t.count,n=t.total;this.metrika&&this.metrika.reachGoal("scroll",{items_count:e,items_total:n,finish:e===n})},n.onShowShareModal=function(t){this.metrika&&this.metrika.reachGoal("share_open",this.getSubscribeGoalParams(t))},n.onShareSubmit=function(t){var e=t.name,n=t.loc;this.metrika&&this.metrika.reachGoal("share_submit",{channel:e,loc:n})},n.setCurrentUser=function(t){this.set("currentUser",t)},n.getCurrentUser=function(){return this.get("currentUser")},n.isEmbed=function(){return this.getEnv().isEmbed},n.setEnv=function(t){this.set("env",t)},n.getEnv=function(){return this.get("env")},n.setRequestAdapter=function(t){this.set("request",t)},n.getRequestAdapter=function(){return this.get("request")},n.setMetricsParams=function(){var t=this.getCurrentUser(),e=t&&t.isAuthorized(),n=this.getEnv().flags;this.execute(function(t){t&&t.params(Object.assign({z:e},n))})},n.setUserParams=function(t){void 0===t&&(t={});var e={};Object(f.keys)(t).forEach(function(n){var r=U.R[n],i=t[n],o=r&&r[i];o&&(e[o.key]=o.value)}),Object(f.isEmpty)(e)||this.execute(function(t){t.userParams(e)})},n.setRedactorUserParams=function(){this.execute(function(t){t.userParams(U.cb)})},n.updateDependencies=function(t){var e=t.request,n=t.currentUser,r=t.env,i=t.event.query;this.setRequestAdapter(e),this.setCurrentUser(n),this.setEnv(r),this.setMetricsParams(),this.setUserParams(i),n&&n.isRedactor()&&this.setRedactorUserParams()},e.factory=function(t){return this.instance||(this.instance=new e(t)),this.instance},e}(ve.a),I()(Vf.prototype,"onCardsSeen",[zf],Object.getOwnPropertyDescriptor(Vf.prototype,"onCardsSeen"),Vf.prototype),Vf),Kf=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.setType=function(t){this.type=t},n.filterBy=function(t){var e=this.type;return t=String(t).trim(),!e||t.length<=1?[]:this.sync("read",this,{data:{text:t,type:e}}).then(function(t){return t.map(function(t){return{text:t}})})},e}(S.a);Object(w.a)({url:"/collections/api/object_answers/queries/suggest"})(Kf);var Gf=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.initialize=function(){var t=this;this.hasSupport()&&(this.setVisibility(!document[this._property]),document.addEventListener(this._eventName,function(){return t.onVisibilityChange()}))},n.setVisibility=function(t){this.set("visible",t)},n.isVisible=function(){return this.get("visible")},n.hasSupport=function(){var t,e;return void 0!==document.hidden?(t="hidden",e="visibilitychange"):void 0!==document.msHidden?(t="msHidden",e="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange"),this._property=t,this._eventName=e,Boolean(this._property&&this._eventName)},n.onVisibilityChange=function(){var t=!document[this._property];this.setVisibility(t),this.trigger("visibility",t)},e.factory=function(){return this.instance||(this.instance=new this),this.instance},e}(S.a);Object(w.a)({defaults:{visible:!0}})(Gf);var Yf=function(){function t(t,e){this.type="",this.planner=t,this.callbacks=[],e&&(this.task=e)}var e=t.prototype;return e.setType=function(t){return this.type=t,this},e.run=function(e){var n=this,r=function(){n._invoked||(n._invoked=!0,n.callbacks.forEach(t.invoke),e&&t.invoke(e))},i=t.invoke(this.task.bind(this,r));return i instanceof Promise?i.catch(function(t){return console.error(t)}).then(r):0===this.task.length&&r(),this},e.then=function(t){return this._invoked?t():this.callbacks.push(t),this},e.promise=function(){var t=this;return this._promise||(this._promise=new Promise(function(e){t.task(function(){return e()})})),this._promise},t.invoke=function(t){try{return t&&t()}catch(t){console.error(t)}},t}(),Xf=function(){function t(t,e){this.planner=t,this.callback=e,this.children=[],this.syncTasks=[]}var e=t.prototype;return e.execute=function(t){var e=this,n=function(t){var n=function(){e.callback?e.callback().then(r):r()},r=function(){var n=e.children.map(function(t){return t.execute.bind(t)});Qf.all(n,t)};e.dependency?e.dependency.execute(n):n()};return this.syncTasks.forEach(function(t){return t()}),t?n(t):new Promise(function(t){return n(t)})},e.then=function(e,n){var r=this,i=new t(this.planner,function(){return r.planner.task(n,e)});return this.children.push(i),i},e.modifyDom=function(t){return this.then("modifyDom",t)},e.readDom=function(t){return this.then("readDom",t)},e.animation=function(t){return this.then("animation",t)},e.addClass=function(t,e){return this.modifyDom(function(){t&&e.split(" ").forEach(function(e){e&&t.classList.add(e)})})},e.removeClass=function(t,e){return this.modifyDom(function(){t&&e.split(" ").forEach(function(e){e&&t.classList.remove(e)})})},e.addClassAnimation=function(t,e,n){return this.toggleClassAnimation(t,e,!0,n)},e.removeClassAnimation=function(t,e,n){return this.toggleClassAnimation(t,e,!1,n)},e.toggleClassAnimation=function(t,e,n,r){var i=(void 0===r?{}:r).timeout,o=void 0===i?500:i;return this.animation(function(r){var i=setTimeout(r,o);t.addEventListener("transitionend",function e(n){n.target===t&&(t.removeEventListener("transitionend",e),clearTimeout(i),r())},!1),n?t.classList.add(e):t.classList.remove(e)})},e.bulk=function(t){var e=this.planner.workflow(t),n=this.planner.workflow(function(t){t.dependency=e});return this.children.push(n),n},e.sync=function(t){return this.syncTasks.push(t),this},t}(),Jf=function(t){function e(e){var n=t.call(this)||this;return n.planner=e,n.in=new Xf(e),n.out=new Xf(e),n.runningIn=Promise.resolve(),n}O()(e,t);var n=e.prototype;return n.runIn=function(){var t=this;return this.trigger("in:start"),this.runningIn=this.in.execute().then(function(){t.trigger("in:done")},function(e){throw t.runningIn=Promise.resolve(),e}),this.runningIn},n.runOut=function(){var t=this;return this.trigger("out:start"),this.runningIn.then(function(){return t.out.execute()}).then(function(){t.trigger("out:done")})},e}(qe.a),Qf=function(){function t(){this.taskQueue=[]}var e=t.prototype;return e.task=function(t,e){return this.addTask(this.createTask(t,e))},e.addTask=function(t){return this.taskQueue.push(t),this._planRun(),t},e.createTask=function(t,e){var n=new Yf(this,t);return n.setType(e),n},e.workflow=function(t){var e=new Xf(this);return t(e),e},e.simpleWorkflow=function(t){this.workflow(t).execute().catch(function(t){console.error(t)})},e.createInOutAnimation=function(){return new Jf(this)},e._planRun=function(){var t=this;!this.timeout&&this.taskQueue.length&&(this.timeout=setTimeout(function(){return t._run()},1))},e._run=function(){var e=this,n=this.taskQueue[0],r=[];if(!this.taskQueue.length)return this._stop();this.taskQueue=this.taskQueue.filter(function(t){return t.type!==n.type||(r.push(t.run.bind(t)),!1)}),t.all(r,function(){e._stop(),e._planRun()})},e._stop=function(){clearTimeout(this.timeout),this.timeout=null},t.all=function(t,e){var n=t.length,r=!1;if(n){var i=function(){--n<=0&&!r&&(r=!0,e())};t.forEach(function(t){return t(i)})}else e()},t.factory=function(){return this.planner||(this.planner=new t),this.planner},t}(),Zf=n("8OQS"),$f=n.n(Zf);function tp(t){if(t)return t.replace(/^pdb-/,"").replace(/(\-\w)/g,function(t){return t[1].toUpperCase()})}var ep=function(t){function e(e){var n=t.call(this)||this;return Object.assign(Zt()(Zt()(n)),e),n.busVersion=e&&Number(e.event.query.bus)||1,n}O()(e,t);var n=e.prototype;return n.run=function(){var t=this;this.read(_t.e.ADD_MEDIA,function(e){return t.onMedia(e)}),this.send({type:_t.e.EMBED_READY,isMobile:!1})},n.onMedia=function(t){var e=t.items,n=t.meta;this.trigger("media",e,n||{pageUrl:""})},n.close=function(t){this.send(G()({type:_t.e.CLOSE},t))},n.notification=function(t){this.send(G()({},t,{type:_t.e.NOTIFICATION}))},n.ready=function(){this.send({type:_t.e.READY})},n.listen=function(t){this.read(this.eventName,t)},n.addMedia=function(t){this.send({type:_t.e.ADD_MEDIA,images:t})},n.show=function(){var t=_t.e.SINGLE_COLUMN;this.send({type:t})},n.send=function(t){if(this.dstWindow){if(2===this.busVersion){var e=t,n=e.type,r=$f()(e,["type"]);t=JSON.stringify({methodCall:tp(n),params:r})}this.dstWindow.postMessage(t,"*")}},n.read=function(t,e){var n=this;this.srcWindow&&this.srcWindow.addEventListener("message",function(r){var i=r.data;if(i)if(2===n.busVersion){try{i=JSON.parse(i)}catch(t){return}i.methodCall===t&&e(i.params[0])}else i.type===t&&e(i)})},e.factory=function(t){return this._factory(t,window,window.top)},e.factoryModal=function(t){return this._factory(t,window,window.opener||window.parent)},e._factory=function(t,e,n){return new this(G()({},t,{srcWindow:e,dstWindow:n}))},e}(ve.a),np=function(){function t(){}return t.factory=function(t){return t.reduxState.store},t}(),rp=n("fvjX"),ip=n("dNc+"),op=n("asM3");function ap(t){var e=t.query,n=t.user,r=t.verticalFilters;if(e&&n&&r){var i=wh.d[e.id],o=ch(e,r);if(i&&o&&0===Object.keys(o).length){var a=Object(ah.a)(n);o=a&&a[i]||{}}return o}}var sp=n("JTLk"),cp=Object(Ze.a)(function(){var t=$()(Q.a.mark(function t(e,n){var r,i,o,a,s,c,u,l;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.getState,i=n.di,o=n.dispatch,a=r(),s=a&&a.event,!a||!s){t.next=14;break}if(s.route!=E.a.VERTICAL_SEARCH){t.next=9;break}if(c=uh(a),!(u=ap({query:s.query,user:Object(Yi.a)(a),verticalFilters:a.verticalFilters}))||Object(at.isEqual)(c,u)){t.next=9;break}return t.abrupt("return",o(Object(bh.a)({payload:G()({},s.query,u),navigate:{replace:!0}})));case 9:if(s.route!==E.a.DAILY_PHOTO){t.next=14;break}return t.next=12,i("env");case 12:return l=t.sent,t.abrupt("return",o(Object(rn.a)({contest:Object(sp.a)(l.timeDelta,s.query)})));case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),up=Object(Le.a)(function(t,e){var n;if(Array.isArray(e)){var r=e.reduce(function(t,e){return t[e]=void 0,t},{});return G()({},t,r)}return G()({},t,((n={})[e]=void 0,n))}),lp=n("QEzC"),dp=n("M/L7"),hp=Object(Ze.a)(function(t,e){var n,r=e.getState,i=e.dispatch,o=r(),a=Object(Yi.a)(o),s=Object(Ki.a)(a),c=lp.a.getItem(Object(dp.a)(s));try{n=c?JSON.parse(c):{}}catch(t){console.error(t),n={}}i(Object(rn.a)({localStorage:n}))});function fp(t,e){return t&&t.event&&t.event.cookies&&t.event.cookies[e]}var pp=n("ruzH");function gp(t){var e=navigator.serviceWorker;if(e){var n=G()({ua:window.navigator.userAgent},t),r=e.controller;r&&r.postMessage?r.postMessage(n):e.ready&&e.ready.then(function(t){t&&t.active&&t.active.postMessage&&t.active.postMessage(n)})}}var mp,vp,bp,_p=function(t,e){return t[t[e="CREATE_CACHE"]="sw-create-cache"]=e,t[t[e="REFRESH_CACHE"]="sw-refresh-cache"]=e,t[t[e="USER_UPDATED"]="sw-user-updated"]=e,t}({}),yp=["followingsBoards","followingsChannels","followingsUsers","followersUsers","boardSimilar","cardSimilar"],Cp=(mp=Object(qt.a)(),vp=function(){function t(){}var e=t.prototype;return e.setData=function(t){if(this.data)this.dispatch(Object(rn.a)(t));else{var e=Object(rp.a)(this.asyncMiddleware.bind(this));this.store=Object(rp.c)(this.reducer.bind(this),t,e)}this.data=t},e.dispatch=function(t){return this.store.dispatch(t)},e.getState=function(){return this.store.getState()},e.updateDependencies=function(e){var n=this,r=e.apphost,i=e.event,o=e.env,a=(e.state,e.request);if(this.env=o,a&&(a.reduxState=this),!(this.data&&i.isFirstRender&&this.data.event&&this.data.event.route!==E.a.OFFLINE)){var s=!this.data;return o.dispatch(up(yp)),r.fetch({id:"",route:i.name,query:G()({},i.query,i.params,{origRoute:i.origName}),cookies:{}},i.prepared).then(function(e){if(n.setData(e),s)return t.attachRedux(n,o)}).then(function(){return n}).catch(function(t){if(t.status===U.G.NOT_FOUND||t.statusCode===U.G.NOT_FOUND)throw new Ot.f("State data not found",G()({},i.query,i.params));throw t})}},e.onRouterReady=function(){this.dispatch(cp({}))},e.asyncMiddleware=function(t){var e=this,n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i({dispatch:n,getState:r,di:e.env.di,setState:e.setState}):t(i)}}},e.replaceReducer=function(t,e){return e.payload?e.payload:t},e.setState=function(t,e){void 0===e&&(e="setState"),this.dispatch({type:e,payload:t})},e.reducer=function(t,e){return function(t){if(!t)return t;var e=Object(ip.f)(t.entities||{},t);return e.entities!==t.entities?G()({},e.obj,{entities:Object(op.a)(e.entities)}):e.obj}(this.replaceReducer(t,e))},t.attachRedux=function(t,e){return e.attachRedux(t).then(function(){return t.dispatch(hp({}))}).then(function(){return function(t){var e=!1,n=!1;function r(){e||n||(e=!0,Object(fr.a)($()(Q.a.mark(function r(){var i,o,a;return Q.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,i=t.getState(),o=fp(i,"yandex_login"),a=Object(ae.a)("yandex_login"),o!==a){r.next=6;break}return r.abrupt("return");case 6:return r.next=8,t.dispatch(Object(pp.a)({}));case 8:return r.next=10,t.dispatch(hp({}));case 10:gp({type:_p.USER_UPDATED}),o=fp(t.getState(),"yandex_login"),a=Object(ae.a)("yandex_login"),o!==a&&(n=!0);case 14:return r.prev=14,e=!1,r.finish(14);case 17:case"end":return r.stop()}},r,this,[[0,,14,17]])}))))}document.addEventListener("visibilitychange",r),t.store.subscribe(r),r()}(t),t})},t.restore=function(e,n){var r=n.event,i=n.env,o=this.factory();if(r.name===E.a.ADD_FLOW){var a=r.query;e=G()({},e,{event:G()({},e.event,{query:a}),env:G()({},e.env,{query:a})})}return o.setData(e),o.env=i,t.attachRedux(o,i)},t.factory=function(){return this.instance||(this.instance=new this),this.instance},t}(),I()(vp.prototype,"setState",[mp],Object.getOwnPropertyDescriptor(vp.prototype,"setState"),vp.prototype),vp),Op=((bp={})[U.g.NORMAL]="_getNormalCardQuery",bp[U.g.SEARCH]="_getSearchCardQuery",bp[U.g.VIRTUAL]="_getNormalCardQuery",bp),Sp=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.setRouter=function(t){this.set("router",t)},n.getRouter=function(){return this.get("router")},n.setEvent=function(t){void 0===t&&(t={}),this.set("event",t)},n.getEvent=function(){return this.get("event")},n.setEventName=function(t){this.set("eventName",t)},n.getEventName=function(){var t=this.get("event");return t&&t.name},n.isOnTheSameBoard=function(t){var e=this.getEvent();return e&&t.getSlug()===e.params.slug},n.isOnTheSameProfile=function(t){var e=this.getEvent();return e&&t.getLogin()===e.params.login},n.isOnTheSameChannel=function(t){var e=this.getEvent();return e&&t.getSlug()===e.params.id},n.isSearchPage=function(){var t=this.getEventName();return"search"===t||"searchBoards"===t},n.navigateToBoard=function(t,e){void 0===e&&(e={});var n=t.getOwner(),r=t.getSlug();if(n&&r){var i={login:n.getLogin(),slug:r,commentId:null};return this.navigate("board",i,e)}},n.navigateToProfile=function(t,e){var n={login:t.getLogin()};return this.navigate("profile",n,e)},n.navigateToFeed=function(t){return this.navigate("feed",{},t)},n.navigateToCard=function(t,e){return t?this.navigate("card",{id:t.id},e):this.replaceQuery({cardId:null,commentId:null,suggested:null,similar:null},e)},n.navigateToCardOrigin=function(t,e){var n=this.getCardBoardURL(t,e);return this.getRouter().navigate(n)},n.replaceQuery=function(t,e){return this.getRouter().replaceQuery(t,e)},n.navigate=function(t,e,n){return this.getRouter().navigateToReverse(t,e,Object.assign({trigger:!0},n))},n.getCardURL=function(t){var e=this.getRouter(),n=this.getCardRouteQuery(t);return t.hasRestrictedOwner()?"#":n?e.reverse(n.name,n.query):""},n.getCardRouteQuery=function(t){if(t){var e=t.getType(),n=Op[e];if(this[n])return this[n](t)}},n._getSearchCardQuery=function(t){var e=this.getEvent().query;return{name:"search",query:Object.assign({},e,{cardUrl:t.getFirstSourceImageURL()})}},n._getNormalCardQuery=function(t){return{name:"card",query:{id:t.getId()}}},n.getBoardURL=function(t){return this.getRouter().reverse("board",{login:t.getOwnerLogin(),slug:t.getSlug()})},n.getCardBoardURL=function(t,e){if(!t)return"#";var n=this.getEnv(),r=t.getBoard();if(n&&t.isVirtual()){var i=t.getExtensions(n).getVerticalName();return wh.c[i]?this.getRouter().reverse(E.a.VERTICAL_FEED,G()({slug:wh.c[i]},e)):this.getRouter().reverse("home",e)}if(t.hasRestrictedOwner()){var o=t.getFirstContent(),a=o&&o.getSourceType();return this.getRouter().reverse(E.a.FAVORITES_TYPE,{type:a||Se.a.IMAGE})}return this.getRouter().reverse("board",{login:r.getOwnerLogin(),slug:r.getSlug(),commentId:null},e)},n.getChannelURL=function(t){return this.getRouter().reverse("channel",{id:t.getSlug()})},n.getProfileURL=function(t){return this.getRouter().reverse("profile",{login:t.getLogin()})},n.getContestVoteURL=function(t){return this.getRouter().reverse("contestVote",{id:t.id})},n.updateDependencies=function(t){var e=t.router,n=t.event,r=t.env;this.setRouter(e),this.setEvent(n),this.setEnv(r),this.setEventName(n.name)},n.triggerMethod=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.trigger.apply(this,[t].concat(n))},e.restore=function(t){return new e(t)},Jt()(e,[{key:"returnUrl",get:function(){return this.get("return_url")}}]),e}(S.a);Object(w.a)({defaults:{}})(Sp);var wp=n("vWga"),Ep=function(t){function e(){return t.apply(this,arguments)||this}O()(e,t);var n=e.prototype;return n.setImageDragged=function(t){this.set("imageDragged",t)},n.isImageDragged=function(){return this.get("imageDragged")},n.contentToCards=function(){var t=this.getCardContent(),e=df.a.factory({});return t.map(function(t){var n=B.a.dataFactory({content:t},{parse:!0});e.add(n)}),e.setFullyLoaded(),e},n.editCard=function(t){if(!this.hasCardContent()){var e,n=t.clone();this.setCard(n),e=this.contentToCards(),this._originalCard=t,this.setCards(e),this.showCardEdit()}},n.updateOriginalCard=function(){var t=this,e=this.getCard();(e.hasContests()&&e.getContent().length>1?Object(yt.a)(this.getEnv(),this._originalCard):Promise.resolve(!0)).then(function(n){if(n){t.showLoading();var r={card:t._originalCard,source:e};t.getEnv().invokeStrategy(et.a.CardEditStrategy,r).then(function(){z.a.showCardUpdateMessage(),t.closePanel()}).catch(function(e){t.showPreviousIfNotClosed(),console.error(e)})}})},n.showCardEdit=function(){this.setType(U.n.CARD_EDIT)},n.fetchCardsFromHtml=function(t){var e=this;this.showLoading(),this.getEnv().invokeStrategy(et.a.CardsFetchFromHtmlStrategy,{state:this,nodes:t}).catch(function(t){throw t&&"dimensions"===t.type?z.a.showImageError(t):z.a.showUnknownErrorMessage(),e.showPreviousIfNotClosed(),t})},e}(wp.a);Object(w.a)({defaults:G()({},wp.a.prototype.defaults,{imageDragged:!1,dragAllowed:!0})})(Ep);var kp=function(){function t(){this.language="uk"}return t.prototype.translate=function(t,e){return"function"==typeof t?t(e):""},t}(),jp=function(){function t(){}return t.prototype.filterBy=function(t){return(t=String(t).trim()).length<=1?[]:ct("https://yandex.ru/suggest-images/suggest-ya.cgi",{part:t,v:4,srv:"collections_desktop_ru"}).then(function(t){var e=[];if(Array.isArray(t)){var n=t?t[1]:[];e=n=n.filter(at.isString),n.length&&e[0]!==t[0]&&t[1]&&e.unshift(t[0])}return e})},t}(),Tp=0;function xp(t){var e,n=!1;function r(){var t=document.createEvent("CustomEvent");t.initCustomEvent("async:bundle",!1,!1,null),t.failed=Tp,window.dispatchEvent(t)}function i(){var e=t();return e.then(function(){n&&(n=!1,Tp--),r()}),e.catch(function(){n||(n=!0,Tp++),r()}),e}return function(t){return(e||(e=Object(y.retryPromise)(i,1/0,3e3))).then(function(e){return e[t]})}}var Rp,Ip={DesktopReactRatingAboutSection:0,DesktopReactRatingUsersSection:0,CollectionsSearchState:1,ImageResizer:1,MicModal:1,ReactBoardSection:2,DesktopShareLayout:3,DesktopShareSidebar:3,ShareSidebarState:3,ReactFavoritesSection:4,AddFlowLayout:5,ReduxBus:5,DesktopReactVerticalSearchSection:7,DesktopReactFeedSection:8,MainSection:9,ChannelSection:10,ContestBallotsCards:11,ContestsSection:11,DesktopContestSection:11,ProfileSection:12,DesktopSearchSection:13,SearchCardsSection:13,DesktopPluginSuccessSection:14,DesktopEmbedSidebar:15,EmbedImages:15,EmbedLayout:15,EmbedSidebarState:15,BaseRetpath:16,CardAddContentStrategy:17,CardChangeBoardStrategy:17,CardCreateContentStrategy:17,CardCreateGuestStrategy:17,CardCreateStrategy:17,CardCreateToBoardStrategy:17,CardEditStrategy:17,CardReceiveShareBusCardStrategy:17,CardShareStrategy:17,CardsFetchFromFilesStrategy:17,CardsFetchFromHtmlStrategy:17,CardsFetchFromQueryStrategy:17,CommonImageInfoStrategy:17,CardContextStrategy:18,BoardSaveStrategy:19,BoardSuggestNameStrategy:19,BoardsRefetchStrategy:19,HintSidebarStrategy:20,BoardToReduxStrategy:21,CardRemoveFromContestReduxStrategy:21,CardRemoveFromFeedToReduxStrategy:21,CardRemoveStrategy:21,CardSetCurrentCardToReduxStrategy:21,CardToReduxStrategy:21,BaseNotFoundContent:22,BaseState:23,BaseTitle:23,Boards:23,Card:23,CardComments:23,CardPopupState:23,Cards:23,CatalogOrganizationsSuggestSource:23,CatalogToponymsSuggestSource:23,ClientAppHost:23,ClientApplication:23,ClientEnv:23,ClientLogger:23,ClientLoggerWriter:23,ClientRequest:23,ClientResponse:23,ClientRouter:23,CountersCenter:23,CurrentUserState:23,DesktopBasePage:23,DesktopHeaderWrapper:23,DesktopLayout:23,DesktopPluginLayout:23,DesktopReactVerticalSearchHeader:23,DesktopSidebar:23,ExtBannerState:23,HintState:23,ImagesSearchState:23,InternetCards:23,InternetImagesState:23,MetaState:23,Metrika:23,NotificationCenter:23,ObjectAnswerSuggestSource:23,PageVisibilityState:23,Planner:23,PluginMessageBus:23,Redux:23,ReduxState:23,RouterState:23,SidebarState:23,Translate:23,User:23,YandexImagesSuggestSource:23},Dp=[xp(function(){return n.e(33).then(n.bind(null,"q6G8"))}),xp(function(){return n.e(18).then(n.bind(null,"AFYO"))}),xp(function(){return n.e(3).then(n.bind(null,"Tu1a"))}),xp(function(){return n.e(38).then(n.bind(null,"5lHP"))}),xp(function(){return n.e(16).then(n.bind(null,"xVDu"))}),xp(function(){return n.e(5).then(n.bind(null,"WLVO"))}),xp(function(){return n.e(2).then(n.t.bind(null,"FdYH",7))}),xp(function(){return n.e(41).then(n.bind(null,"rlNT"))}),xp(function(){return n.e(17).then(n.bind(null,"czAj"))}),xp(function(){return n.e(20).then(n.bind(null,"65wu"))}),xp(function(){return n.e(8).then(n.bind(null,"EV4Y"))}),xp(function(){return n.e(9).then(n.bind(null,"czz9"))}),xp(function(){return n.e(32).then(n.bind(null,"+P6d"))}),xp(function(){return n.e(37).then(n.bind(null,"X1e8"))}),xp(function(){return n.e(31).then(n.bind(null,"0FbO"))}),xp(function(){return n.e(14).then(n.bind(null,"fXWo"))}),xp(function(){return n.e(36).then(n.bind(null,"BZWl"))}),xp(function(){return n.e(7).then(n.bind(null,"2vW1"))}),xp(function(){return n.e(6).then(n.bind(null,"YCmn"))}),xp(function(){return n.e(4).then(n.bind(null,"ERHI"))}),xp(function(){return n.e(19).then(n.bind(null,"fxD2"))}),xp(function(){return n.e(35).then(n.bind(null,"ZLoO"))}),xp(function(){return n.e(30).then(n.bind(null,"nAVn"))}),function(t){return d[t]}],Pp=[function(t){var e=Dp[Ip[t]];if(e)return e(t)}],Lp={"/collections/":"main","/collections/feed/":"feed","/collections/user/":"myProfile","/collections/user/:login/":"profile","/collections/user/:login/_feed/":"profileFeed","/collections/user/:login/_cards/":"cards","/collections/user/:login/_followings/":"followingsUsers","/collections/user/:login/_followings/boards/":"followingsBoards","/collections/user/:login/_followings/channels/":"followingsChannels","/collections/user/:login/_followers/":"followers","/collections/user/:login/_bookmarks-sync/":"boardBookmarksSync","/collections/user/:login/:slug/":"board","/collections/user/:login/:slug/geo/":"geoBoard","/collections/user/:login/:slug/_followers/":"boardFollowers","/collections/card/:id/":"card","/collections/card/:id/comments/":"comments","/gorsel/pad/":"gorselPad","/images/pad/":"imagesPad","/gorsel/smart/":"gorselSmart","/images/smart/":"imagesSmart","/gorsel/touch/":"gorselTouch","/images/touch/":"imagesTouch","/gorsel/":"gorselDesktop","/images/":"imagesDesktop","/collections/search/":"search","/collections/search/boards/":"searchBoards","/collections/channel/:id/":"channel","/collections/favorites-:type/":"favoritesType","/collections/underside/":"underside","/collections/:id/search/":"verticalSearch","/collections/contests/":"contests","/collections/contest/photo-of-the-day/":"dailyPhoto","/collections/contest/:id/":"contest","/collections/rating/users/":"ratingUsers","/collections/rating/about/":"ratingAbout","/collections/plugin/success/":"pluginSuccess","/collections/embed/":"embed","/collections/share/":"share","/collections/retpath/":"retpath","/collections/add/":"addFlow","/collections/app/add/":"addFlowApp","/collections/bro/add/":"addFlowBro","/collections/verification-by-number/":"verificationByNumber","/collections/:slug/":"verticalFeed","/offline/":"offline","/collections/_/offline/":"publicOffline","/any/":"errorNotFound","*path":"errorNotFound"},Np={home:"main",contestVote:"contest",profileFeed:"feed",imagesTouch:"feed",imagesDesktop:"feed",imagesPad:"feed",imagesSmart:"feed",gorselTouch:"feed",gorselDesktop:"feed",gorselPad:"feed",gorselSmart:"feed",addFlowApp:"addFlow",publicOffline:"offline",appFeed:"feed",appTheFeed:"feed",broTheFeed:"broFeed"},Ap={main:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"MainSection",sidebar:"DesktopSidebar"}]}],feed:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"ReactFeedSection",sidebar:"DesktopSidebar"}]}],myProfile:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"ProfileSection",sidebar:"DesktopSidebar"}]}],profile:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"ProfileSection",sidebar:"DesktopSidebar"}]}],cards:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"ProfileSection",sidebar:"DesktopSidebar"}]}],followingsUsers:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"ProfileSection",sidebar:"DesktopSidebar"}]}],followingsBoards:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"ProfileSection",sidebar:"DesktopSidebar"}]}],followingsChannels:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"ProfileSection",sidebar:"DesktopSidebar"}]}],followers:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"ProfileSection",sidebar:"DesktopSidebar"}]}],boardBookmarksSync:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"ProfileSection",sidebar:"DesktopSidebar"}]}],board:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"ReactBoardSection",sidebar:"DesktopBoardSidebar"}]}],boardFollowers:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"ReactBoardSection",sidebar:"DesktopBoardSidebar"}]}],card:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",sidebar:"DesktopSidebar"}]}],search:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"SearchCardsSection",sidebar:"DesktopSidebar"}]}],searchBoards:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"DesktopSearchSection",sidebar:"DesktopSidebar"}]}],channel:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"ChannelSection",sidebar:"DesktopSidebar"}]}],favoritesType:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"ReactFavoritesSection",sidebar:"DesktopSidebar"}]}],verticalSearch:["Page",{title:"BaseTitle",content:["Layout",{header:"DesktopReactVerticalSearchHeader",section:"ReactVerticalSearchSection",sidebar:"DesktopSidebar"}]}],contests:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"ContestsSection",sidebar:"DesktopSidebar"}]}],dailyPhoto:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"DesktopContestSection",sidebar:"DesktopSidebar"}]}],contest:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"DesktopContestSection",sidebar:"DesktopSidebar"}]}],ratingUsers:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"ReactRatingUsersSection",sidebar:"DesktopSidebar"}]}],ratingAbout:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"ReactRatingAboutSection",sidebar:"DesktopSidebar"}]}],pluginSuccess:["Page",{title:"BaseTitle",content:["LayoutPlugin",{header:"Header",section:"DesktopPluginSuccessSection",sidebar:"DesktopSidebar"}]}],embed:["Page",{title:"BaseTitle",content:["EmbedLayout",{sidebar:"DesktopEmbedSidebar"}]}],share:["SharePage",{title:"BaseTitle",content:["ShareLayout",{sidebar:"DesktopShareSidebar"}]}],retpath:["Page",{content:"BaseRetpath"}],addFlow:["Page",{title:"BaseTitle",content:"AddFlowLayout"}],addFlowBro:["Page",{title:"BaseTitle",content:"AddFlowLayout"}],verticalFeed:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"ReactFeedSection",sidebar:"DesktopSidebar"}]}],offline:["Page",{title:"BaseTitle",content:["Layout",{header:"Header"}]}],errorNotFound:["Page",{title:"BaseTitle",content:["Layout",{header:"Header",section:"BaseNotFoundContent",sidebar:"DesktopSidebar"}]}]},Bp={Page:["DesktopBasePage",{baseState:"BaseState",router:"router",translate:"translate",env:"env",notificationCenter:"NotificationCenter",currentUserState:"CurrentUserState",metrika:"Metrika",countersCenter:"CountersCenter",metaState:"MetaState",pageVisibilityState:"PageVisibilityState",redux:"redux"}],BaseState:{env:"env",currentUser:"currentUser",routerState:"RouterState",cardPopupState:"CardPopupState"},env:"Env",translate:"Translate",Planner:"Planner",Env:["ClientEnv",{translateAdapter:"translate",planner:"Planner"}],currentUser:"User.auth#updateAuth",request:["ClientRequest",{logger:"networkLogger",env:"env"}],networkLogger:"ClientLogger.networkFactory",ClientLoggerWriter:"ClientLoggerWriter",ClientLogger:{env:"env",writer:"ClientLoggerWriter"},User:{request:"request",env:"env"},RouterState:{router:"router",env:"env"},router:["ClientRouter",{env:"env"}],CardPopupState:{request:"request",card:"currentCard",routerState:"RouterState",internetImagesState:"SeriesInternetImagesState",env:"env",pluginMessageBus:"pluginMessageBus",similarCards:"CardPopupState/similarCards",comments:"CardPopupState/comments",sidebarState:"SidebarState"},currentCard:["Card#updateCurrentCard",{env:"env"}],Card:{request:"request"},SeriesInternetImagesState:["internetImagesState",{cards:"SeriesInternetCards"}],SeriesInternetCards:["InternetCards",{request:"request",env:"env"}],internetImagesState:["InternetImagesState",{request:"request",env:"env"}],pluginMessageBus:"PluginMessageBus","CardPopupState/similarCards":["Cards#updateDependenciesSimilarCards",{request:"request",card:"currentCard"}],Cards:{request:"request"},"CardPopupState/comments":["CardComments#updateDependenciesForCard",{request:"request",card:"currentCard"}],SidebarState:{userBoards:"sidebarUserBoards",internetImagesState:"SidebarInternetImagesState",pluginMessageBus:"pluginMessageBus",routerState:"RouterState",request:"request",env:"env"},sidebarUserBoards:"lazyCurrentUserBoards",lazyCurrentUserBoards:["Boards",{currentUser:"currentUser",env:"env",request:"request"}],Boards:{request:"request"},SidebarInternetImagesState:["internetImagesState",{cards:"SidebarInternetCards"}],SidebarInternetCards:["InternetCards",{request:"request",env:"env"}],NotificationCenter:{env:"env",routerState:"RouterState",currentUser:"currentUser"},CurrentUserState:{currentUser:"currentUser"},Metrika:{request:"request",env:"env",currentUser:"currentUser"},CountersCenter:{env:"env"},MetaState:{env:"env"},PageVisibilityState:"PageVisibilityState",redux:["Redux",{reduxState:"ReduxState"}],ReduxState:{env:"env",apphost:"apphost"},apphost:"AppHost",AppHost:["ClientAppHost",{request:"request"}],BaseTitle:{cardPopupState:"CardPopupState",metaState:"MetaState",notificationCenter:"NotificationCenter",env:"env"},Layout:["DesktopLayout",{currentUser:"currentUser",hintState:"HintState",baseState:"BaseState",cardPopupState:"CardPopupState",sidebarState:"SidebarState",env:"env",metaState:"MetaState"}],HintState:{env:"env",routerState:"RouterState"},Header:["DesktopHeaderWrapper",{env:"env",redux:"redux"}],MainSection:{redux:"redux"},DesktopSidebar:{model:"SidebarState",env:"env"},ReactFeedSection:["DesktopReactFeedSection",{redux:"redux"}],ProfileSection:{env:"env",redux:"redux"},ReactBoardSection:{redux:"redux",baseState:"BaseState",env:"env"},DesktopBoardSidebar:"DesktopSidebar",SearchCardsSection:{redux:"redux"},DesktopSearchSection:{redux:"redux"},ChannelSection:{redux:"redux",env:"env"},ReactFavoritesSection:{redux:"redux",env:"env"},ReactVerticalSearchSection:["DesktopReactVerticalSearchSection",{redux:"redux"}],ContestsSection:{env:"env",redux:"redux"},DesktopContestSection:{redux:"redux"},ReactRatingUsersSection:["DesktopReactRatingUsersSection",{redux:"redux"}],ReactRatingAboutSection:["DesktopReactRatingAboutSection",{redux:"redux"}],LayoutPlugin:["DesktopPluginLayout",{currentUser:"currentUser",hintState:"HintState",baseState:"BaseState",cardPopupState:"CardPopupState",sidebarState:"SidebarState",env:"env",metaState:"MetaState",notificationCenter:"NotificationCenter"}],DesktopPluginSuccessSection:{env:"env",redux:"redux"},EmbedLayout:{sidebarState:"EmbedSidebarState",internetImagesState:"SidebarInternetImagesState",env:"env"},EmbedSidebarState:{userBoards:"sidebarUserBoards",pluginMessageBus:"pluginMessageBus",internetImagesState:"SidebarInternetImagesState",embedImages:"embedImages",routerState:"RouterState",request:"request",env:"env",loggerWriter:"ClientLoggerWriter"},embedImages:["EmbedImages",{pluginMessageBus:"pluginMessageBus"}],DesktopEmbedSidebar:{model:"EmbedSidebarState",pageVisibilityState:"PageVisibilityState",env:"env"},SharePage:["!Page",{static:{share:!0}}],ShareLayout:["DesktopShareLayout",{sidebarState:"ShareSidebarState",env:"env"}],ShareSidebarState:{userBoards:"sidebarUserBoards",internetImagesState:"ShareSidebarInternetImagesState",pluginMessageBus:"pluginMessageBus",routerState:"RouterState",request:"request",env:"env"},ShareSidebarInternetImagesState:"SidebarInternetImagesState",DesktopShareSidebar:{model:"ShareSidebarState",env:"env",static:{isShareLayout:!0}},BaseRetpath:{routerState:"RouterState",env:"env"},AddFlowLayout:{redux:"redux",reduxBus:"reduxBus"},reduxBus:["ReduxBus",{bus:["PluginMessageBus.factoryModal",{static:{eventName:"pdb-add-card"}}],redux:"redux"}],"reduxBus/bus":["PluginMessageBus.factoryModal",{static:{eventName:"pdb-add-card"}}],BaseNotFoundContent:{redux:"redux"},application:"ClientApplication",response:["ClientResponse",{router:"router"}],errorLogger:"ClientLogger.errorFactory",CollectionsSearchState:{env:"env"},resizer:"ImageResizer",micModal:["MicModal.show",{env:"env",model:"ImagesSearchState",pageVisibilityState:"PageVisibilityState"}],ImagesSearchState:{env:"env"},micCollectionsModal:["MicModal.show",{env:"env",model:"CollectionsSearchState",pageVisibilityState:"PageVisibilityState"}],ContestBallotsCards:{request:"request"},CardCreateStrategy:{env:"env"},CardCreateGuestStrategy:{env:"env",request:"request",cardCreate:"CardCreateStrategy"},CardShareStrategy:{cardCreate:"CardCreateStrategy",cardCreateToBoard:"CardCreateToBoardStrategy"},CardCreateToBoardStrategy:{request:"request",cardCreate:"CardCreateStrategy"},CardReceiveShareBusCardStrategy:{env:"env",request:"request",currentUser:"currentUser",bus:"CardReceiveShareBusCardStrategy/bus",contentStrategy:"CardCreateContentStrategy",imageStrategy:"CommonImageInfoStrategy"},"CardReceiveShareBusCardStrategy/bus":["PluginMessageBus.factoryModal",{static:{eventName:"pdb-add-card"}}],CardCreateContentStrategy:{request:"request"},CommonImageInfoStrategy:{},CardChangeBoardStrategy:{request:"request",cardPopupState:"CardPopupState"},CardEditStrategy:{env:"env",cardCreate:"CardCreateStrategy"},CardsFetchFromFilesStrategy:{env:"env",cardContent:"CardCreateContentStrategy"},CardsFetchFromQueryStrategy:{request:"request"},CardsFetchFromHtmlStrategy:{},CardAddContentStrategy:{notificationCenter:"NotificationCenter"},CardContextStrategy:{},BoardSaveStrategy:{},BoardSuggestNameStrategy:{request:"request"},BoardsRefetchStrategy:{userBoards:"sidebarUserBoards"},HintSidebarStrategy:{},BoardToReduxStrategy:{},CardToReduxStrategy:{},CardSetCurrentCardToReduxStrategy:{},CardRemoveStrategy:{},CardRemoveFromFeedToReduxStrategy:{},CardRemoveFromContestReduxStrategy:{},toponymsSuggestSource:["CatalogToponymsSuggestSource",{env:"env"}],objectAnswerSuggestSource:["ObjectAnswerSuggestSource",{request:"request"}],organizationsSuggestSource:["CatalogOrganizationsSuggestSource",{env:"env"}],yandexImagesSuggestSource:["YandexImagesSuggestSource",{request:"request"}],ExtBannerState:{env:"env",sidebarState:"SidebarState"}};Rp=h,new Promise(function(t,e){document.addEventListener("DOMContentLoaded",function(){setTimeout(function(){var n=function(t){var e=document.querySelector("#restoreData"),n=e?Object(m.a)(e.textContent):null;return n&&(Object.assign(t.dependencies,n.dependencies),Object.assign(t,{restoreData:n})),t}(Rp);n.factories=[_(n.restoreData.di),Object(g.d)(),Object(g.c)()];var r=Object(g.b)(n),i=!1,o=!1,a=n.restoreData.rebaseUrl;return 0===a.indexOf("/offline/")?(i=!0,v("/collections/web-api/client-metrics/",{target:"client-offline-bootstrap"})):0===a.indexOf("/any/")?o=!0:0===a.indexOf("/images/")||0===a.indexOf("/gorsel/")||a.match(/\/collections\/(app|bro\/)?add\//)||-1!==location.href.indexOf(a)||history.replaceState(void 0,"",a),function(t,e){return Promise.resolve(t("application",Object.assign({di:t},e))).then(function(t){return t.start()})}(r,{config:n,isOffline:i,isNotFound:o}).catch(function(t){console.error(t)}).then(function(){b=!1}).then(t,e)})})})},MBmZ:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("RvyH"),i=n("y6Xm"),o=n("/Epz"),a=Object(o.a)(r.a,Object(i.a)("overflow",!1))},MKfg:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("VbXa"),i=n.n(r),o=n("mdRN"),a=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.events=function(){var t,e=this.getOption("ui"),n=this.getOption("event");return(t={})["string"==typeof e?n+" @ui."+e:n]="_onAction",t},n._onAction=function(t){var e=this.getOption("model")||this.view.model,n=this.getOption("method")||this.view.getOption("method");this.getOption("preventDefault")&&t.preventDefault(),this.getOption("stopPropagation")&&t.stopPropagation(),"function"==typeof n?n():e[n]()},e}(n("jOGB").a);Object(o.a)({defaults:{event:"click",preventDefault:!0,stopPropagation:!1}})(a)},MMez:function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r,i=n("PExD"),o=n("7z6F"),a=n("RoKP"),s=n("om3R"),c=n("WiFc"),u=n("lc+m"),l=n("rT8E"),d=n("oBAa"),h=n("lpMR"),f=n("i1uP"),p=n("izju"),g=n("LYkV"),m=((r={})[p.a.FILM]=g.film(),r[p.a.IMAGE]=g.image(),r[p.a.LINK]=g.link(),r[p.a.SERIES]=g.series(),r[p.a.VIDEO]=g.video(),r),v=Object(f.a)(u.a,function(t){if(t){var e=Object(d.a)(t),n=Object(s.a)(t),r=Object(l.a)(n),u=Object(h.a)(n),f=r===p.a.LINK,g=Object(o.a)(t),v=Object(c.a)(t),b=g;return u?b=v||g:f?b=e?g||v:v||g:t.recipe?b=t.recipe.name:t.object_answer?b=t.object_answer.title:t.market?b=Object(a.a)(t.market):t.organization&&(b=t.organization.name),Object(i.b)(b)||r&&m[r]||""}})},MMtT:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("6ga4"),s=n("2Y2+"),c=n("Ckfx");function u(t){var e=t.mods,n=t.icon,r=t.iconMods,u=t.iconModsChecked,l=t.showLabel,d=void 0===l||l,h=t.showCheckLabel,f=t.subValue,p=t.isSubscribed,g=t.onClick,m=e&&e.ei,v=Object(a.a)("button",i()({size:"M",type:"action",follow:!0,state:!!p&&"check"},e));return o.createElement("button",{className:v,onClick:g},(n||!m)&&o.createElement("span",{className:Object(a.a)("button__icon",p?u:r)}),d?o.createElement("span",{className:"button__label"},o.createElement("span",{className:"button__label-text"},p?c.unsubscribe():c.subscribe()),(!m||h)&&o.createElement("span",{className:"button__label-check"},c.unsubscribeAction()),Boolean(f)&&o.createElement("span",{className:"button__label-value"},Object(s.a)(f))):Boolean(f)&&o.createElement("span",{className:"button__value"},Object(s.a)(f)))}},MOz0:function(t,e,n){"use strict";n("Faot");var r=n("Jq38");e.a=r.a.applyDecls()},MTjZ:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("NuA5"),i=n("IWXk"),o=Object(r.a)("user",i.a);function a(t){return o(t)||t&&t.user}},"Ml+Q":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("POJF"),i=n("W+cT");function o(t,e){if(Object(r.a)(t,e)){var n=Object(i.a)(t,e);return!(n&&n.length)}return!1}},MlGB:function(t,e,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("4RqY"),c=n("ukm6"),u=n("NFKc"),l=Object(u.a)("router",function(t,e){return t.getPopHandler().closeByUser(e)}),d=n("1WnH"),h=n("BKHA"),f=n("QodL");n.d(e,"a",function(){return p});var p=Object(s.a)(function(){var t=a()(i.a.mark(function t(e,n){var r,o,a,s,u;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.di,r=n.dispatch,o=n.getState,a=o(),s=Object(h.a)(a),u=Object(c.a)(a).modal,!(s.cards&&s.cards.length>0)){t.next=6;break}return t.abrupt("return",r(Object(d.a)({type:f.a.BULK,id:"modal_bulk",animationType:"none",spinnerType:"modal",options:{back:!0}})));case 6:if(!(u&&u.key&&u.type)){t.next=11;break}return t.next=9,r(l({id:u.key,prefix:u.type}));case 9:t.sent&&r(Object(d.a)(null));case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},Mycy:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("cDcd"),i=n("JxqJ"),o=n("YAwY"),a=n("feaw"),s=n("YFOV"),c=n("0MRR"),u=Object(i.a)(function(t,e){var n=e.id,r=e.stateKey,i=e.format,o=Object(s.a)(r)(t,n);return{preview:o&&Object(a.a)(o,i)}})(function(t){var e=t.srcSize,n=void 0===e?"orig":e,i=t.srcSetSize,a=t.count,s=t.preview,u=a?Math.max(0,a-3):0,l=function(t){if(s&&t)return Object(o.a)(s,{size:t,serverTeaser:!0})};return r.createElement(r.Fragment,null,r.createElement(c.a,{mod:"teaser-single-grid",src:l(n),srcSet:l(i)}),u>0&&r.createElement("div",{className:"cl-teaser__picture-stat"},r.createElement("span",{className:"cl-teaser__picture-count"},u)))})},N4H6:function(t,e,n){"use strict";var r=n("VbXa"),i=n.n(r),o=n("bmsa"),a=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){a=!0}}))}catch(t){}var s=n("cJ2g"),c=n("mdRN"),u=n("c+Ap"),l=function(t,e){return t[t[e="EXPANDED"]="EXPANDED"]=e,t[t[e="COLLAPSED"]="COLLAPSED"]=e,t[t[e="HIDDEN"]="HIDDEN"]=e,t[t[e="CHANGING"]="CHANGING"]=e,t[t[e="GOING_TO_COLLAPSE"]="GOING_TO_COLLAPSE"]=e,t[t[e="GOING_TO_EXPAND"]="GOING_TO_EXPAND"]=e,t[t[e="GOING_TO_HIDE"]="GOING_TO_HIDE"]=e,t}({}),d=n("Fe8d"),h=n("Oaat");function f(){var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var r=n.offsetWidth;return t.parentNode.removeChild(t),e-r}n.d(e,"a",function(){return g});var p={"max-age":31536e3,expires:new Date(Date.now()+31536e3).toUTCString()},g=(l.EXPANDED,l.COLLAPSED,l.HIDDEN,function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.initialize=function(t){var e=t.env;this.env=e;var n=!a||{passive:!0};window.addEventListener("scroll",this.onScroll.bind(this),n),window.addEventListener("resize",this.onResize.bind(this),n),this.scrollToInProgress=!1,this.set({width:Number(e.getCookie("cpw")),height:Number(e.getCookie("cph")),scrollWidth:Number(e.getCookie("csw"))}),this.on("change:width",this.saveWidth),this.on("change:height",this.saveHeight),this.on("change:scrollWidth",this.saveScroll),this.set({scrollWidth:f(),scrollTop:this.getForceScrollTop()}),this.savePixelRatio(),this.onResize()},n.onScroll=function(){this.set("scrollTop",this.getForceScrollTop()),this.onChangeScrollTop()},n.onResize=function(){this.set({width:this.getForceWindowWidth(),height:this.getForceWindowHeight()}),this.trigger("resize")},n.getWindowWidth=function(){return this.get("width")},n.getWindowHeight=function(){return this.get("height")},n.getScrollWidth=function(){return this.get("scrollWidth")},n.getScrollTop=function(){return this.get("scrollTop")},n.getPixelRatio=function(){return window.devicePixelRatio},n.scrollTo=function(t,e,n){var r=this;if(n){this.scrollToInProgress=!0;var i=document,o=i.body,a=i.documentElement,s=o.scrollTop,c=o.scrollLeft,u=a.scrollTop,l=a.scrollLeft;Object(d.a)({step:function(n){o.scrollTop=e+(s-e)*(1-n),o.scrollLeft=t+(c-t)*(1-n),a.scrollTop=e+(u-e)*(1-n),a.scrollLeft=t+(l-t)*(1-n)}}).then(function(){return n.complete&&n.complete(),Object(h.a)(100)}).then(function(){return r.scrollToInProgress=!1})}else this.scrollToInProgress=!0,window.scrollTo(t,e),this.scrollToInProgress=!1},n.isScrollToInProgress=function(){return this.scrollToInProgress},n.scrollToTop=function(){this.scrollTo(0,0)},n.isScrolling=function(){return this.get("isScrolling")},n.getForceScrollTop=function(){return document.body.scrollTop||document.documentElement.scrollTop},n.getForceWindowHeight=function(){return document.body.clientHeight},n.getForceWindowWidth=function(){var t=u.U;return Math.max(t,window.innerWidth)},n.saveWidth=function(){this.env.setCookie("cpw",this.getWindowWidth(),p)},n.saveHeight=function(){this.env.setCookie("cph",this.getWindowHeight(),p)},n.saveScroll=function(){this.env.setCookie("csw",this.getScrollWidth(),p)},n.savePixelRatio=function(){this.env.setCookie("cpr",this.getPixelRatio(),p)},e.factory=function(t){if(!this.instance){if(!t)throw new Error("State is not ready");this.instance=new e(t)}return this.instance},e}(o.a));Object(c.a)(s.a)(g)},"N7+n":function(t,e,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("JxqJ"),s=n("YAwY"),c=n("2Y2+"),u=n("6ga4"),l=n("EgTM"),d=n("yRgj"),h=n("c+Ap"),f=n("o0o1"),p=n.n(f),g=n("yXPU"),m=n.n(g),v=n("NFKc"),b=n("73/6"),_=n("9qcP"),y=n("V8C4"),C="/collections/api/recommender/hidden_list/",O=Object(v.a)("request",function(){var t=m()(p.a.mark(function t(e,n,r){var o,a,s,c,u,d,h,f;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.channelId,a=n.counter,s=r.dispatch,c=r.getState,u=Object(l.a)(c(),o)){t.next=5;break}throw new Error("Cannot find channel with id "+o);case 5:return d=Boolean(u.hide_recommedation),h=i()({channelSlug:u.slug,recId:u.recommendations_id},a),y.d.clickChannelHide(h),s(Object(b.a)({id:o,value:{hide_recommedation:!d}})),f={"channel.slug":u.slug},t.prev=10,t.next=13,d?e.del(C,f):e.post(C,f);case 13:d||y.d.finishChannelHide(h),t.next=21;break;case 16:throw t.prev=16,t.t0=t.catch(10),s(Object(b.a)({id:o,value:{hide_recommedation:d}})),_.a.factory().showXHRMessage(t.t0),t.t0;case 21:case"end":return t.stop()}},t,this,[[10,16]])}));return function(){return t.apply(this,arguments)}}()),S=n("H0hN"),w=n("5/dx"),E=n("0MRR"),k=n("hyoc"),j=n("EC4j"),T=n("SAMx"),x=n("W/pO"),R=n("45c2");n.d(e,"a",function(){return I});var I=Object(a.a)(function(t,e){var n=e.channelId;if(!n)return{};var r=Object(l.a)(t,n);return{channel:r,hidden:Boolean(r&&r.hide_recommedation)}})(function(t,e){var n=t.fixed,r=t.mini,a=t.statical,l=t.showComplain,f=t.showStat,p=t.itemRef,g=t.channel,m=t.hidden,v=t.dispatch,b=e.counter;if(r&&(n=!1),!g){var _=o.createElement(x.a,{mod:"channel-teaser",mods:{fixed:n,mini:r,stat:f},category:!r,title:!0,desc:!r&&f});return o.createElement(w.a,{mod:"channel",mods:{placeholder:!0,fixed:n,mini:r},picture:!0,footer:_,itemRef:p})}g.stat&&g.stat.subscribers_count>=h.i&&(f=!0);var y=Object(d.a)(g),C=!a&&o.createElement(k.a,{mods:{ei:!0,shadow:n,shape:"round"},subValue:g.stat.subscribers_count,id:g.id,storeKey:"channels"}),I=l&&o.createElement("div",{className:"cl-teaser__action"},o.createElement(j.a,{mods:{type:"clear","icon-only":!0,"action-close":[!0,"invert"]},icon:!0,onClick:function(){v(O({channelId:g.id,counter:b}))}}));return o.createElement(w.a,{mod:"channel",mods:{fixed:n,mini:r,hidden:m},picture:o.createElement(E.a,{mod:"teaser",src:Object(s.a)(g.images.size1x2,{size:r?"240x180":"360x270",forceProd:a})}),footer:o.createElement(T.a,{mod:"channel-teaser",mods:{fixed:n,mini:r,stat:f}},!r&&g.verticals&&o.createElement("ul",{className:Object(u.a)("dot-list",{size:"S",teaser:!0,fixed:!0})},o.createElement("li",{className:"dot-list__item"},o.createElement("span",{className:"dot-list__text"},y))),o.createElement("h3",{className:"cl-teaser-info__title"},g.title),!r&&f&&o.createElement("p",{className:"cl-teaser-info__desc"},R.followers({count:Object(c.a)(g.stat.subscribers_count)}))),ctrl:!r&&!a&&C,itemRef:p,linkFactory:function(t){return o.createElement(S.a,i()({channelId:g.id},t))}},I)})},N98e:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return d});var r,i=n("SQy1"),o=n("y/M8"),a=n("bmsa"),s=n("t0kG");function c(t,e){return function(t){var e=t.title,n=t.text,o=t.cancelLabel,s=t.acceptLabel,c=(r||(r=new a.a),r);return new Promise(function(t){c.accept=function(){return t(!0)},c.cancel=function(){return t(!1)},i.a.show({title:e,text:n,buttons:[{model:c,method:"cancel",label:o,size:"L",max:!0},{model:c,method:"accept",label:s,size:"L",type:"action"}]})}).then(function(t){return c.cancel=c.accept=void 0,t})}({title:t.translate(o["title"+e]),text:t.translate(o["description"+e]),cancelLabel:t.translate(o.cancel),acceptLabel:t.translate(o["submit"+e])})}var u=function(t,e){return function(n){return n&&t.invokeStrategy(s.a.CardRemoveFromContestReduxStrategy,{card:e}).catch(function(t){return console.log(t)}),n}};function l(t,e){return c(t,"MoveToPrivate").then(u(t,e))}function d(t,e){return c(t,"EditImages").then(u(t,e))}},NCyV:function(t,e,n){"use strict";var r=n("Ogzi");e.a=r.a.applyDecls()},NDfO:function(t,e,n){"use strict";function r(t,e,n){var r=[t];return e.forEach(function(e){n[e]&&("string"==typeof n[e]?r.push(t+"_"+e+"_"+n[e]):n[e]&&r.push(t+"_"+e))},this),n.class&&r.push(n.class),r.join(" ")}n.d(e,"a",function(){return r})},NFKc:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("4RqY");function i(t,e){return Object(r.a)(function(n,r){return Promise.resolve().then(function(){return r.di(t)}).then(function(t){return e(t,n,r)})})}},NFi3:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("9yiq");function i(t,e,n,i){var o=[t,e].join(",");return"/maps/?"+Object(r.a)({ll:o,"whatshere[point]":o,z:i,mode:"route",text:n})}},NVra:function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r,i=n("pVnL"),o=n.n(i),a=n("ICaW"),s=n("c+Ap"),c=n("G7p/"),u=n("x9gI"),l={};function d(t){r.then(function(e){return t(e)})}function h(){d(function(t){t.hit(location.href)})}function f(t,e){void 0===e&&(e={}),l[t]=(l[t]||r).then(function(){return new Promise(function(n){d(function(r){r.reachGoal(t,e),setTimeout(n,1100)})})})}function p(t,e){void 0===e&&(e={});var n={title:document.title,params:e};d(function(e){return e.extLink(t,n)})}function g(t,e){var n=window;return r||(r=new Promise(function(r){var i=Object(u.a)(t,a.a.METRIKA_WEBVISOR);function l(){var t=new n.Ya.Metrika(o()({id:s.ob,clickmap:i,trackLinks:!0,accurateTrackBounce:!0,webvisor:i,trackHash:!0,tns:{account:"yandex_ru",tmsec:"yandex_collections"}},e));r(t)}n.Ya&&n.Ya.Metrika?Object(c.a)(function(){return l()}):document.addEventListener("yaMetrikaScriptLoaded",l)})),{onLoad:d,hitAccess:h,reachGoal:f,extLink:p}}},NZ40:function(t,e,n){"use strict";var r=n("+qwI");e.a=r.a.applyDecls()},NlQh:function(t,e,n){"use strict";n("yHZp"),n("z1sr"),n("bOlj"),n("ti+i"),n("846a");var r=n("Nvyz");e.a=r.a.applyDecls()},NpBQ:function(t,e,n){"use strict";n.d(e,"a",function(){return w});var r=n("pVnL"),i=n.n(r),o=n("VbXa"),a=n.n(o),s=n("EVdn"),c=n("Y+Td"),u=n("NDfO"),l=n("mdRN"),d=n("G7lA"),h=n("smvh"),f=n("U60d"),p=n("7zaA"),g=n("8yzE"),m=n("c+Ap"),v=n("RQkB"),b=n("V8C4"),_=n("UJ4k"),y=0,C=h.c.channel("global.modal").commands,O=h.c.channel("global.modal.embed").commands,S=h.c.channel("global.modal"),w=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).handleBack=!0,e}a()(e,t);var n=e.prototype;return n.initialize=function(){var t=this.getOption("channel");this.options=Object.assign({},{showEvent:"show",hideEvent:"hide",toggleEvent:"toggle",hideScroll:!1},this.options),this.getOption("hideScroll")&&(this.$body=s("body")),!1!==t&&this._mapEvents({showEvent:"toggle:show",hideEvent:"toggle:hide",toggleEvent:"toggle"}),Object(g.c)(this,m.I.ESCAPE,this.onEscape,{priority:100}),this.handleBack=this.options.handleBack},n.className=function(){return Object(u.a)("modal modal_state_hidden",["overlay"],this.options)},n.attributes=function(){return this.options.id||(this.options.id="modal_"+Number(++y).toString(36)),{id:String(this.options.id)}},n._mapEvents=function(t){var e=this;Object(c.forEach)(t,function(t,n){e._mapEvent(n,t)})},n._mapEvent=function(t,e){var n=this.getOption(t),r=this.getOption("channel")||S.vent;n&&r&&this.listenTo(r,n,this.proxyEvent(e))},n.getId=function(){return this.getOption("id")},n.show=function(){var t=document.activeElement;t&&t.blur(),this.triggerMethod("toggle:show")},n.hide=function(t){this.triggerMethod("toggle:hide",t),t&&this.options.counterParams&&this.isIntact()&&v.a.sendCounter(b.a.clickModalClose,i()({},this.options.counterParams,t)),this.options.destroyOnHide&&this.destroy()},n.toggle=function(){this.triggerMethod("toggle")},n.close=function(t){var e=this;this.hide(t),setTimeout(function(){return e.destroy()},300)},n.onShow=function(){this.env.reduxState&&this.env.dispatch(Object(_.a)({hidePopup:!0})),this.handleBack&&this.listenTo(this.env.router,"change:pop:back",this.onChangePopId)},n.onChangePopId=function(t){t===this.openId&&this.close({method:"back"})},n.onToggleRefresh=function(t){var e=this;clearTimeout(this.timeout),t?this.$el.removeClass("modal_state_hidden").addClass("modal_state_visible"):(this.$el.removeClass("modal_state_visible").addClass("modal_action_close"),this.timeout=setTimeout(function(){e.$el.removeClass("modal_action_close").addClass("modal_state_hidden")},200)),this.getOption("hideScroll")&&this.$body.toggleClass("body-overlay",t)},n.onToggleShow=function(){var t=this.env?this.env.router:void 0;if(t){var e=t.getPopHandler();this.openId=e.openModal("modal")}},n.onToggleHide=function(){this.onCloseByUser(),this.openId="",this.stopListening(this.env.router,"change:pop:back")},n.onCloseByUser=function(){this.env.router.getPopHandler().closeByUser({id:this.openId,prefix:"modal"})},n.onModalClick=function(t){var e=s(t.target);(e.is(this.ui.container)||e.is(this.$el))&&this.hide({method:"overlay"})},n.onCloseClick=function(){this.hide({method:"button"})},n.onEscape=function(){if(!this.isDestroyed)return this.close({method:"esc"}),!1},n.proxyEvent=function(t){return function(e){e?this.getOption("id")===e&&this.triggerMethod(t):this.triggerMethod(t)}},n.serializeData=function(){return i()({},this.options)},e.show=function(t){var e=new this(t);return C.execute("show",e),setTimeout(function(){return e.show()}),e},e.showEmbed=function(t){var e=new this(t);return O.execute("show",e),setTimeout(function(){return e.show()}),e},e}(f.a);Object(l.a)({template:p.a,name:"modal",options:{hideScroll:!0},ui:{container:".modal__backdrop",content:".modal__i",closeModal:".button_close"},modelEvents:{destroy:"hide"},triggers:{"click @ui.closeModal":{event:"closeClick",stopPropagation:!1},"click @ui.content":{event:"content:click",preventDefault:!1,stopPropagation:!1},"touchmove @ui.container":{event:"container:touchmove",stopPropagation:!1}},events:{click:"onModalClick"},behaviors:{Toggle:{behaviorClass:d.a}}})(w)},NsAD:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("EVdn"),i=n("/MON"),o=n("A01R"),a=n("a8Gd"),s=n("n7L5"),c=0;function u(t,e,n){var u=i.a,l=n.view;t||(t="_region"+(c++).toString(36));var d=Boolean("spinner"===n.regionType);n.async&&(u=d?a.a:o.a);var h=l.regionManager.addRegion(t,new u({el:e,parent:l.$el,hash:n.hash}));return(l.isRestored||n.currentView)&&(e&&e.nodeType===Node.COMMENT_NODE||(h.$placeholder=r(Object(s.a)()))),n.currentView?h.quickShow(n.currentView,l,n):e}},NsX6:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("Y+Td");function i(t,e){return t&&null!=e?Object(r.isFunction)(t[e])?t[e]():Object(r.isUndefined)(t[e])?Object(r.isFunction)(t.get)?t.get(e):void 0:t[e]:t}},NuA5:function(t,e,n){"use strict";function r(t,e){return function(n){if(n){var r=n[t];return r?e(n,r.id):void 0}}}n.d(e,"a",function(){return r})},"O/ol":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("YFOV"),i=Object(r.a)("contests")},ODs8:function(t,e,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("4RqY"),l=n("oXfe"),d=n("S7YN"),h=n("gLBg"),f=n("hV2r"),p=n("aGho"),g=n("CHZ4"),m=n("M740"),v=Object(u.a)(function(){var t=c()(i.a.mark(function t(e,n){var r,o,s,c;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.value,o=n.getState,s=n.dispatch,c=o(),t.next=5,s(Object(d.a)({storeKey:"feedRecommendations",reset:{results:[],_index:0},url:"/collections/api/channels/recommendations",query:a()({},Object(m.a)(c,"feedRecommendations"),{type:r})}));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),b=n("ICaW"),_=n("x9gI"),y=";",C="=";function O(t,e){var n=Object.keys(t).filter(function(e){return Boolean(t[e])}).map(function(e){return e+C+t[e]}).join(y);return e?n+y+e:n}var S=n("4MLz");n.d(e,"a",function(){return w});var w=Object(u.a)(function(){var t=c()(i.a.mark(function t(e,n){var r,o,s,c,u,m,y,C;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.value,o=e.onboarding,s=n.getState,n.di,c=n.dispatch,u=s(),!Object(g.a)(u,h.a.MAIN)){t.next=9;break}return m=Object(f.a)(u),y=r&&p.e[r]||"general",C=O({user_interface:"desktop",images_source:Object(_.a)(u,b.a.IMAGE_SOURCE)?"true":void 0},m.rec_flags),t.next=9,Promise.all([c(v({value:r})),c(Object(d.a)({storeKey:"feedCards",url:"/collections/api/user/feed",reset:{results:[]},query:{rec_flags:C,type:y,onboarding:o,page_size:24,seed:m.seed||Object(S.a)()}})),c(Object(l.a)({scrollToTop:!1,payload:a()({},m,{feed:r})}))]);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},ORuK:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("vjVR"),i="Enter";function o(t){return!!t&&(t.key===i||t.keyCode===r.b)}},OWM9:function(t,e,n){"use strict";n.d(e,"a",function(){return w});var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("/bNA"),l=n("V8C4"),d=n("gLBg"),h=n("3lXt"),f=n("k0aB"),p=n("84fb"),g=n("Wopx"),m=n("WLYw"),v=n("MTjZ"),b=n("n73F"),_=n("riXN"),y=n("WXND"),C=n("gQdx"),O=n("4RqY"),S=n("SDCS"),w=Object(O.a)(function(){var t=c()(i.a.mark(function t(e,n){var r,o,s,c,O,w,E,k,j,T,x;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.id,o=e.counter,s=n.di,c=n.dispatch,O=n.getState,!Object(p.a)(O())){t.next=8;break}return w=Object(g.a)(O()),E=Object(m.a)(O(),r),k=Object(v.a)(O()),c(Object(S.a)({place:"unlock_board",retpath:_.a.getRetpathUrl(w,Object(d.d)(k.login,E))})),t.abrupt("return");case 8:if(l.d.finishBoardUnlock(a()({},o,{boardId:r})),j=Object(h.a)(O(),r)){t.next=14;break}return t.next=13,c(Object(y.a)({boardId:r}));case 13:j=Object(h.a)(O(),r);case 14:if(j){t.next=16;break}throw new Error("Board not found with id "+r);case 16:if(j.is_private){t.next=18;break}throw new Error("Board is already unlocked with id "+r);case 18:return c(Object(C.a)({id:r,value:{is_private:!1}})),T=s("request"),t.prev=20,t.next=23,T.patch("/collections/api/boards/"+r,{is_private:!1});case 23:t.next=30;break;case 25:throw t.prev=25,t.t0=t.catch(20),c(Object(C.a)({id:r,value:{is_private:!0}})),u.a.showXHRMessage(t.t0),t.t0;case 30:return x=Object(f.a)(O(),r),b.a.dataFactory(x,{parse:!0}).set({is_private:!1}),t.abrupt("return",!0);case 33:case"end":return t.stop()}},t,this,[[20,25]])}));return function(){return t.apply(this,arguments)}}())},OYDH:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("Wopx"),i=n("/Epz"),o=n("y6Xm"),a=Object(i.a)(r.a,Object(o.a)("contextNonce"))},OZAH:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=2;function i(t,e){return t.length===r?function(n,r){return e(t(n,r))}:function(n){return e(t(n))}}},Oaat:function(t,e,n){"use strict";function r(t){return new Promise(function(e){setTimeout(e,t)})}n.d(e,"a",function(){return r})},Oijh:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("ukm6"),i=n("785c"),o=function(t){var e=Object(r.a)(t)[i.a];return e||(e=Object(r.a)(t)[i.b]),e&&e.point?{loc:e.point.view}:{loc:"none"}}},Opci:function(t,e,n){"use strict";var r=n("pVnL"),i=n.n(r),o="#FFFFFF";var a=n("WNXv");n.d(e,"a",function(){return c});var s="color_wiz_back";function c(t,e){var n=Object(a.a)(t);return function(t,e){var n=i()({defaultColor:o,correction:!1},e);return!t&&n.defaultColor&&(t=n.defaultColor),n.correction&&t&&t.match(/#(F[FE]){3}/)&&(t=o),t||o}(n?n[e&&e.name||s]:void 0,e)}},Ouk0:function(t,e,n){t.exports=n.p+"f/b377.jpg"},OyHf:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"f",function(){return c});var r="0/0-0",i="islands-200";function o(t,e){return void 0===e&&(e=i),"https://yapic.yandex.ru/get/"+encodeURIComponent(t)+"/"+e}function a(t,e){return void 0===t&&(t=r),void 0===e&&(e=i),"https://avatars.mds.yandex.net/get-yapic/"+t+"/"+e}function s(){return a(r,i)}function c(t,e){var n=e&&e.size||i;if(!t)return s();var c=t.login,u=t.default_avatar_id;return u?a(u,n):c?o(c,n):a(r,n)}},"P+Sn":function(t,e,n){"use strict";n("4DsO"),n("2apU"),n("ghMZ"),n("u080");var r=n("YAV3");e.a=r.a.applyDecls()},"P/1b":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("Hxdx"),i=n("LyO5"),o=n("YAwY"),a=n("6huc"),s=n("82Jb");function c(t){var e=Object(i.a)(t),n=Object(o.a)(t,{size:"smart350"});return n&&Object(a.a)(t)!==s.a.PLACEHOLDER?n:e&&e.preview?e.preview:Object(r.a)(t)}},"P7/t":function(t,e,n){"use strict";function r(t,e){return void 0===t&&(t=""),e||console.warn("rootUrl no env",e),e.origin+t}n.d(e,"a",function(){return r})},PExD:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("9EtG"),i=/^[a-z](?:[-a-z0-9\+\.])*:(?:\/\/)|\.(?:jpg|png|jpeg|gif)$/i;function o(t){return t.find(function(t){var e=String(t).trim();return Boolean(t&&e&&!i.test(e))})||""}function a(t){if(t)return Object(r.a)(t).replace(/&nbsp;/g," ").replace(/<\/?br\s*\/*?\s*>/g,"\n")}},PHAn:function(t,e,n){t.exports=n.p+"f/6ec8.jpg"},"PI/7":function(t,e,n){"use strict";var r=n("NiFY");e.a=r.a.applyDecls()},PN4Q:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("WVyS");function i(t,e){var n=[];return e.forEach(function(e){var i=t.find(function(t){return t.id===e});i&&n.push(Object(r.a)(i))}),n}},POJF:function(t,e,n){"use strict";function r(t,e){var n=t&&t[e];return Boolean(n&&!n.next&&!n._loading)}n.d(e,"a",function(){return r})},PSoe:function(t,e,n){"use strict";n.d(e,"e",function(){return r}),n.d(e,"f",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"h",function(){return c}),n.d(e,"g",function(){return u}),n.d(e,"d",function(){return l});var r={ADD_MEDIA:"pdb-add-media",ADD_CARD:"pdb-add-card",CRAWLER_SEARCH_MEDIA:"pdb-crawler-search-media",CRAWLER_INSPECT_IMAGE:"pdb-crawler-inspect-image",CRAWLER_SEARCH_LINK:"pdb-search-link",EMBED_READY:"pdb-ready",ERROR:"pdb-error",CLOSE:"pdb-close",CARD_SAVED:"pdb-card-saved",READY:"pdb-ready",SINGLE_COLUMN:"singleColumn",FULLSCREEN:"fullscreen",POSITION:"topEdge",GET_SETTINGS:"get-settings",SEND_TO_TOP:"send-top-window",SHARE_IMAGE:"pdb-share-image",SHARE_PAGE:"pdb-share-page",NOTIFICATION:"notification"},i={BOARD_CREATE:"board-create"},o={WIDTH:100,HEIGHT:100},a={WIDTH:200,HEIGHT:200},s=/^https?:\/\/([^:\/\?]+)[:\/].+\.gif($|(?:#|\?)*)/,c=/^https?:\/\/([^:\/\?]+)[:\/].+\.svg($|(?:#|\?)*)/,u=/^data:image\/svg\+xml/,l="pdb-ext-installed"},PZSv:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({"label(food,cooking_time__lte,10)":"До 10 хвилин","label(food,cooking_time__lte,20)":"До 20 хвилин","label(food,cooking_time__lte,30)":"До 30 хвилин","label(food,cooking_time__lte,40)":"До 40 хвилин","label(food,cooking_time__lte,50)":"До 50 хвилин","label(food,cooking_time__lte,60)":"До 1 години","label(food,cooking_time__lte,90)":"До 1,5 години","label(food,cooking_time__lte,120)":"До 2 годин","label(food,cooking_time__lte,180)":"До 3 годин","label(food,cooking_time__lte,-1)":"Не обмежено","label(hairstyles,target,woman)":"Жінці","label(hairstyles,target,man)":"Чоловіку","label(hairstyles,target,girl)":"Дівчинці","label(hairstyles,target,boy)":"Хлопчику","label(hairstyles,length,short)":"Коротке","label(hairstyles,length,middle)":"Середнє","label(hairstyles,length,long)":"Довге","label(hairstyles,color,blond)":"Блонд","label(hairstyles,color,brown)":"Коричневий","label(hairstyles,color,brunet)":"Чорний","label(hairstyles,color,grey)":"Попелястий","label(hairstyles,color,creative)":"Незвичний","label(hairstyles,color,ginger)":"Рудий","label(video_games,genres,action)":"Екшн","label(video_games,genres,adventure)":"Пригоди","label(video_games,genres,arcade)":"Аркада","label(video_games,genres,board)":"Настільна","label(video_games,genres,card)":"Карткова","label(video_games,genres,casino)":"Казино","label(video_games,genres,casual)":"Казуальна","label(video_games,genres,dice)":"Гра в кості","label(video_games,genres,educational)":"Навчальна","label(video_games,genres,family)":"Родинна","label(video_games,genres,music)":"Музична","label(video_games,genres,puzzle)":"Головоломка","label(video_games,genres,racing)":"Перегони","label(video_games,genres,role_playing)":"Рольова","label(video_games,genres,simulation)":"Симулятор","label(video_games,genres,sports)":"Спортивна","label(video_games,genres,strategy)":"Стратегія","label(video_games,genres,quest)":"Квест","label(video_games,genres,quiz)":"Вікторина","label(video_games,genres,word)":"Словесна","label(video_games,platforms,android)":"Android","label(video_games,platforms,ios)":"iOS","label(video_games,platforms,windows)":"Windows","label(video_games,platforms,macos)":"macOS","label(video_games,platforms,linux)":"Linux","label(video_games,platforms,xbox)":"Xbox","label(video_games,platforms,playstation)":"Playstation","label(video_games,platforms,nintendo)":"Nintendo","label(video_games,age_limits,6)":"6+","label(video_games,age_limits,12)":"12+","label(video_games,age_limits,16)":"16+","label(video_games,age_limits,18)":"18+","label(video_games,release_year,all)":"Усі","label(video_games,release_year,new)":"Лише новинки","label(video_games,price,all)":"Усі","label(video_games,price,free)":"Безплатні","label(video_games,rating,all)":"Усі","label(video_games,rating,high)":"З високим рейтингом","label(video_games,modes,all)":"Усі","label(video_games,modes,multi)":"Багатокористувацькі ігри","label(interiors,room,balcony)":"Балкон","label(interiors,room,bathroom)":"Ванна","label(interiors,room,bedroom)":"Спальня","label(interiors,room,cabinet)":"Кабінет","label(interiors,room,dining_room)":"Їдальня","label(interiors,room,hallway)":"Коридор / Передпокій","label(interiors,room,kids)":"Дитяча","label(interiors,room,kitchen)":"Кухня","label(interiors,room,living_room)":"Вітальня","label(interiors,room,nursery)":"Дитяча для немовлят","label(interiors,room,toilet)":"Вбиральня","label(interiors,room,wardrobe_room)":"Гардеробна","label(interiors,furniture,armchair)":"Крісла","label(interiors,furniture,bed)":"Ліжка","label(interiors,furniture,bedside_table)":"Тумбочки","label(interiors,furniture,bench)":"Лавки","label(interiors,furniture,chair)":"Стільці","label(interiors,furniture,chest)":"Комоди","label(interiors,furniture,craddle)":"Дитячі ліжка","label(interiors,furniture,drawer)":"Буфети","label(interiors,furniture,hanger)":"Вішаки","label(interiors,furniture,padded_stool)":"Банкетки та пуфи","label(interiors,furniture,rack)":"Стелажі","label(interiors,furniture,shelf)":"Полиці","label(interiors,furniture,sofa)":"Дивани","label(interiors,furniture,table)":"Столи","label(interiors,furniture,wardrobe)":"Шафи"})},PchP:function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"default",function(){return d});var i=n("VbXa"),o=n.n(i),a=n("smvh"),s=n("mdRN"),c=n("U60d"),u=n("rktC"),l=n("9TW5"),d=function(t){return(this&&this.isRestored?l.fr:l.f)([u.a.call(t,"modal",{hash:{},data:{view:this}})])};n.d(e,"a",function(){return p});var h=a.c.channel("global.modal").commands,f=a.c.channel("global.modal.embed").commands,p=function(t){function e(){return t.apply(this,arguments)||this}return o()(e,t),e.prototype.onRender=function(){var t=this,e=this.options.embed?f:h;e.setHandler("show",function(e){t.modal.show(e)}),e.setHandler("hide",function(){if(t.modal){var e=t.modal.currentView;e&&e.hide(),t.modal.empty()}})},e}(c.a);Object(s.a)({template:r})(p)},Pm7h:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lc+m"),i=n("NuA5"),o=Object(i.a)("card",r.a)},Q0CO:function(t,e,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;t.exports=r({boardCannotUnlock:function(t){return"Коллекцию «"+i(t.board_title)+"» нельзя сделать открытой"}})},"Q1O+":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("SiKM");function i(t,e){var n=e.fn,i=e.inverse,o=e.data.view,a=!1;return t&&"object"==typeof t&&!Object(r.isArray)(t)&&(t=Object(r.map)(t,function(t,e){return{value:t,key:e}}),a=!0),t&&t.length?t.map(function(t,e){return a?n.call(o,t.value,{key:t.key}):n.call(o,t,{index:e})}):i?i.call(o,{}):void 0}},Q6yW:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("Y6N5"),i=n("y6Xm"),o=n("RLYd"),a=Object(o.a)(r.a,Object(i.a)("page_url"))},QCEX:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("pVnL"),i=n.n(r),o=n("YU6D").Utils.escapeExpression;function a(t,e){var n=e.data.view,r=n.getEnv().translateAdapter,a=e.hash;return!0===a.escape&&(a=Object.keys(a).reduce(function(t,e){var n=a[e],r=typeof n;return t[e]="string"===r||"object"===r?o(n):n,t},{})),"function"==typeof t?t(i()({hvalanka:n},a)):r.translate(t,i()({hvalanka:n},a))}},QEzC:function(t,e,n){"use strict";var r=n("W8MJ"),i=n.n(r),o=function(){function t(){this._storage=window.localStorage}var e=t.prototype;return e.getItem=function(t){try{return this._storage.getItem("c"+t)}catch(t){return console.error(t),null}},e.setItem=function(t,e){try{this._storage.setItem("c"+t,e)}catch(t){console.error(t)}},e.removeItem=function(t){try{this._storage.removeItem("c"+t)}catch(t){console.error(t)}},e.clear=function(){try{this._storage.clear()}catch(t){console.error(t)}},t.isSupported=function(){try{var t="__ls_test_key_"+Math.ceil(1e3*Math.random())+"__",e=window.localStorage;e.setItem(t,"1"),e.removeItem(t)}catch(t){return!1}return!0},i()(t,[{key:"length",get:function(){return this._storage.length}}]),t}(),a=function(){function t(){this._data={}}var e=t.prototype;return e.getItem=function(t){var e=this._data;return t in e?e[t]:null},e.setItem=function(t,e){this._data[t]=String(e)},e.removeItem=function(t){delete this._data[t]},e.clear=function(){this._data={}},t.isSupported=function(){return!0},i()(t,[{key:"length",get:function(){return Object.keys(this._data).length}}]),t}();n.d(e,"a",function(){return s});var s=new(o.isSupported()?o:a)},QF5X:function(t,e,n){"use strict";var r=n("iC5c").yaplus;e.a=function(t,e){return"function"==typeof r[t]?r[t](e):r[t]}},QHoL:function(t,e,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("V8C4"),c=n("4RqY"),u=n("x9gI"),l=n("ICaW"),d=n("pryo"),h=n("Wopx"),f=n("7hiN"),p=n("gLBg");n.d(e,"a",function(){return g});var g=Object(c.a)(function(){var t=a()(i.a.mark(function t(e,n){var r,o,a,c,g,m,v,b,_;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.counter,o=n.getState,a=n.dispatch,c=n.di,g=o(),m=Object(h.a)(g),s.d.clickCardCreate(r),!m.isYandexAppMultiMorda&&!m.isBrowserApp){t.next=8;break}return Object(f.a)(Object(p.q)(),m),t.abrupt("return");case 8:if(!Object(u.a)(g,l.a.COLLECTIONS_DESKTOP_ADD_INTERNAL)){t.next=14;break}return t.next=12,a(Object(d.a)(void 0));case 12:t.next=19;break;case 14:return t.next=16,c("SidebarState");case 16:return v=t.sent,t.next=19,v.showSuggestSearch();case 19:return t.next=21,c("currentUser");case 21:(b=t.sent)&&(_=b.getPreferences())&&!_.isActionDone("menu_was_moved_tooltip")&&_.setActionDone("menu_was_moved_tooltip",!0).catch(function(t){console.log(t)});case 23:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},Qf0G:function(t,e,n){t.exports=n.p+"f/7088.svg"},QodL:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){return t[t[e="BOARDS_LIST_SHORT"]="BOARDS_LIST_SHORT"]=e,t[t[e="CARD_TEASER_MENU"]="CARD_TEASER_MENU"]=e,t[t[e="ENTITY_REMOVE"]="ENTITY_REMOVE"]=e,t[t[e="SHARE"]="SHARE"]=e,t[t[e="BOARD_MENU"]="BOARD_MENU"]=e,t[t[e="FEED_COMPLAIN"]="FEED_COMPLAIN"]=e,t[t[e="COMPLAIN"]="COMPLAIN"]=e,t[t[e="DEBUG_INFO"]="DEBUG_INFO"]=e,t[t[e="FOLLOWINGS"]="FOLLOWINGS"]=e,t[t[e="ADD_CARD"]="ADD_CARD"]=e,t[t[e="BOARD_UNLOCK"]="BOARD_UNLOCK"]=e,t[t[e="VERIFICATION_BY_NUMBER"]="VERIFICATION_BY_NUMBER"]=e,t[t[e="PROFILE_EDIT"]="PROFILE_EDIT"]=e,t[t[e="BULK"]="BULK"]=e,t}({})},Qtgv:function(t,e,n){"use strict";function r(t){return(t&&t.card_previews||[]).map(function(t){return{cardId:t.id,preview:t.image}})}n.d(e,"a",function(){return r})},R1X5:function(t,e,n){"use strict";var r=n("76oa");e.a=r.a.applyDecls()},R8S4:function(t,e,n){"use strict";var r=n("9TW5"),i=n("Ahwa");e.a=function(t){var e=this&&this.isRestored,n=e?r.er:r.e,o=e?r.sr:r.s;return(e?r.fr:r.f)([n("textarea","",Object(r.assign)({name:t.name,placeholder:t.placeholder,class:"textarea__textarea textarea__textarea_original",autocomplete:t.autocomplete,maxlength:t.maxlength,autocorrect:t.autocorrect,autocapitalize:t.autocapitalize,spellcheck:t.spellcheck,"aria-autocomplete":t.ariaAutocomplete,rows:t.minRows?t.minRows:t.rows?t.rows:1},t.readonly?{readonly:""}:{},t.autofocus?{autofocus:""}:{},t.disabled?{disabled:""}:{},t.tabindex?{tabindex:t.tabindex}:{}),[t.text,o(i.a.call(t,{data:{view:this}}))])," ",t.readonly?[]:[n("span","textarea__clear",{title:t.clearTitle},[])]])}},RE1b:function(t,e,n){"use strict";var r=n("caAX");e.a=r.a.applyDecls()},RLYd:function(t,e,n){"use strict";function r(t,e){return function(n,r){return 1===arguments.length?e(t(n)):e(t(n,r))}}n.d(e,"a",function(){return r})},RPZc:function(t,e,n){t.exports=n.p+"f/1419.gif"},RQkB:function(t,e,n){"use strict";var r=n("8OQS"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("VbXa"),u=n.n(s),l=n("U+yc"),d=n.n(l),h=n("CmRB"),f=n("k/eQ"),p=n("/bNA"),g=n("V8C4"),m=n("SiKM"),v=["loc"],b=n("c+Ap"),_=n("n73F");function y(t,e){"function"==typeof c&&c(t+Object(g.e)(e))}var C,O,S,w=n("MTjZ"),E=n("NVra"),k=n("gLBg"),j=n("+3en"),T=n("XPFG"),x=n("Pm7h"),R=n("Tff5"),I=((C={})[k.a.CARD]=function(t){return{boardId:Object(R.a)(Object(x.a)(t))}},C[k.a.BOARD]=function(t){return{boardId:Object(T.a)(Object(j.a)(t))}},C);n.d(e,"a",function(){return D});var D=(O=Object(f.a)(500),S=function(t){function e(){return t.apply(this,arguments)||this}u()(e,t);var n=e.prototype;return n.initialize=function(t){var e;void 0===t&&(t={}),this.env=t.env,this.countersBuffer=[],this.isFlushPlanned=!1,this.listenTo(p.a,((e={"board:create":this.onBoardCreate,"board:remove":this.onBoardRemove,"board:subscribe":this.onBoardSubscribe,"board:unsubscribe":this.onBoardUnSubscribe,"board:hide":this.onBoardHide,"board:undo:hide":this.onBoardUndoHide,"card:comment:add":this.onCardComment,"card:like":this.onCardLiked,"card:unlike":this.onCardUnLiked,"card:share:complete":this.onCardShareCompleted,"card:move:complete":this.onCardMoveCompleted,"card:create":this.onCardCreate,"card:wish:fulfilled":this.onCardWishFulfilled,"card:wish:unfulfilled":this.onCardWishUnfulfilled})[b.f]=this.onCardsSeen,e["plugin:store"]=this.onPluginStore,e["user:auth"]=this.onUserAuth,e["user:auth:modal"]=this.onAuthModalShow,e["user:subscribe"]=this.onUserSubscribe,e["user:unsubscribe"]=this.onUserUnSubscribe,e["channel:subscribe"]=this.onChannelSubscribe,e["channel:unsubscribe"]=this.onChannelUnSubscribe,e["channel:hide"]=this.onChannelHide,e["channel:undo:hide"]=this.onChannelUndoHide,e["show:share:modal"]=this.onShowShareModal,e["close:share:modal"]=this.onCloseShareModal,e["share:submit"]=this.onShareSubmit,e)),this.listenTo(p.a,{"ext:install:start":this.onPluginInlineStart,"ext:install:success":this.onPluginInlineSuccess,"ext:install:error":this.onPluginInlineError})},n.onBoardCreate=function(t){this.sendCounter(g.a.finishBoardCreate,this.getBoardSubParams(t))},n.onBoardRemove=function(t){this.sendCounter(g.a.finishBoardRemove,this.getBoardSubParams(t))},n.onBoardSubscribe=function(t,e){if(void 0===e&&(e={}),!e.disableClck){var n=this.getBoardSubParams(t,e);n.subscribed=!0,this.sendCounter(g.a.finishBoardSubscribe,n)}},n.onBoardUnSubscribe=function(t,e){if(void 0===e&&(e={}),!e.disableClck){var n=this.getBoardSubParams(t,e);n.subscribed=!1,this.sendCounter(g.a.finishBoardSubscribe,n)}},n.onBoardHide=function(t){this.sendCounter(g.a.finishBoardHide,this.getBoardSubParams(t))},n.onBoardUndoHide=function(t){this.sendCounter(g.a.finishBoardUnHide,this.getBoardSubParams(t))},n.getBoardSubParams=function(t,e){var n=t instanceof _.a?t.getRecommendationsId():t.recommendations_id;return a()({boardId:t.id},e,n?{recId:n}:{})},n.onCardComment=function(t){this.sendCounter(g.a.finishCardComment,{cardId:t.getCardId()})},n.onCardLiked=function(t){this.sendCounter(g.a.finishCardLike,{cardId:t.id,liked:!0})},n.onCardUnLiked=function(t){this.sendCounter(g.a.finishCardLike,{cardId:t.id,liked:!1})},n.onCardShareCompleted=function(t){var e=t.getBoard().isDefault();this.sendCounter(g.a.finishCardShare,{cardId:t.id,isDefault:e})},n.onCardMoveCompleted=function(t){this.sendCounter(g.a.finishCardMove,{cardId:t.id})},n.onCardCreate=function(t){var e=t.card,n=t.loc;this.sendCounter(g.a.finishCardCreate,{cardId:e.id,loc:n})},n.onCardWishFulfilled=function(t){this.sendCounter(g.a.finishCardWish,{cardId:t.id,fulfilled:!0})},n.onCardWishUnfulfilled=function(t){this.sendCounter(g.a.finishCardWish,{cardId:t.id,fulfilled:!1})},n.onCardsSeen=function(t){var e=t.count,n=t.total;this.sendCounter(g.a.showCards,{count:e,total:n,finish:e===n})},n.onPluginStore=function(t){this.sendCounter(g.a.showPluginStore,{url:t})},n.onPluginInlineStart=function(t){var e=t.link,n=t.loc;this.sendCounter(g.a.startPluginInline,{url:e,loc:n})},n.onPluginInlineSuccess=function(t){var e=t.link,n=t.loc;this.sendCounter(g.a.finishPluginInline,{url:e,success:!0,loc:n})},n.onPluginInlineError=function(t){var e=t.link,n=t.loc,r=t.reason;this.sendCounter(g.a.finishPluginInline,{url:e,success:!1,loc:n,reason:r})},n.onUserAuth=function(t){var e=t.modalType,n=t.authSource;this.sendCounter(g.a.finishUserAuth,{modalType:e,authSource:n})},n.onAuthModalShow=function(t){var e=t.modalType;this.sendCounter(g.a.showUserAuth,{modalType:e})},n.getUserSubscribeOptions=function(t){var e={userLogin:t.getLogin(),subscribed:t.isSubscribed()},n=t.getSubscribeOptions();return n&&n.loc&&(e.loc=n.loc),e},n.onUserSubscribe=function(t,e){if(!(void 0===e?{}:e).disableClck){var n=this.getUserSubscribeOptions(t);this.sendCounter(g.a.finishUserSubscribe,n)}},n.onUserUnSubscribe=function(t,e){if(!(void 0===e?{}:e).disableClck){var n=this.getUserSubscribeOptions(t);this.sendCounter(g.a.finishUserSubscribe,n)}},n.onChannelSubscribe=function(t,e){if(!(void 0===e?{}:e).disableClck){var n=this.getChannelSubParams(t);n.subscribed=!0,this.sendCounter(g.a.finishChannelSubscribe,n)}},n.onChannelUnSubscribe=function(t,e){if(!(void 0===e?{}:e).disableClck){var n=this.getChannelSubParams(t);n.subscribed=!1,this.sendCounter(g.a.finishChannelSubscribe,n)}},n.onChannelHide=function(t){var e=this.getChannelSubParams(t);this.sendCounter(g.a.finishChannelHide,e)},n.onShowShareModal=function(t){var e=t.collapsed,n=i()(t,["collapsed"]);"floatButton"===n.loc&&(n.collapsed=e),this.sendCounter(g.a.showSocialShare,n)},n.onCloseShareModal=function(t){var e=t.collapsed,n=i()(t,["collapsed"]);"floatButton"===n.loc&&(n.collapsed=e),this.sendCounter(g.a.closeSocialShare,n)},n.onShareSubmit=function(t){var e=t.name,n=t.loc;this.sendCounter(g.a.clickSocialShare,{source:e,loc:n})},n.onChannelUndoHide=function(t){var e=this.getChannelSubParams(t);this.sendCounter(g.a.finishChannelUnHide,e)},n.getChannelSubParams=function(t){return{channelSlug:t.getSlug()}},n.sendCounter=function(t,e){return y(t,e),this},n.planCounter=function(t,e,n){void 0===n&&(n=!0);var r=n&&this.countersBuffer.find(function(n){return n.path===t&&e.loc==n.params.loc});r?function t(e,n){return function(t){return null==t}(e)?n:Array.isArray(e)||Object(m.isString)(e)?Array.isArray(n)||Object(m.isString)(n)?e.concat(n):n:Object(m.isObject)(e)&&Object(m.isObject)(n)?(Object.keys(n).filter(function(t){return!v.includes(t)}).forEach(function(r){return e[r]=t(e[r],n[r])}),e):n}(r.params,e):this.countersBuffer.push({path:t,params:e}),this.isFlushPlanned||this.planFlushCounters()},n.planFlushCounters=function(){var t=this;this.isFlushPlanned=Boolean(this.countersBuffer.length),this.isFlushPlanned&&(this.timeout=setTimeout(function(){return t.flushCounters()},3e3))},n.flushCounters=function(){var t=this,e=this.countersBuffer.splice(0,30);e.length&&(e.forEach(function(e){var n=e.path,r=e.params;return t.sendCounter(n,r)}),this.planFlushCounters())},n.sendAccess=function(t){void 0===t&&(t={});var e=this.env.di.getDefinition("redux").instance;!function(t,e){var n=Object(w.a)(t),r={pageName:e.pageName};if(n&&n.stats){var i=n.stats;r=a()({},r,{sCards:i.cards,sLikes:i.own_likes,sBoards:i.boards,sChannelSubs:i.channel_subscriptions,sBoardSubs:i.board_subscriptions,sUserSubs:i.user_subscriptions})}"function"==typeof nextReqId&&nextReqId(),e.metrika&&Object(E.a)().hitAccess();var o,s,c,u=I[e.pageName];u&&(r=a()({},r,u(t))),e.delayed?(o=g.a.access,s=r,void 0===c&&(c=1e3),setTimeout(function(){y(o,s)},c)):y(g.a.access,r)}(e?e.getState():{user:this.env.currentUser.toJSON()},t)},e.sendCounter=function(t,e){return this.factory().sendCounter(t,e)},e.planCounter=function(t,e){return this.factory().planCounter(t,e)},e.sendAccess=function(t){return this.factory().sendAccess(t)},e.factory=function(t){return this.instance||(this.instance=new e(t)),this.instance},e}(h.a),d()(S.prototype,"onCardsSeen",[O],Object.getOwnPropertyDescriptor(S.prototype,"onCardsSeen"),S.prototype),S)},RWr8:function(t,e,n){"use strict";var r=n("5Sit");e.a=r.a.applyDecls()},RWwA:function(t,e,n){"use strict";function r(t){return t?t.card_source_type:void 0}n.d(e,"a",function(){return r})},RYE9:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("WNXv");function i(t){var e=Object(r.a)(t);return!!e&&"image/gif"===e.orig_format}},RaqJ:function(t,e,n){"use strict";var r,i,o=n("pVnL"),a=n.n(o),s=n("W8MJ"),c=n.n(s),u=n("VbXa"),l=n.n(u),d=n("U+yc"),h=n.n(d),f=n("H3QP"),p=n("mdRN"),g=n("9TW5"),m=n("R8S4"),v=n("LH8O");n.d(e,"a",function(){return _});var b=new WeakMap,_=(r=Object(v.a)(),i=function(t){function e(){return t.apply(this,arguments)||this}l()(e,t);var n=e.prototype;return n.initialize=function(e){t.prototype.initialize.call(this,e);var n=e.rows,r=void 0===n?1:n,i=e.focusRows,o=void 0===i?1:i;this.focusRows=o,this.rows=r},n.onRender=function(){var e=this;t.prototype.onRender.call(this),this.deferToAttach(function(){return e.initResizer()})},n.initResizer=function(){var t=this.cloneInput;t.value="",t.rows=1;var e=t.scrollHeight;t.rows=2,this.lineHeight=t.scrollHeight-e,this.paddingHeight=e-this.lineHeight,t.rows=this.rows,t.value=this.model.get(this.name),this.onResize()},n.onResize=function(){if(this.isIntact()&&this.lineHeight){var t=this.input,e=this.cloneInput,n=this.options,r=n.minRows,i=void 0===r?1:r,o=n.maxRows,a=void 0===o?1/0:o;e.value=this.model.get(this.name);var s=Math.ceil((e.scrollHeight-this.paddingHeight)/this.lineHeight);this.rows=Math.max(Math.min(s,a),i),t.rows=this.rows+((this.focused||!this.empty)&&s>=i?this.focusRows:0),b.set(this.model,t.rows),this._updateClearPosition()}},n.onKeyUp=function(){this.onResize()},n.onClear=function(){t.prototype.onClear.call(this),this.onResize()},n.copyModelToView=function(){t.prototype.copyModelToView.call(this),this.onResize(),this.clone.val(this.model.get(this.name))},n.copyViewToModel=function(){t.prototype.copyViewToModel.call(this),this.onResize(),this.clone.val(this.model.get(this.name))},n.scrollToView=function(){if(this.isFocused){var t=this.$el.offset().top;this.env.pageState.scrollTo(0,t)}},n.onFocus=function(){t.prototype.onFocus.call(this),this.onResize()},n.onBlur=function(){t.prototype.onBlur.call(this),this.onResize(),this.stopListening(this.env.pageState,"change:isDeviceLandscape",this.scrollToView),this.isFocused=!1},n.serializeData=function(){return a()({},this.options,{rows:b.get(this.model)})},c()(e,[{key:"input",get:function(){return this.ui.input[0]}},{key:"cloneInput",get:function(){return this.clone[0]}}]),e}(f.a),h()(i.prototype,"scrollToView",[r],Object.getOwnPropertyDescriptor(i.prototype,"scrollToView"),i.prototype),i);Object(p.a)({template:function(t){var e=this&&this.isRestored,n=e?g.er:g.e;return(e?g.fr:g.f)([n("textarea","textarea__textarea textarea__textarea_clone",{tabindex:"-1","aria-hidden":"true",rows:t.rows},[],{ui:"clone",view:this})," ",m.a.call(this,Object(g.assign)(t,{minRows:t.rows?t.rows:t.minRows,spellcheck:t.spellcheck}))])},options:a()({},f.a.prototype.options,{autoNewLine:!0}),events:a()({},f.a.prototype.events,{"onkeyup @ui.input":"onKeyUp"})})(_)},Rd5j:function(t,e,n){"use strict";var r=n("1nxc"),i=n("BZL/"),o=n("PSoe");n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var a={type:"dimensions",dimensions:o.c.WIDTH+"x"+o.c.HEIGHT};function s(t,e){return void 0===e&&(e=r.a),function(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsDataURL(t)})}(t).then(function(t){return Object(i.a)(t).then(function(n){if(e(n))return{image:n,url:t,width:n.naturalWidth,height:n.naturalHeight};throw a})})}},RfGH:function(t,e,n){"use strict";n("1rdI");var r=n("5YnH");e.a=r.a.applyDecls()},RoKP:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("Ff+0");function i(t){if(t){var e=t.kind,n=t.name,i=t.vendor;e&&(e=Object(r.a)(e.trim()));var o=[];if(n){var a=n.toLowerCase();e&&-1===a.indexOf(e.toLowerCase())&&o.push(e),i&&-1===a.indexOf(i.toLowerCase())&&o.push(i),o.push(n)}else o=[e,i,n];return o.filter(Boolean).join(" ")}}},RouB:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("c+Ap");function i(t){return Boolean(t&&t.login&&!t.is_restricted&&t.login!==r.Y)}},RvyH:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("rpX3"),i=Object(r.a)("layout")},Ryll:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){return t[t[e="IMAGE"]=8]=e,t[t[e="FEED"]=3003]=e,t[t[e="REQUEST_START"]=2117]=e,t[t[e="REQUEST_END"]=2118]=e,t[t[e="PROCESSING"]=2019]=e,t[t[e="RENDER"]=2046]=e,t[t[e="DURATION"]=2136]=e,t[t[e="START_TIME"]=2322]=e,t[t[e="SEARCHAPP"]=749]=e,t[t[e="BROWSER"]=908]=e,t[t[e="RECENT"]=3005]=e,t[t[e="ADD"]=160]=e,t[t[e="BOARDS_READY"]=3337]=e,t}({})},S7CM:function(t,e,n){t.exports=n.p+"f/1516.gif"},S7YN:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("NFKc"),l=n("gF9f"),d=n("dNc+"),h=Object(u.a)("request",function(){var t=c()(i.a.mark(function t(e,n,r){var o,s,c,u,h,f,p,g,m,v,b,_;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(b=function(t){var e=s()[u],n=e&&e._ver||0;if(v===n){var r,i=t?Object(d.g)(u,t):e;c(Object(l.a)(((r={})[u]=a()({},i,{_loading:!1}),r)))}},s=r.getState,c=r.dispatch,u=n.storeKey,h=n.url,f=n.query,p=n.reset,h&&f||(g=s()[u])&&(h=h||g._url,f=f||g._query),h&&f){t.next=6;break}return t.abrupt("return");case 6:return m=s()[u],v=(m&&m._ver||0)+1,c(Object(l.a)(((o={})[u]=a()({},m,p,{_loading:!0,_ver:v}),o))),t.prev=9,t.next=12,e.get(h,{data:f,metadata:!0});case 12:_=t.sent,b(_),t.next=20;break;case 16:throw t.prev=16,t.t0=t.catch(9),b(),t.t0;case 20:case"end":return t.stop()}},t,this,[[9,16]])}));return function(){return t.apply(this,arguments)}}())},S8mT:function(t,e,n){t.exports=n.p+"f/c30e.gif"},SAMx:function(t,e,n){"use strict";var r=n("8dP3");n.d(e,"a",function(){return r.a})},SDCS:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("NFKc"),c=n("1WnH"),u=n("QodL"),l=Object(s.a)("request",function(){var t=a()(i.a.mark(function t(e,n,r){var o,a,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=n.place,a=n.retpath,s=n.isSupportOpenInNewTab,(0,r.dispatch)(Object(c.a)({type:u.a.VERIFICATION_BY_NUMBER,animationType:"modal",options:{place:o,retpath:a,openInNewTab:s}}));case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},SQy1:function(t,e,n){"use strict";var r=n("VbXa"),i=n.n(r),o=n("mdRN"),a=n("NpBQ"),s=n("MKfg"),c=n("+LNT"),u=n("9TW5");n.d(e,"a",function(){return l});var l=function(t){function e(){return t.apply(this,arguments)||this}return i()(e,t),e.prototype.onModalClick=function(e){t.prototype.onModalClick.call(this,e),this.options.stopPropagation&&e.stopPropagation()},e}(a.a);Object(o.a)({template:function(t){return(this&&this.isRestored?u.fr:u.f)([c.a.call(this,{close:!0,title:this.options.title,description:this.options.text,buttons:this.options.buttons,buttonBehaviors:{Event:{behaviorClass:s.a,event:"click",method:this.close.bind(this),stopPropagation:t.stopPropagation}}})])},attributes:{id:"modal_sidebar_close"}})(l)},SUYq:function(t,e,n){"use strict";var r,i,o,a,s,c=n("pVnL"),u=n.n(c),l=n("VbXa"),d=n.n(l),h=n("Iv6v"),f=n("mdRN"),p=n("SiKM"),g=n("1H70"),m=n("K9S7"),v=Object(m.a)()(r=function(t){function e(){return t.apply(this,arguments)||this}d()(e,t);var n=e.prototype;return n.initialize=function(){},n.isNew=function(){return!0},n.getTag=function(){return this.get("tag")},n.getValue=function(){return this.get("value")},n.setValue=function(t){this.set("value",t)},n.getType=function(){return this.get("type")},e.restore=function(t){return this.dataFactory(t)},e}(h.a))||r,b=n("BpHA"),_=((i={})[b.b.INCLUDE]="",i[b.b.EXCLUDE]="-",i),y=((o={})["-"]=b.b.EXCLUDE,o),C=((a={})[b.b.INCLUDE]="",a[b.b.EXCLUDE]="-",a),O=Object(f.a)({model:v})(s=Object(m.a)()(s=function(t){function e(){return t.apply(this,arguments)||this}d()(e,t);var n=e.prototype;return n.initialize=function(e,n){var r=this;t.prototype.initialize.call(this,e,n),this.on("update reset change:value",function(){return r.trigger("refresh")})},n.isEqual=function(t){var n=e.dataFactory(this.parse(t)).toQueryObject(),r=this.toQueryObject();return Object(p.isEqual)(n,r)},n.resetData=function(t,e){this.isEqual(t)||this.reset(t,Object.assign({parse:!0},e))},n.includeTags=function(t){var e=this,n=t.filter(function(t){return!e.hasTag(t)}).map(function(t){return t.clone()});this.reset([].concat(this.toArray(),n))},n.excludeTags=function(t){var e=this.getTagsIntersection(t);this.reset(Object(p.difference)(this.toArray(),e))},n.getTagsIntersection=function(t){var e=this;return t.map(function(t){return e.findTag(t)}).filter(Boolean)},n.findTag=function(t){var e=t.omit("id");return this.find(e)},n.hasTag=function(t){return Boolean(this.findTag(t))},n.hasTags=function(){return Boolean(this.length)},n.parse=function(t){var e=Object(p.pick)(t,b.a);return Object.keys(e).reduce(function(t,n){var r=e[n];if(r){var i=r;Array.isArray(r)||(i=String(r).split(","));var o=i.map(function(t){var e=y[t[0]]||b.b.INCLUDE;return{value:e!==b.b.INCLUDE?t.slice(1):t,tag:n,type:e}});t=t.concat(o)}return t},[])},n.toQueryObject=function(){return this.chain().reduce(function(t,e){var n=e.toJSON(),r=n.tag,i=n.value,o=n.type;return t[r]||(t[r]=[]),t[r].push(_[o]+i),t},{}).value()},n.toTranslateHash=function(t){var e=t.prefix,n=t.vertical,r=t.translates;return this.reduce(function(t,i){var o=C[i.getType()],a=r[e+"("+n+","+(o+i.getTag())+")"];return t[a]||(t[a]=[]),t[a].push(i.getValue()),t},{})},n.clone=function(){return e.dataFactory(this.map(function(t){return v.dataFactory(t.toJSON())}))},e.restore=function(t){return this.dataFactory(t)},e}(g.a))||s)||s,S=n("c+Ap"),w=n("C9FQ"),E=function(t){function e(){return t.apply(this,arguments)||this}d()(e,t);var n=e.prototype;return n.patch=function(){return this.sync("patch",this,{data:JSON.stringify({preferences:this.toJSON()}),contentType:"application/json"})},n.updateWith=function(t){return this.sync("patch",this,{data:JSON.stringify({preferences:t.toJSON()}),contentType:"application/json"})},n._set=function(t,e,n){var r,i=this.get(t);this.set(t,Object.assign({},i,((r={})[e]=n,r)))},n._get=function(t,e){var n=this.get(t);return n&&n[e]},n.isActionDone=function(t){return Boolean(this._get(S.bb.GENERAL,t))},n.setActionDone=function(t,e){return void 0===e&&(e=!0),this._set(S.bb.GENERAL,t,e),this.trigger("action:"+t,e),this.patch()},n.setOnboarded=function(t){return this._set(S.bb.GENERAL,w.f,t),this.patch()},n.isOnboarded=function(){return Boolean(this._get(S.bb.GENERAL,w.f))},n.markToloker=function(t){return this._set(S.bb.GENERAL,w.e,t),this.patch()},n.isToloker=function(){return Boolean(this._get(S.bb.GENERAL,w.e))},n.setFoodQuizDone=function(t){this._set(S.bb.GENERAL,w.c,t)},n.isFoodQuizDone=function(){return Boolean(this._get(S.bb.GENERAL,w.c))},n.setFoodQuizClosed=function(t){this._set(S.bb.GENERAL,w.b,t)},n.isFoodQuizClosed=function(){return Boolean(this._get(S.bb.GENERAL,w.b))},n.setIncludeFoodPreferences=function(t){this._set(S.bb.GENERAL,w.d,t)},n.isIncludeFoodPreferences=function(){return this.hasFoodTags()&&Boolean(this._get(S.bb.GENERAL,w.d))},n.getFoodTags=function(){return this.get("food")},n.hasFoodTags=function(){var t=this.getFoodTags();return Boolean(t&&t.length)},n.isFoodPreferencesFilled=function(){var t=this.getFoodTags();return Boolean(t&&Object(p.uniqBy)(t.toJSON(),"tag").length>0)},n.isSidebarHintShown=function(t){return Boolean(this._get(S.bb.GENERAL,t+"_shown"))},n.setSidebarHintShown=function(t){return this._set(S.bb.GENERAL,t+"_shown",!0),this.patch()},n.isShownPlugin=function(){return!this.isPluginDatePaced()&&Boolean(this._get(S.bb.GENERAL,w.g))},n.setShownPlugin=function(t){return void 0===t&&(t=!0),this._set(S.bb.GENERAL,w.g,t),t&&this.markPluginDatePaced(),this.patch()},n.isPluginDatePaced=function(){var t=this._get(S.bb.GENERAL,w.h);return!t||Date.now()-Number(t)>2592e6},n.markPluginDatePaced=function(){this._set(S.bb.GENERAL,w.h,Date.now())},n.isSaveAlertHintShown=function(){var t=this._get(S.bb.GENERAL,w.k);return!!(t&&Date.now()-Number(t)<=864e5)&&Boolean(this._get(S.bb.GENERAL,w.j))},n.setSaveAlertHintShown=function(t){return this._set(S.bb.GENERAL,w.j,t),this._set(S.bb.GENERAL,w.k,Date.now()),this.patch()},n.getResearchBannerShown=function(){return this._get(S.bb.GENERAL,w.RESEARCH_BANNER_SHOWN)||0},n.setResearchBannerShown=function(t){var e=this.getResearchBannerShown();return this._set(S.bb.GENERAL,w.RESEARCH_BANNER_SHOWN,t||e+1),this.patch()},n.isResearchBannerShown=function(){return this.getResearchBannerShown()>=S.db},n.toJSON=function(){var t=Object.assign({},this.attributes);return t.food=this.getFoodTags().toQueryObject(),Object.keys(t.food).length||(t.food=void 0),Object(p.cloneDeep)(t)},n.parse=function(t){return t.food instanceof O||((t=Object(p.cloneDeep)(t)).food=O.dataFactory(t.food,{parse:!0})),t},n.clone=function(){var t=this.getRequestAdapter();return e.dataFactory(this.toJSON(),{parse:!0,request:t})},e.restore=function(t){return this.dataFactory(t)},e}(h.a);Object(f.a)({url:"/collections/api/user/"})(E);var k,j=n("iROX"),T=n("hKrz"),x=n("QEzC"),R=n("1XU/"),I=n("/bNA"),D=n("mjwL"),P=n("aeY2"),L=n("xalX"),N=n("VMUI"),A=n("pLEp"),B=n("ICaW"),M=n("MTjZ");n.d(e,"a",function(){return F});var F=Object(f.a)({urlRoot:"/collections/api/user/",urlRootUsers:"/collections/api/users/",urlInbox:"https://mail.yandex.ru/api/v2/collections/counters",defaults:{sex:"m",inbox:0,stats:{boards:0,cards:0,subscribers:0,board_subscriptions:0,channel_subscriptions:0,user_subscriptions:0,likes:0,own_likes:0}}})(k=Object(T.a)()(k=Object(m.a)()(k=function(t){function e(){return t.apply(this,arguments)||this}d()(e,t);var n=e.prototype;return n.initialize=function(){var t=this;this.on("change:subscription",function(e){var n=u()({},e,t.getSubscribeOptions());t.isSubscribed()?I.a.showUserSubscribeMessage(t,n,e):I.a.showUserUnsubscribeMessage(t,n,e)})},n.url=function(){var t=this.getLogin();return t?this.urlRootUsers+encodeURIComponent(t)+"/":this.urlRoot},n.setLogin=function(t){this.set("login",t)},n.getLogin=function(){return this.get("login")},n.getAvatarId=function(){return this.get("default_avatar_id")},n.getYtAlias=function(){return this.get("yt_alias")},n.isYandexTeam=function(){return Boolean(this.getYtAlias())},n.isAuthorized=function(){return!this.isGuest()&&!this.isRestricted()},n.isRestricted=function(){return Boolean(this.get("is_restricted"))},n.isGuest=function(){return!this.getLogin()},n.getSex=function(){return this.get("sex")},n.getStats=function(){return this.get("stats")},n.getRole=function(){return this.get("role")},n.getCardPreviews=function(){return this.get("card_previews")},n.isRedactor=function(){return"redactor"===this.getRole()},n.isTolokaRedactor=function(){return"yndx-collections-moderator"===this.getLogin()},n.getBoardsCount=function(){var t=this.getStats();return t&&t.boards},n.getCardsCount=function(){var t=this.getStats();return t&&t.cards},n.getChannelSubscriptionsCount=function(){var t=this.getStats();return t&&t.channel_subscriptions},n.hasSubscriptions=function(){var t=this.getStats();return t&&(t.channel_subscriptions||t.user_subscriptions||t.board_subscriptions)},n.getOwnLikes=function(){var t=this.getStats();return t&&t.own_likes},n.isToloker=function(){return this.isAuthorized()&&this.getPreferences()&&this.getPreferences().isToloker()},n.isForbid=function(){return Boolean(this.get("is_forbid"))},n.markToloker=function(t){return this.getPreferences().markToloker(t)},n.toSubscriptionJSON=function(){return{"user.id":this.id}},n.isFullModel=function(){return Boolean(this.getLogin()&&this.getStats()!==this.defaults.stats)},n.getDisplayName=function(){return this.get("display_name")},n.setInboxCount=function(t){void 0===t&&(t=0),this.set("inbox",t)},n.getInboxCount=function(){return this.get("inbox")},n.isVerified=function(){return this.get("is_verified")},n.fetchByLogin=function(){var t=this;return this.isFullModel()?Promise.resolve(this):this.getLogin()?this.fetch().then(function(){return t}):Promise.reject(new Error("Cannot find login"))},n.fetchAuth=function(){return this.getId()?Promise.resolve(this):this.checkAuth()},n.checkAuth=function(t){var e=this;return this.fetchCurrentUser(t).catch(function(t){if(401!==t.status){var n=e.getReduxCurrentUser();if(n)return e.set(e.parse(Object(L.a)(n))),e;var r=new j.g("Cannot load user auth. Status: "+t.status,{},t);throw r.status=0,r}e.clear()}).then(function(){return e})},n.fetchCurrentUser=function(t){var e=this;return this.fetch(u()({},t,{url:this.urlRoot})).then(function(t){var n=e.getEnv();n&&n.dispatch(Object(A.a)({id:e.id,storeKey:"users",value:u()({},t,{stats:u()({},e.getStats())})}))})},n.getReduxCurrentUser=function(){var t=this.getEnv();if(t&&t.reduxState)return Object(M.a)(t.reduxState.getState())},n.getFreshInboxCount=function(){var t=this,e={url:Object(R.a)(this.urlInbox),cache:!1,insecure:!0,xhrFields:{withCredentials:!0}};return this.sync("read",this,e).then(function(e){e&&e.counters&&t.setInboxCount(e.counters.unread)}).catch(function(t){console.error(t)})},n.getShareImageUrl=function(){return Object(N.a)(this.getLogin())},n.getShareTitle=function(t){return t.translate(P.profileOGTitle,{login:this.getDisplayName()})},n.setPreferences=function(t){this.set("preferences",t)},n.getPreferences=function(){return this.get("preferences")},n.hasCompilation=function(t){return(this.get("compilations")||[]).includes(t)},n.getReloadUrlParams=function(){return{name:"profile",params:{login:this.getLogin(),hintAction:S.F.userSubscribe,hintTarget:this.getHintTarget()}}},n.getHintTarget=function(){return this.getLogin()},n.isSaveAlertHintShown=function(){return!!this.isAuthorized()||this.getPreferences().isSaveAlertHintShown()},n.setSaveAlertHintShown=function(t){return void 0===t&&(t=!0),this.getPreferences().setSaveAlertHintShown(t)},n.canShowSaveAlert=function(){if(this.getEnv().hasFeature(B.d.HEADER_FAVORITES))return!1;var t=Boolean(this.hasSubscriptions()||this.getOwnLikes()||this.getCardsCount());return!this.isSaveAlertHintShown()&&t},n.getValueFromStorage=function(t,e){try{var n=JSON.parse(x.a.getItem(t));if(n&&Date.now()-Number(n.date)<=e)return Boolean(n.value)}catch(t){console.error(t)}return!1},n.updateAuth=function(t){var e=this,n=t.env,r=t.request,i=t.event;this.setRequestAdapter(r),this.setEnv(n),n.setCurrentUser(this),n.setLang(this.get("language"));var o,a=this.isAuthorized();return!this.get("offline")||a||i&&i.isFirstRender||(o=this.checkAuth({retries:0})),a&&i&&i.query?Promise.resolve(o).then(function(){return e.syncUTMSource(i.query.utm_source)}):o},n.syncUTMSource=function(t){if(t===S.kb&&!this.isToloker())return this.markToloker(!0)},n.getUid=function(){return this.get("uid")},n.setRequestAdapter=function(e){var n=this.getPreferences();return n&&n.setRequestAdapter(e),t.prototype.setRequestAdapter.call(this,e)},n.parse=function(t){var e=this.getRequestAdapter();return t.is_restricted&&(t.display_name=D.selfDisplayName()),!t.display_name&&t.login&&(t.display_name=t.login),!t.preferences||t.preferences instanceof E||((t=Object(L.a)(t)).preferences=E.dataFactory(t.preferences,{parse:!0,request:e})),t},n.clone=function(){var e=t.prototype.clone.call(this),n=this.getPreferences();return n&&e.setPreferences(n.clone()),e.setRequestAdapter(this.getRequestAdapter()),e},n.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.preferences&&(e.preferences=e.preferences.toJSON()),e},e.restore=function(t,e){var n=this.dataFactory(t,u()({parse:!0},e));return!n.getPreferences()&&t.preferences&&n.set(n.parse(t)),n},e.auth=function(t){var e=t.event.prepared;return e&&e.user?this.dataFactory(e.user,u()({},t,{parse:!0})):this.dataFactory(null,t).fetchAuth()},e}(h.a))||k)||k)||k},SW9n:function(t,e,n){"use strict";n("IAoT"),n("gFRy");var r=n("Pd0M");e.a=r.a.applyDecls()},SiKM:function(t,e,n){var r=n("Y+Td");r.extend=r.assignIn,r.zipObject=function(t,e){var n,r={};for(n=0;n<t.length;n++)r[t[n]]=e[n];return r},t.exports=r},SlD6:function(t,e,n){"use strict";var r=n("hHB1");e.a=r.a.applyDecls()},Sn9x:function(t,e,n){t.exports=n.p+"f/e0f5.gif"},T6Rw:function(t,e,n){"use strict";function r(t){var e=function(e){var n=function(n){n.dispatch;var r=n.getState,i=n.setState,o=r(),a=t(o,e);a!==o&&i(a,t.name)};return n.data=e,n.callback=t,n};return e.reducer=t,e}n.d(e,"a",function(){return r})},T8Hy:function(t,e,n){"use strict";var r=n("rpDg");e.a=r.a.applyDecls()},TANO:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("pVnL"),i=n.n(r),o=n("T6Rw"),a=Object(o.a)(function(t,e){var n;return t?i()({},t,((n={}).currentBoard=e,n)):t})},TBxt:function(t,e,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("MTjZ"),l=n("+mVu"),d=n("RouB"),h=n("c+Ap"),f=n("4RqY"),p=n("+XmN"),g=n("cX81"),m=n("V8C4"),v=n("x9gI"),b=n("ICaW"),_=n("Jxqj");function y(t,e){var n=Object(_.a)(t,e);if(n)return n.login}var C=n("oBAa"),O=n("/bNA"),S=n("pryo"),w=n("lc+m"),E=n("Kj4u");n.d(e,"a",function(){return k});var k=Object(f.a)(function(){var t=c()(i.a.mark(function t(e,n){var r,o,s,c,f,_,k,j,T,x,R;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.id,o=e.counter,s=n.getState,c=n.di,f=n.dispatch,o=a()({},o,{cardId:r}),Object(d.a)(Object(u.a)(s()))){t.next=5;break}return t.abrupt("return",f(Object(p.a)({counter:o,retpath:{route:"card",params:{id:r,hintAction:h.F.cardShare,hintTarget:r}}})));case 5:if(m.d.clickCardShare(o),_=s(),Object(w.a)(_,r)){t.next=11;break}return t.next=10,f(Object(E.a)({cardId:r}));case 10:_=s();case 11:if(!Object(v.a)(_,b.d.COLLECTIONS_DESKTOP_ADD_INTERNAL)){t.next=14;break}return t.abrupt("return",f(Object(S.a)({cardId:r})));case 14:return t.next=16,c("request");case 16:if(k=t.sent,j=Object(l.a)(_,r),T=g.a.dataFactory(j,{request:k,parse:!0}),!j){t.next=28;break}if(x=y(_,r)===Object(u.a)(_).login,!Object(C.a)(j)){t.next=24;break}return O.a.showMoveCardReadonlyMessage(),t.abrupt("return");case 24:return t.next=26,c("SidebarState");case 26:R=t.sent,x?R.moveCard(T):R.shareCard(T,o);case 28:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},TChA:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("pVnL"),i=n.n(r),o=n("T6Rw"),a=n("/KRU"),s=n("gQdx"),c=["feedCards","userCards","boardCards","favoritesCards","channelCards","verticalSearchCards","contestCards","userObjects","cardSimilarToCard","cardSimilar"],u=Object(o.a)(function(t,e){var n=e.id,r=Object(a.a)(t,n);return t.entities&&t.entities.boards&&r&&r.card_previews&&(t=s.a.reducer(t,{id:r.id,value:{card_previews:r.card_previews.filter(function(t){return t.id!==n})}})),c.forEach(function(e){var r,o=t[e];o&&o.results&&(t=i()({},t,((r={})[e]=i()({},o,{results:o.results.filter(function(t){return t.id!==n})}),r)))}),t})},TKgN:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({apply:"Не хочу",cancel:"Зберегти",closeTitle:"Не хочете зберігати картку?"})},TMEN:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("/Epz"),i=n("Wopx"),o=n("y6Xm"),a=Object(r.a)(i.a,Object(o.a)("query",{}))},TOCp:function(t,e,n){"use strict";var r=n("9TW5"),i=function(t){var e=this&&this.isRestored,n=e?r.er:r.e;return(e?r.fr:r.f)([n.d(Object(r.j)([t.className," ",t.className,"_",t.size," ",t.hiddenClass," ",t.additionalClass?t.additionalClass:""]),{style:(t.color?Object(r.j)(["background:",t.color.main_color,";"]):"")+(t.sizes&&t.sizes.width?Object(r.j)(["width:",t.sizes.width,"px;"]):"")+(t.sizes&&t.sizes.height?Object(r.j)(["height:",t.sizes.height,"px;"]):"")},[t.format?[n("span","image__type",{},[n("span",Object(r.j)(["image__type__format image__type__format_",t.format]),{},[t.format])])]:[],n("img","",Object(r.assign)(t.lazy?{"data-src":t.url}:{src:t.url},{alt:t.alt,class:t.imageClass,"data-il":t.className}),[])])])},o=n("XL0g");function a(t){var e,n,r=t.fn,a=t.hash,s=a.content,c=a.url,u=a.format,l=a.alt,d=void 0===l?"":l,h=a.size,f=void 0===h?"orig":h,p=a.multiply,g=void 0===p?1:p,m=a.className,v=void 0===m?"image__wrap":m,b=a.imageClass,_=void 0===b?"image__image":b,y=a.additionalClass,C=a.noDimensions,O=a.noColor,S=a.color,w=a.forceProd,E=void 0!==w&&w,k=a.lazy,j=void 0!==k&&k,T=t.data,x=T.view,R=v+"_hidden";if(s){var I=s.getContent();n=C?null:s.getImageInfo({size:f,multiply:g}),I&&(e=o.a.call(this,I,{hash:{size:f,forceProd:E}}),S=O?null:I.avatars_meta),e||(e=s.getFallbackUrl())}if(c&&(e=c),x){var D=function(){var t=x.$el.find("."+R),e=t&&t.find("img");t&&e&&t.length&&e[0].naturalWidth>0&&t.removeClass(R)};x.once("show",D),x.once("destroy",function(){x.off("show",D)})}return i.call(T.view,{className:v,additionalClass:y,imageClass:_,hiddenClass:R,alt:d,format:u,color:S,size:f,sizes:n,lazy:j,url:e,content:r?r.call(T.view,{}):""})}n.d(e,"a",function(){return a})},TUXw:function(t,e,n){"use strict";function r(t,e){return"rgba("+parseInt(t.slice(1,3),16)+","+parseInt(t.slice(3,5),16)+","+parseInt(t.slice(5,7),16)+","+e+")"}n.d(e,"a",function(){return r})},Tff5:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("i1uP"),i=n("lc+m"),o=Object(r.a)(i.a,function(t){if(t&&t.board)return t.board.id})},Tgrg:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("82Jb"),s=n("izju"),c=n("0MRR"),u=function(t){var e=t.pictures,n=t.count,r=t.single,u=t.column,l=t.square,d=t.micro,h=t.compact,f=t.placeholder,p=n?Math.max(0,n-3):0,g=e&&e.length,m=h&&g&&g<3,v=function(t,e){return m?d?"h150":u?"390x585":"s360":l?"smart350":d?"h75":u?"195x292":t?"h150":e?"s360":"360x270"};if(f&&(e||(e=[]),e.length<3)){for(var b=[],_=0;_<3-e.length;_++)b.push({preview:f});e=[].concat(e,b)}return o.createElement(o.Fragment,null,e&&e.slice(0,3).map(function(t,e){var n=t.preview||{},l=n.source_type,d=n.derived_from,h=!1,f=l===s.a.LINK;return f&&(d!==a.a.OG&&d!==a.a.TEXT||(h=d)),o.createElement(c.a,i()({mods:{teaser:r,"teaser-grid":!r,cover:u,compact:m&&[!0,"fr-"+g],type:h},key:e,size:v(e,f)},t))}),p>0&&o.createElement("div",{className:"cl-teaser__picture-stat"},o.createElement("span",{className:"cl-teaser__picture-count"},p)))}},TpzA:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("gLBg"),i=n("aeY2"),o=n("dNc+"),a=n("YAwY"),s=n("om3R"),c=n("/KRU"),u=n("lPPs"),l=n("wYmg"),d=n("1SpP"),h=n("I4Ii"),f=n("VMUI"),p=n("8KBr"),g=n("hfWR"),m={users:o.i,cards:o.b,boards:o.a,channels:o.c,contests:o.d},v={channels:function(t,e){return{title:i.channelMetaTitle({channel_title:t.title}),description:i.channelDescription({channel_description:t.description}),image:Object(d.a)(t.slug),url:Object(g.a)(e)+Object(r.f)(t.slug)}},contests:function(t,e){return{title:i.contestOGTitle({contest_title:t.title}),description:i.contestOGDescription({contest_description:t.description}),image:Object(h.a)(t.slug),url:Object(g.a)(e)+Object(r.g)(t.slug)}},boards:function(t,e){if(t.owner)return{title:i.boardOGTitle({board_title:t.title}),description:i.boardOGDescription({owner_login:Object(p.a)(t.owner)}),image:Object(l.a)(t.owner.login,t.slug),url:Object(g.a)(e)+Object(r.d)(t.owner.login,t.slug)}},users:function(t,e){var n=t.login,o=t.display_name,a=void 0===o?n:o;return{title:i.profileOGTitle({login:a}),description:i.profileDescription({login:a}),image:Object(f.a)(n),url:Object(g.a)(e)+Object(r.w)(n)}},cards:function(t,e){var n=t.id,o=t.description;return{title:i.cardOGTitle({board_title:Object(u.a)(Object(c.a)(e,n))}),description:i.cardOGDescription({card_title:o}),image:Object(a.a)(Object(s.a)(e,n),{size:"s1200"})+"?webp=false",url:Object(g.a)(e)+Object(r.e)(n)}}};function b(t,e){var n=e.storeKey,r=e.id,i=t.entities[n],o=i&&i[r];if(o){var a=m[n].denormalize(t.entities,o);return v[n](a,t)}}},TsaX:function(t,e,n){"use strict";var r=n("VbXa"),i=n.n(r),o=n("jOGB"),a=n("mdRN"),s=n("V8C4"),c=n("RQkB"),u=n("9TW5"),l=n("r7Cx"),d=n("lUvp"),h=n("QCEX");n.d(e,"a",function(){return f});var f=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.className=function(){var t=this.options,e=t.mod,n=t.pos,r="hint";return e&&(r+=" hint_"+e),n&&(r+=" hint_pos_"+n),r},n.onShow=function(){var t=this,e=this.options,n=e.onShow,r=e.loc;e.animateShow?(this.$el.addClass("hint_state_hidden"),this.deferToAttach(function(){return t.toggleVisible()})):this.$el.addClass("hint_state_visible"),c.a.sendCounter(s.a.showHint,{loc:r,isPlugin:this.env.isEmbed}),n&&n()},n.onClickClose=function(){var t=this.options,e=t.onClose,n=t.loc;this.toggleHidden(),c.a.sendCounter(s.a.closeHint,{loc:n,isPlugin:this.env.isEmbed}),e&&e()},n.onClick=function(t){var e=this.options.onClick;e&&e(t)},n.toggleVisible=function(){this.$el.removeClass("hint_state_hidden").addClass("hint_state_visible")},n.toggleHidden=function(){this.$el.removeClass("hint_state_visible").addClass("hint_state_hidden")},e}(o.c);Object(a.a)({template:function(t){var e=this&&this.isRestored,n=e?u.er:u.e,r=e?u.ar:u.a,i=e?u.sr:u.s;return(e?u.fr:u.f)([n.d("hint__wrap",{},[this.options.close?[n("span","hint__close",{},[r(l.a,{class:"button_action-close button_action-close_invert",type:"clear",icon:!0,"icon-only":!0,method:this.onClickClose.bind(this)},this)])]:[]," ",n.d("hint__article",{},[this.options.title?[n("h4","hint__title",{},[i(Object(d.a)(this.options.title,{hash:{},data:{view:this}}))])]:[]," ",n.d("hint__text",{},this.options.text?[i(Object(d.a)(this.options.text,{hash:{},data:{view:this}}))]:[this.options.rawText])])," ",this.options.ctrl?[n.d("hint__ctrl",{},[r(l.a,{class:this.options.ctrl.className,label:Object(h.a)(this.options.ctrl.label,{hash:{},data:{view:this}}),type:"invert",icon:!0},this)])]:[]])])},events:{click:"onClick"},options:{close:!0}})(f)},"U+nm":function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("4RqY"),l=n("rreP"),d=n("lPPs"),h=n("Q0CO"),f=n("V8C4"),p=Object(u.a)(function(){var t=c()(i.a.mark(function t(e,n){var r,o,s,c,u,p;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=e.boardId,o=e.counter,s=n.getState,c=n.dispatch,f.d.clickBoardUnlock(a()({},o,{boardId:r})),r&&(u=Object(d.a)(s(),r))&&(p={board_title:u},c(Object(l.a)({message:h.boardCannotUnlock.r(p)})));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},U0LE:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var r=n("4RqY"),i=n("rreP"),o=n("KqGs"),a=function(t,e){return t[t[e="BIG_SIZE"]="bigSize"]=e,t[t[e="NOT_ALL"]="notAll"]=e,t[t[e="SMALL_DIMENSION"]="smallDimension"]=e,t[t[e="UNKNOWN"]="unknown"]=e,t[t[e="UPLOAD_ERROR"]="uploadError"]=e,t[t[e="UPLOAD_ERROR_ALL"]="uploadErrorAll"]=e,t[t[e="UPLOAD_WAIT"]="uploadWait"]=e,t[t[e="NOT_FOUND"]="notFound"]=e,t[t[e="SMALL_DIMENSION_FOUND"]="smallDimensionFound"]=e,t[t[e="SELECT_CARDS"]="selectCards"]=e,t[t[e="SELECTED_LIMIT"]="selectedLimit"]=e,t[t[e="UPDATED"]="updated"]=e,t}({}),s=Object(r.a)(function(t,e){var n,r,s=t.type,c=t.options,u=(e.getState,e.dispatch);s===a.NOT_ALL?n=o.notAll(c):s===a.BIG_SIZE?n=o.bigSize():s===a.SMALL_DIMENSION?n=o.smallDimension.r():s===a.UPLOAD_WAIT?n=o.uploadWait():s===a.UPLOAD_ERROR?n=o.uploadError():s===a.UPLOAD_ERROR_ALL?(n=o.uploadErrorAll(),r=!0):s===a.NOT_FOUND?n=o.notFound():s===a.SMALL_DIMENSION_FOUND?n=o.smallDimensionFound.r():s===a.SELECT_CARDS?n=o.selectCards():s===a.SELECTED_LIMIT?n=o.selectedLimit():s===a.UNKNOWN?n=o.unknown():s===a.UPDATED&&(n=o.updated()),u(Object(i.a)({message:n,persistent:r}))})},U9Ap:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("MTjZ"),i=n("lc+m");function o(t,e){var n=Object(r.a)(t),o="string"==typeof e?Object(i.a)(t,e):e;return Boolean(n&&o&&o.owner&&n.id===o.owner.id)}},UJ4k:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("T6Rw"),i=n("q/UM"),o=n("ukm6"),a=Object(r.a)(function(t,e){var n=e.hidePopup;return Object(o.a)(t).hidePopup?t:Object(i.a)(t,{hidePopup:n})})},UO52:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("Y+Td"),i={style:function(t,e){var n=Object(r.map)(t,function(t,e){return e+":"+t}).join(";");return n&&(e.style=n),e},width:function(t,e){return e=e||{},"auto"===t.width?e.width="auto":t.width?e.width=t.width+"px":t.widthp&&(e.width=t.widthp+"%"),e},dataBuilder:function(t){var e={};return t&&t.data&&Object(r.forEach)(t.data,function(t,n){void 0!==t&&(e["data-"+n]=t)}),Object(r.forEach)(t,function(t,n){n&&-1!==n.indexOf("data-")&&void 0!==t&&(e[n]=t)}),e},builder:function(t,e){var n=this.dataBuilder(e);return t.forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),n}}},UQOb:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("i7uI"),i=n("y6Xm"),o=n("RLYd"),a=Object(o.a)(r.a,Object(i.a)("cards_count",0))},Ucdb:function(t,e,n){"use strict";var r=n("qciZ")["i-services"];e.a=function(t,e){return"function"==typeof r[t]?r[t](e):r[t]}},UoCc:function(t,e,n){"use strict";function r(t,e){var n=t&&t[e];if(n)return Number(n.count)}n.d(e,"a",function(){return r})},UoQv:function(t,e,n){"use strict";var r=n("hiol");e.a=r.a.applyDecls()},"V3+z":function(t,e,n){"use strict";function r(t){return JSON.stringify(t).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function i(t){var e=t.replace(/&lt;/g,"<").replace(/&amp;/g,"&");return JSON.parse(e)}n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i})},V7jS:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("4RqY"),c=n("+r4z"),u=n("gLBg"),l=n("ruzH"),d=n("FVd+"),h=Object(s.a)(function(){var t=a()(i.a.mark(function t(e,n){var r,o,a,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.taskId,o=n.getState,a=n.dispatch,s=Object(c.a)(o()),![u.a.MY_PROFILE,u.a.FAVORITES_TYPE].includes(s)){t.next=15;break}if(t.prev=4,!r){t.next=8;break}return t.next=8,a(Object(d.a)({taskId:r}));case 8:return t.next=10,a(Object(l.a)({}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),console.log("Sync profiled failed: "+t.t0.message);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}())},V8C4:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"g",function(){return l}),n.d(e,"e",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return p}),n.d(e,"f",function(){return g});var r=n("pVnL"),i=n.n(r),o=n("17x9"),a=n.n(o),s=function(t,e){return t[t[e="access"]="access"]=e,t[t[e="errorResource"]="error.resource"]=e,t[t[e="errorRuntime"]="error.runtime"]=e,t[t[e="trackObjects"]="track.objects"]=e,t[t[e="clickBoardCreate"]="click.board.create"]=e,t[t[e="clickBoardCreateBack"]="click.boards.create.back"]=e,t[t[e="finishBoardCreate"]="finish.board.create"]=e,t[t[e="clickBoardRemove"]="click.board.remove"]=e,t[t[e="finishBoardRemove"]="finish.board.remove"]=e,t[t[e="clickBoardEdit"]="click.board.edit"]=e,t[t[e="clickBoardEditClose"]="click.board.edit.close"]=e,t[t[e="clickBoardSubscribe"]="click.board.subscribe"]=e,t[t[e="finishBoardSubscribe"]="finish.board.subscribe"]=e,t[t[e="clickBoardFormClose"]="click.board.form.close"]=e,t[t[e="clickBoard"]="click.board"]=e,t[t[e="clickBoardHide"]="click.board.hide"]=e,t[t[e="finishBoardHide"]="finish.board.hide"]=e,t[t[e="finishBoardUnHide"]="finish.board.unhide"]=e,t[t[e="clickBoardComplain"]="click.board.complain"]=e,t[t[e="clickBoardUnlock"]="click.board.unlock"]=e,t[t[e="finishBoardUnlock"]="finish.board.unlock"]=e,t[t[e="viewBoards"]="view.boards"]=e,t[t[e="clickCardDislike"]="click.card.dislike"]=e,t[t[e="clickCardComment"]="click.card.comment"]=e,t[t[e="finishCardComment"]="finish.card.comment"]=e,t[t[e="clickCardLike"]="click.card.like"]=e,t[t[e="finishCardLike"]="finish.card.like"]=e,t[t[e="clickCardShare"]="click.card.share"]=e,t[t[e="finishCardShare"]="finish.card.share"]=e,t[t[e="clickCardCreate"]="click.card.create"]=e,t[t[e="finishCardCreate"]="finish.card.create"]=e,t[t[e="clickCardMove"]="click.card.move"]=e,t[t[e="finishCardMove"]="finish.card.move"]=e,t[t[e="clickCardRemove"]="click.card.remove"]=e,t[t[e="finishCardRemove"]="finish.card.remove"]=e,t[t[e="clickCardEdit"]="click.card.edit"]=e,t[t[e="finishCardUpdate"]="finish.card.update"]=e,t[t[e="clickCardWish"]="click.card.wish"]=e,t[t[e="finishCardWish"]="finish.card.wish"]=e,t[t[e="clickCardExternal"]="click.card.external"]=e,t[t[e="clickCardSerp"]="click.card.serp"]=e,t[t[e="clickCardRecipe"]="click.card.recipe"]=e,t[t[e="clickCardMarket"]="click.card.market"]=e,t[t[e="clickCardObjectAnswer"]="click.card.object.answer"]=e,t[t[e="clickCardOrganization"]="click.card.organization"]=e,t[t[e="clickCardTurbo"]="click.card.turbo"]=e,t[t[e="clickCardComplain"]="click.card.complain"]=e,t[t[e="clickCardComments"]="click.card.comments"]=e,t[t[e="clickCardExpandDescription"]="click.card.expand.description"]=e,t[t[e="clickCardExpandExtDescription"]="click.card.expand.ext.description"]=e,t[t[e="clickCardExpandContext"]="click.card.expand.context"]=e,t[t[e="clickCard"]="click.card"]=e,t[t[e="clickCardSimilar"]="click.card.similar"]=e,t[t[e="clickCardSeries"]="click.card.series"]=e,t[t[e="showCard"]="show.card"]=e,t[t[e="showCardVideoPlayer"]="show.card.videoplayer"]=e,t[t[e="playingCardHeartbeat"]="playing.card.heartbeat"]=e,t[t[e="clickCommentComplain"]="click.comment.complain"]=e,t[t[e="showCards"]="show.cards"]=e,t[t[e="viewCards"]="view.cards"]=e,t[t[e="clickLinkExternal"]="click.link_external"]=e,t[t[e="showAuthorsTypes"]="show.authors.types"]=e,t[t[e="clickAuthorsTypes"]="click.authors.types"]=e,t[t[e="clickAuthorsClose"]="click.authors.close"]=e,t[t[e="clickAuthorsBack"]="click.authors.back"]=e,t[t[e="clickAuthorsSeriesUpload"]="click.authors.series.upload"]=e,t[t[e="clickAuthorsSeriesSave"]="click.authors.series.save"]=e,t[t[e="clickAuthorsSeriesSelect"]="click.authors.series.select"]=e,t[t[e="clickAuthorsPreviewSeriesAdd"]="click.authors.preview.series.add"]=e,t[t[e="clickAuthorsPreviewSeriesEdit"]="click.authors.preview.series.edit"]=e,t[t[e="clickAuthorsPreviewSlide"]="click.authors.preview.slide"]=e,t[t[e="clickAuthorsPreviewCover"]="click.authors.preview.cover"]=e,t[t[e="clickAuthorsImageUpload"]="click.authors.image.upload"]=e,t[t[e="clickAuthorsLinkSubmit"]="click.authors.link.submit"]=e,t[t[e="finishAuthorsLinkSubmit"]="finish.authors.link.submit"]=e,t[t[e="clickAuthorsCollectionPrivate"]="click.authors.collection.private"]=e,t[t[e="clickAuthorsCollectionWishlist"]="click.authors.collection.wishlist"]=e,t[t[e="clickAuthorsDialogCancel"]="click.authors.dialog.cancel"]=e,t[t[e="clickAuthorsDialogContinue"]="click.authors.dialog.continue"]=e,t[t[e="showPluginStore"]="show.plugin.store"]=e,t[t[e="showPluginBanner"]="show.plugin.banner"]=e,t[t[e="hidePluginBanner"]="hide.plugin.banner"]=e,t[t[e="startPluginInline"]="start.plugin.inline"]=e,t[t[e="finishPluginInline"]="finish.plugin.inline"]=e,t[t[e="showPluginGuide"]="show.plugin.guide"]=e,t[t[e="skipPluginGuide"]="skip.plugin.guide"]=e,t[t[e="clickUserAuth"]="click.user.auth"]=e,t[t[e="clickUserAuthType"]="click.user.auth.type"]=e,t[t[e="finishUserAuth"]="finish.user.auth"]=e,t[t[e="showUserAuth"]="show.user.auth"]=e,t[t[e="clickUserLogout"]="click.user.logout"]=e,t[t[e="clickUserSubscribe"]="click.user.subscribe"]=e,t[t[e="finishUserSubscribe"]="finish.user.subscribe"]=e,t[t[e="clickUser"]="click.user"]=e,t[t[e="clickUserEdit"]="click.user.edit"]=e,t[t[e="clickChannelSubscribe"]="click.channel.subscribe"]=e,t[t[e="finishChannelSubscribe"]="finish.channel.subscribe"]=e,t[t[e="clickChannelHide"]="click.channel.hide"]=e,t[t[e="finishChannelHide"]="finish.channel.hide"]=e,t[t[e="finishChannelUnHide"]="finish.channel.unhide"]=e,t[t[e="clickChannelShowMore"]="click.channel.show_more"]=e,t[t[e="clickChannel"]="click.channel"]=e,t[t[e="clickChannelTab"]="click.channel.tab"]=e,t[t[e="showChannelFooter"]="show.channel.footer"]=e,t[t[e="showChannelRelated"]="show.channel.related"]=e,t[t[e="viewChannels"]="view.channels"]=e,t[t[e="clickSearchToggle"]="click.search_toggle"]=e,t[t[e="clickTimeline"]="click.timeline"]=e,t[t[e="clickMyBoards"]="click.my_boards"]=e,t[t[e="clickLinkFeed"]="click.link.feed"]=e,t[t[e="clickLinkHome"]="click.link.home"]=e,t[t[e="clickLinkQuery"]="click.link.query"]=e,t[t[e="clickYaShare"]="click.ya_share"]=e,t[t[e="showSocialShare"]="show.social.share"]=e,t[t[e="closeSocialShare"]="close.social.share"]=e,t[t[e="clickSocialShare"]="click.social.share"]=e,t[t[e="showGuide"]="show.guide"]=e,t[t[e="clickGuideHide"]="click.guide.hide"]=e,t[t[e="clickGuideNext"]="click.guide.next"]=e,t[t[e="showHint"]="show.hint"]=e,t[t[e="closeHint"]="close.hint"]=e,t[t[e="clickHintAccept"]="click.hint.accept"]=e,t[t[e="clickSearch"]="click.search"]=e,t[t[e="clickSearchAppend"]="click.search.append"]=e,t[t[e="clickSearchCbir"]="click.search.cbir"]=e,t[t[e="clickSearchMic"]="click.search.mic"]=e,t[t[e="clickSearchNav"]="click.search.nav"]=e,t[t[e="clickCbir"]="click.cbir"]=e,t[t[e="finishCbir"]="finish.cbir"]=e,t[t[e="clickFavorites"]="click.favorites"]=e,t[t[e="showFavoritesEmpty"]="show.favorites.empty"]=e,t[t[e="clickFeed"]="click.feed"]=e,t[t[e="clickFeedMore"]="click.feed.more"]=e,t[t[e="clickFeedTop"]="click.feed.top"]=e,t[t[e="showFeedAuthIncut"]="show.feed.incut.auth"]=e,t[t[e="clickFeedAuthIncutClose"]="click.feed.incut.auth.close"]=e,t[t[e="clickContests"]="click.contests"]=e,t[t[e="clickContestDescription"]="click.contest.description"]=e,t[t[e="clickContestSubmission"]="click.contest.submission"]=e,t[t[e="passContestSubmission"]="pass.contest.submission"]=e,t[t[e="clickContestEvaluation"]="click.contest.evaluation"]=e,t[t[e="clickContestLike"]="click.contest.like"]=e,t[t[e="clickContestDislike"]="click.contest.dislike"]=e,t[t[e="clickCardContestLink"]="click.card.contest.link"]=e,t[t[e="clickPhotoDailySubscribe"]="click.photo.daily.subscribe"]=e,t[t[e="finishPhotoDailySubscribe"]="finish.photo.daily.subscribe"]=e,t[t[e="clickBoardsListAdd"]="click.boards.list.add"]=e,t[t[e="clickFileUpload"]="click.file.upload"]=e,t[t[e="clickPictureSelect"]="click.picture.select"]=e,t[t[e="clickSidebarCtrl"]="click.sidebar.ctrl"]=e,t[t[e="clickCardPreview"]="click.card.preview"]=e,t[t[e="clickVerticals"]="click.verticals"]=e,t[t[e="clickPageScroll"]="click.page.scroll"]=e,t[t[e="clickPageClose"]="click.page.close"]=e,t[t[e="clickPageUp"]="click.page.up"]=e,t[t[e="clickFeedCustomize"]="click.feed.customize"]=e,t[t[e="clickModalClose"]="click.modal.close"]=e,t[t[e="clickModalAction"]="click.modal.action"]=e,t[t[e="clickModalLink"]="click.modal.link"]=e,t[t[e="showModal"]="show.modal"]=e,t[t[e="showPage"]="show.page"]=e,t[t[e="clickRatings"]="click.ratings"]=e,t[t[e="showHuaweiBanner"]="show.huawei.banner"]=e,t[t[e="clickHuaweiBanner"]="click.huawei.banner"]=e,t[t[e="clickHuaweiBannerClose"]="click.huawei.banner.close"]=e,t[t[e="clickZnatokiBanner"]="click.znatoki.banner"]=e,t[t[e="showBulkModal"]="show.bulk.modal"]=e,t[t[e="clickBulkModalClose"]="click.bulk.modal.close"]=e,t[t[e="clickBulkModalMove"]="click.bulk.modal.move"]=e,t[t[e="clickBulkModalRemove"]="click.bulk.modal.remove"]=e,t[t[e="finishBulkModalMove"]="finish.bulk.modal.move"]=e,t[t[e="finishBulkModalRemove"]="finish.bulk.modal.remove"]=e,t[t[e="showEventPopup"]="show.event.popup"]=e,t[t[e="clickEventPopupClose"]="click.event.popup.close"]=e,t[t[e="clickEventPopupAction"]="click.event.popup.action"]=e,t[t[e="showPopupAdd"]="favorites.popup.show.add"]=e,t[t[e="clickCollectionSearch"]="favorites.popup.show.add.click.search"]=e,t[t[e="showPopupCollectionNew"]="favorites.popup.show.add.newcollection"]=e,t[t[e="clickEditPopupAdd"]="favorites.popup.show.add.click.desc.edit"]=e,t[t[e="cancelEditPopupAdd"]="favorites.popup.show.add.click.desc.cancel"]=e,t[t[e="submitEditPopupAdd"]="favorites.popup.show.add.click.desc.submit"]=e,t[t[e="finishPopupAdd"]="favorites.popup.show.add.added"]=e,t[t[e="clickDirect"]="click.direct"]=e,t[t[e="velocityProcess"]="velocity.process"]=e,t[t[e="velocityResources"]="velocity.resources"]=e,t[t[e="velocitySpinner"]="velocity.spinner"]=e,t[t[e="velocitySpinnerError"]="velocity.spinner.error"]=e,t[t[e="clickMain"]="click.main"]=e,t[t[e="clickMainLogo"]="click.main.logo"]=e,t[t[e="clickBookmarksSync"]="click.bookmarks.sync"]=e,t[t[e="showShortPopupAdd"]="favorites.element.show"]=e,t[t[e="showShortPopupEdit"]="favorites.element.show.edit"]=e,t[t[e="clickShortPopupAddCollections"]="favorites.element.show.add.collection"]=e,t[t[e="clickShortPopupAddDefault"]="favorites.element.show.add.default"]=e,t[t[e="clickShortPopupAddNew"]="favorites.element.show.add.new"]=e,t[t[e="clickShortPopupAddMore"]="favorites.element.show.add.more"]=e,t[t[e="closeShortPopupAdd"]="favorites.element.close.added"]=e,t[t[e="closeShortPopupMove"]="favorites.element.close.edited"]=e,t[t[e="closeShortPopupNoop"]="favorites.element.close.no-action"]=e,t[t[e="showAddTooltip"]="favorites.tooltip.success"]=e,t[t[e="clickAddTooltipCollections"]="favorites.tooltip.success.collections"]=e,t[t[e="clickAddTooltipCollectionsMove"]="favorites.tooltip.success.edit"]=e,t[t[e="clickKebab"]="click.kebab"]=e,t[t[e="clickVideoPlay"]="click.video.play"]=e,t[t[e="clickVideoStop"]="click.video.stop"]=e,t}({});function u(t,e){return function(n){var r=n.prototype,o=r.attributes||{};r.attributes=function(){var n="function"==typeof o?o.call(this):o,r="function"==typeof e?e.call(this):e;return this.options.counterParams&&(r=i()({},r,this.options.counterParams)),Object.assign({},n,{"data-c":d(t)+h(r)})}}}function l(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n.pop()||{},o={};return n.forEach(function(t){return Object.assign(o,t)}),i.hash?Object.assign(o,i.hash):Object.assign(o,i),d(t)+h(o)}function d(t){return s[t]||t}function h(t){return void 0===t&&(t={}),Object.keys(t).map(function(e){return t[e]||!1===t[e]||0===t[e]?"/"+e+"="+encodeURIComponent(t[e]):""}).join("")}var f={},p={};function g(t){var e=t;return e.contextTypes=i()({},e.contextTypes,{counter:a.a.object}),t}Object.keys(s).forEach(function(t){f[t]=function(e){return l(t,e)},p[t]=function(e){"function"==typeof c&&c(l(t,e))}})},V8c5:function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("4RqY"),c=n("kdr8"),u=n("TpzA"),l=n("V8C4"),d=n("Jxqj"),h=n("CsIx"),f=n("Wopx"),p=n("1WnH"),g=n("QodL"),m=n("Kj4u"),v=Object(s.a)(function(){var t=a()(i.a.mark(function t(e,n){var r,o,a,s,v,b,_,y,C,O,S,w;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.id,o=e.storeKey,a=e.counter,s=n.getState,v=n.di,b=n.dispatch,l.d.clickYaShare(a),t.next=5,v({env:"env",requestAdapter:"request"});case 5:if(_=t.sent,"cards"!==o){t.next=15;break}if(y=s().entities,(C=y&&y[o])&&C[r]){t.next=12;break}return t.next=12,b(Object(m.a)({cardId:r}));case 12:if(O=Object(d.a)(s(),r),!Object(h.a)(O)){t.next=15;break}return t.abrupt("return",Object(c.b)(_,{}));case 15:if(S=s(),w=Object(f.a)(S),Object(u.a)(S,{id:r,storeKey:o})&&w){t.next=20;break}throw new Error("Not enough data to share");case 20:b(Object(p.a)({type:g.a.SHARE,animationType:"modal",options:{id:r,stateKey:o}}));case 21:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},VDDL:function(t,e,n){"use strict";function r(t){return function(e){return function(n){var r=n.dispatch;return t.reduce(function(t,n){return t.then(function(){return r(n(e))})},Promise.resolve())}}}n.d(e,"a",function(){return r})},"VL+A":function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("xriV");function i(t){var e=[];return function t(n,i){if(n){if(n instanceof Error)return Object(r.a)(n);if("function"==typeof n)return"[fn]";if("object"==typeof n){if("function"==typeof n.toJSON&&(n=n.toJSON()),e.includes(n))return"[Recursive "+Object.prototype.toString.call(n)+"]";if(!i)return"...";if(e.push(n),Array.isArray(n))return n.map(function(e){return t(e,i-1)});var o={};if(n&&"object"==typeof n){for(var a in n)({}).hasOwnProperty.call(n,a)&&"function"!=typeof n[a]&&(o[a]=t(n[a],i-1));n.constructor&&"Object"!==n.constructor.name&&(o.constructor={name:n.constructor.name})}else console.log(n);return o}return n}return n}(t,3)}function o(t){return"function"==typeof t?{value:t.toString().slice(0,100)}:"object"!=typeof t||Array.isArray(t)?{value:i(t)}:i(t)}},VMUI:function(t,e,n){"use strict";function r(t){return"https://yandex.ru/collections/picture/users/"+encodeURIComponent(t)+"/"}n.d(e,"a",function(){return r})},VRo3:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("3lXt"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("is_wishlist",!1))},VrZJ:function(t,e,n){"use strict";var r,i,o,a=n("o0o1"),s=n.n(a),c=n("yXPU"),u=n.n(c),l=n("cDcd"),d=n("faye"),h=n("Oijh"),f=n("4RqY"),p=n("VbXa"),g=n.n(p),m=n("U+yc"),v=n.n(m),b=n("GhlN"),_=n("LH8O"),y=(r=Object(_.a)(),i=Object(_.a)(),o=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={hidden:!1},e}g()(e,t);var n=e.prototype;return n.componentDidMount=function(){window.addEventListener("click",this.onClickOut,!0),window.addEventListener("popstate",this.onBackClick)},n.componentWillUnmount=function(){window.removeEventListener("click",this.onClickOut,!0),window.removeEventListener("popstate",this.onBackClick)},n.hide=function(t){var e=this;this.state.hidden||(this.setState({hidden:!0}),setTimeout(function(){e.setState({hidden:!1}),t&&t()},200))},n.onClickOut=function(t){t&&t.target&&t.target===this.modal&&(t.stopPropagation(),t.preventDefault(),this.hide(this.props.onClickOut))},n.onBackClick=function(){this.hide(this.props.onClickOut)},n.render=function(){var t=this,e=this.props,n=e.title,r=e.description,i=e.confirmLabel,o=e.cancelLabel,a=e.onCancel,s=e.onConfirm,c=this.state.hidden;return l.createElement("div",{className:Object(b.a)("modal-dialog",{show:!c}),ref:function(e){return t.modal=e}},l.createElement("div",{className:"modal-dialog__wrap"},l.createElement("div",{className:"modal-dialog__text"},l.createElement("div",{className:"modal-dialog__title"},n),r&&l.createElement("div",{className:"modal-dialog__description"},r)),l.createElement("div",{className:"modal-dialog__buttons"},l.createElement("div",{className:Object(b.a)("modal-dialog__button",{type:"cancel"}),onClick:function(){t.hide(a)}},o),l.createElement("div",{className:Object(b.a)("modal-dialog__button",{type:"confirm"}),onClick:function(){t.hide(s)}},i))))},e}(l.Component),v()(o.prototype,"onClickOut",[r],Object.getOwnPropertyDescriptor(o.prototype,"onClickOut"),o.prototype),v()(o.prototype,"onBackClick",[i],Object.getOwnPropertyDescriptor(o.prototype,"onBackClick"),o.prototype),o),C=n("7/cf");n.d(e,"a",function(){return S});var O=!1;function S(t){return Object(f.a)((e=u()(s.a.mark(function e(n,r){var i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.getState,e.abrupt("return",new Promise(function(e,n){var r=i();if(Object(C.b)(r))if(O)n(new Error("modal dialog in progress"));else{var o=function(){Object(d.unmountComponentAtNode)(s),document.body.removeChild(s),O=!1},a=Object(h.a)(r),s=document.createElement("div");document.body.appendChild(s),O=!0,Object(d.render)(l.createElement(y,{title:t.title,description:t.description,confirmLabel:t.confirmLabel,cancelLabel:t.cancelLabel,onConfirm:function(){o(),t.onConfirm({counter:a}).then(e,n)},onCancel:function(){o(),t.onCancel({counter:a}).then(e,n)},onClickOut:function(){o(),t.onClickOut({counter:a}).then(e,n)}}),s)}else e()}));case 2:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)}));var e}},VtoV:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("aGho"),i=n("+Jil");function o(t){var e=Object(i.a)(t);if(e)return r.d[e]}},Vucc:function(t,e,n){"use strict";var r=n("2Dbn");e.a=r.a.applyDecls()},"W+cT":function(t,e,n){"use strict";function r(t,e){var n=t&&t[e];if(n&&n.results)return n.results}n.d(e,"a",function(){return r})},"W/Tm":function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n("cDcd"),i=n("Jtp2"),o=n("jR8C"),a=n("t8XC"),s=n("/ere"),c=n("Aq/C"),u=n("nw8a"),l=[a,c,s,n("rqaQ"),i,o,u],d=function(t){var e=t.index;return"number"!=typeof e?null:r.createElement("span",{className:"cl-teaser__imageholder",style:{backgroundImage:"url("+l[e%l.length]+")"}})}},"W/pO":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("6ga4");function s(t){return o.createElement("span",{className:Object(a.a)("cl-teaser__placeholder",t)})}var c=function(t){var e,n=t.mod,r=t.mods,c=t.avatar,u=t.category,l=t.title,d=t.desc;return o.createElement("div",{className:Object(a.a)("cl-teaser-info",i()((e={},e[n]=Boolean(n),e),r))},c&&s({avatar:c}),u&&s({category:u}),l&&s({title:l}),d&&s({desc:d}))}},WLXC:function(t,e,n){"use strict";var r=n("9ArA");e.a=r.a.applyDecls()},WLYw:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("3lXt"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("slug"))},WMgd:function(t,e,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("gQdx"),l=n("NFKc"),d=n("V8C4"),h=n("BCLc"),f=n("TANO"),p=n("8KwP"),g=n("lPPs"),m=n("rreP"),v=n("vSoZ"),b=n("dohL"),_=n("T6Rw"),y=n("c+Ap"),C=Object(_.a)(function(t,e){var n=e.board,r=e.error;if(r)return r.status===y.G.DUPLICATE?m.a.reducer(t,{message:v.boardCreateDuplicate()}):b.a.reducer(t,r);if(n){var i={board_title:Object(g.a)(t,n.id)};return m.a.reducer(t,{message:v.boardCreated.r(i)})}return t});n.d(e,"a",function(){return O});var O=Object(l.a)("request",function(){var t=c()(i.a.mark(function t(e,n,r){var o,s,c,l,g,m;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.boardData,s=n.counter,c=n.updateUserRecent,r.getState,l=r.dispatch,m={title:o.title,description:o.description,is_private:o.is_private,is_wishlist:o.is_wishlist},t.prev=3,t.next=6,e.post("/collections/api/boards/",m);case 6:g=t.sent,t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(3),l(C({error:t.t0})),t.t0;case 13:if(!g||!g.id){t.next=20;break}return d.d.finishBoardCreate(a()({boardId:g.id,hasDescription:Boolean(m.description),isPrivate:m.is_private,isWishList:m.is_wishlist},s)),l(Object(h.a)(null)),l(Object(f.a)(g)),c&&l(Object(p.a)(void 0)),l(Object(u.a)({id:g.id,value:g})),t.abrupt("return",g);case 20:case"end":return t.stop()}},t,this,[[3,9]])}));return function(){return t.apply(this,arguments)}}())},WNXv:function(t,e,n){"use strict";function r(t){return t&&t.content?t.content.avatars_meta:null}n.d(e,"a",function(){return r})},WVyS:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("pVnL"),i=n.n(r),o=n("r/yX"),a="data:image";function s(t){var e,n;return t.source&&t.source.url!==a&&(e=t.source.preview),Object(o.a)(t)||(n=t.id),i()({},t,{id:n,source:i()({},t.source,{preview:e})})}},WXND:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("NFKc"),c=n("gQdx"),u=function(t){return"/collections/api/boards/"+encodeURIComponent(t)},l=Object(s.a)("request",function(){var t=a()(i.a.mark(function t(e,n,r){var o,a,s,l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.boardId,a=n.options,r.getState,s=r.dispatch,t.next=4,e.get(u(o),a||{});case 4:return l=t.sent,s(Object(c.a)({id:o,value:l,parse:!0})),t.abrupt("return",l);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},WbN8:function(t,e,n){"use strict";n.d(e,"c",function(){return c}),n.d(e,"a",function(){return u}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return d}),n.d(e,"b",function(){return f}),n.d(e,"f",function(){return p});var r=n("pVnL"),i=n.n(r),o=n("1XU/"),a="Thu, 31 Dec 2037 21:00:00 GMT",s="yp";function c(t){var e={};return t.split(";").forEach(function(t){var n=t.trim().split("="),r=n[0],i=n.slice(1);e[r]=i.join("=")}),e}function u(t){return c(document.cookie)[t]}function l(t,e,n,r){void 0===r&&(r=!0),r&&(e=encodeURIComponent(e));var i=t+"="+e;Object.keys(n).forEach(function(t){i+=";"+t+"="+n[t]}),document.cookie=i}function d(t,e,n){void 0===n&&(n={}),l(t,e,i()({path:"/collections"},n)),l(t,e,i()({path:"/images"},n))}function h(){for(var t=Date.now()/1e3,e=u(s),n=e?e.split("#"):[],r={},i=0;i<n.length;i++){var o=n[i].split("."),a=o[0],c=o[1],l=o.slice(2).join(".");Number(a)>t&&(r[c]={value:decodeURIComponent(l),expires:Number(a)})}return r}function f(t){var e=h()[t];return e?e.value:void 0}function p(t,e,n){var r,c,u;c=i()({},h(),((r={})[t]={value:e,expires:n},r)),u=Object.keys(c).map(function(t){return[c[t].expires,t,encodeURIComponent(c[t].value)].join(".")}).join("#"),l(s,u,{expires:a,domain:Object(o.a)(".yandex.ru"),path:"/"},!1)}},WiFc:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("y6Xm"),i=n("Y6N5"),o=n("RLYd"),a=Object(o.a)(i.a,Object(r.a)("page_title"))},Wk2l:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({register:"Реєстрація",login:"Увійти"})},Wo2F:function(t,e,n){"use strict";var r=n("Lyz4");e.a=r.a.applyDecls()},Wopx:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("y6Xm"),i=Object(r.a)("env",{})},Wrnh:function(t,e,n){"use strict";var r,i=n("0lHE"),o=n("8ZBI"),a=n("y6Xm"),s=n("/Epz"),c=Object(s.a)(o.a,Object(a.a)("installed",!1)),u=n("PSoe"),l=n("m4u8");function d(t){return Boolean(t&&!t.env.isEmbed&&!Object(l.a)(t)&&!function(t){return r||(r=document.body.classList.contains(u.d)),r||c(t)}(t)&&Object(i.a)())}n.d(e,"a",function(){return d})},WucJ:function(t,e,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;t.exports=r({"tag(food,ingredients_exclude)":function(t){return"— "+i(t.text)},"tag(food,cuisines)":function(t){return"Кухня: "+i(t.text)}})},WyUc:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),function(t,e){t[t[e="CARD"]="card"]=e,t[t[e="BOARD"]="board"]=e,t[t[e="COMMENT"]="comment"]=e}({});var r=function(t,e){return t[t[e="HIDE"]="hide"]=e,t[t[e="SPAM"]="spam"]=e,t[t[e="PORN"]="porn"]=e,t[t[e="HATE_SPEECH"]="hate_speech"]=e,t[t[e="RULES_VIOLATION"]="rules_violation"]=e,t}({})},XIzb:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({move:"Куди перенести?",saveTitle:"Куда сохранить?",save:"Зберегти",edit:"Редактирование"})},XL0g:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("gl2N"),i=n("YAwY"),o=n("c+Ap");function a(t,e){var n,a=void 0===e?{hash:{}}:e,s=a.hash,c=s.size,u=void 0===c?"preview":c,l=s.forceProd,d=void 0!==l&&l,h=a.data;if(o.O[u]&&(u=o.O[u]),t instanceof r.a)return t.getImageURL({size:u,forceProd:d});if(t)return t.avatars_key&&(t={content:t}),t.content?n=Object(i.a)(t.content,{forceProd:d,size:u}):t.source&&(n=t.source.url),n;console.error("Cannot build mds url for ",t);try{h&&h.view&&h.view.env&&h.view.env.event&&console.error("Cannot build mds url for "+JSON.stringify(h.view.env.event.params))}catch(t){}}},XPFG:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("y6Xm"),i=Object(r.a)("id")},XU4g:function(t,e,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("4RqY"),l=n("4lM7"),d=n("cX81"),h=n("V8C4"),f=n("v4Hp"),p=n("dNc+"),g=n("+mVu"),m=n("xalX"),v=n("1ZVK"),b=n("y6Xm"),_=n("OZAH");function y(t,e){var n=e.request,r=e.stateKey,i=e.normalizer,o=e.entityType,a=e.getState,s=e.dispatch,c=function(){return a()[r]},u=Object(_.a)(c,function(t){var e=[];return t&&t.results.forEach(function(t){if(function(t){return!o||!t.entity_type||t.entity_type===o}(t)){var n=i.denormalize(a().entities,t);0!==Object.keys(n).length&&e.push(n)}}),e}),l=new t(Object(m.a)(u()),{request:n,parse:!0}),d=c();return d&&(l.url=d._url,l.fetchParams=d._query),l.getCount=function(){return l.length||0},l.isLoading=Object(_.a)(c,Object(b.a)("_loading",!1)),l.isFullyLoaded=function(){var t=c();return!!t&&!this.isLoading()&&!t.next},l.fetchNext=function(){var t=this;return this.isFullyLoaded()?this._warn("Pagination.fetchNext for fully loaded collection"):c()?s(Object(v.a)({storeKey:r})).then(function(){var e=u().filter(function(e){var n=e.id;return!t.get(n)});t.add(e,{parse:!0})}).catch(function(t){return console.error(t)}):void 0},l.clone=function(){return l},l}var C=n("lc+m"),O=n("Kj4u"),S=n("7hiN"),w=n("Wopx"),E=n("gLBg"),k=n("JhPm"),j=n("aFHS"),T=n("Hxdx"),x=n("om3R"),R=n("hDfK");n.d(e,"a",function(){return I});var I=Object(u.a)(function(){var t=c()(i.a.mark(function t(e,n){var r,o,s,c,u,m,v,b,_,I,D,P,L,N,A,B,M;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.id,o=e.storeKey,s=e.counter,c=e.focus,u=n.getState,m=n.di,v=n.dispatch,b=Object(E.e)(r,{autoclose:"yes"}),!(_=Object(j.a)(u(),r)&&Object(R.a)(u()))){t.next=8;break}if(b=Object(T.a)(Object(x.a)(u(),r))){t.next=8;break}throw new Error("Unknown source url");case 8:if(s=a()({},s,{cardId:r}),h.d.clickCard(s),!_){t.next=12;break}return t.abrupt("return",Object(S.a)(b,u().env));case 12:return t.next=14,m("CardPopupState");case 14:return I=t.sent,t.next=17,m("request");case 17:if(D=t.sent,P=u(),L=Object(w.a)(P),Object(C.a)(P,r)){t.next=25;break}return t.next=24,v(Object(O.a)({cardId:r}));case 24:P=u();case 25:L&&(L.isBrowserApp||L.isYandexRecent||L.isYandexAppMultiMorda)?Object(S.a)(b,L):o?(N=y("channelCards"===o?l.a:f.a,{stateKey:o,normalizer:p.b,entityType:k.a.CARD,request:D,getState:u,dispatch:v}),I.openCardPopup(N.get(r),N,{stateKey:o,counter:s})):(A=Object(g.a)(P,r),B=d.a.dataFactory(A,{request:D,parse:!0}),c&&(B.options.focus=c),(M=new f.a).add(B),M.setFullyLoaded(),I.openCardPopup(B,M,{stateKey:o,counter:s}));case 26:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},XUyP:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({collections:"Мої колекції"})},XZwp:function(t,e,n){"use strict";var r=n("pVnL"),i=n.n(r),o=!1;window.addEventListener("beforeunload",function(){o=!0}),n.d(e,"a",function(){return u});var a=3e3,s=3,c=20;function u(t,e,n,r){void 0===r&&(r=c);var u,l=[],d=!1,h="string"==typeof e?(u=e,{extract:function(t){var e=t&&t[u];return Array.isArray(e)?e:"string"==typeof e?e.split(","):[]},serialize:function(t){var e;return(e={})[u]=t.join(","),e}}):e;function f(){(d=Boolean(l.length))&&setTimeout(p,a)}function p(){var t=l.splice(0,s);if(t.length){var e=t.reduce(function(t,e){var o=e.hash,a=e.instances;if(a&&a.length){if(a.length>r){var s=a.splice(0,r);t.push({hash:o,instances:a}),a=s}n(i()({},o,h.serialize(a)))}return t},[]);e.length&&(l=l.concat(e)),f()}}function g(e,n){return t.every(function(t){return e[t]===n[t]})}return function(t){if(t){for(var e=!1,n=h.extract(t),r=0;r<l.length;r++){var i=l[r];if(g(i.hash,t)){i.instances=i.instances.concat(n),e=!0;break}}e||l.push({hash:t,instances:n}),"visible"!==document.visibilityState||o?p():d||f()}}}},Xjfm:function(t,e,n){t.exports=n.p+"f/ce33.woff"},Y6N5:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("i1uP"),i=n("y6Xm"),o=n("lc+m"),a=Object(r.a)(o.a,Object(i.a)("source_meta"))},Y6Ru:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("4jvx");function i(t){return t.map(function(t){return r[t]?r[t]():t})}},YAwY:function(t,e,n){"use strict";var r=n("c+Ap"),i=n("7BjU");n.d(e,"a",function(){return s});var o=/\/\/avatars\.mds\.yandex.net\/get-vthumb\//,a=/\/\/avatars\.mds\.yandex.net\/get-vh\//;function s(t,e){if(void 0===e&&(e={}),!t)return"";var n=t&&"content"in t?t.content:t;if(!n)return"";var s,c=e,u=c.forceProd,l=void 0!==u&&u,d=c.size,h=void 0===d?"orig":d,f=c.serverTeaser,p=void 0!==f&&f,g="https://avatars.mds.yandex.net/";if(!l&&r.jb&&(g="/avatars/"),function(t){return 1345964===t.group_id&&"008d5fa9-3c80-432b-a582-7be8447c90a1"===t.avatars_key}(n)&&(h="orig"),n.source&&n.source.thumb_id){var m=i.b[h];m||(m=i.b.s600),s="https://im0-tub-ru.yandex.net/i?id="+encodeURIComponent(n.source.thumb_id)+"&n="+encodeURIComponent(m)}else if(n.source&&n.source.thumb_link){var v;s=n.source.thumb_link,o.test(s)?v=i.c.vthumb480x270:a.test(s)&&(v=i.c.vh400x225),v&&(s=s.replace(/^http:/,"https:")+"/"+v)}else{if(!n.group_id||!n.avatars_key)return"";s=g+"get-"+(p?r.Q:r.P)+"/"+n.group_id+"/"+n.avatars_key+"/"+h}return s}},YDzz:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("cDcd"),i=n("3q8J"),o=n("ZMRC"),a=function(t){var e=t.href,n=t.login,a=t.showName,s=t.displayName,c=t.userAvatar,u=t.isRestricted,l=t.style,d=t.className,h=t.blank,f=t.counter,p=t.onClick,g=t.children,m=e;return m||(m=u||!n?Object(i.c)():Object(i.e)(n)),r.createElement("a",{href:m,className:d,style:l,title:a&&s?s:void 0,"data-c":f,target:h?"_blank":void 0,onClick:p},c,a&&r.createElement(o.a,{noWrapper:!0,displayName:s}),g)}},YFOV:function(t,e,n){"use strict";function r(t){return function(e,n){if(e){var r=e.entities,i=r&&r[t];return n&&i?("object"==typeof n&&(n=n.id),i[n]):void 0}}}n.d(e,"a",function(){return r})},YHA2:function(t,e,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("8OQS"),a=n.n(o),s=n("cDcd"),c=n("JxqJ"),u=n("80cV"),l=n("y6Xm"),d=n("RLYd"),h=Object(d.a)(u.a,Object(l.a)("shares_count",0)),f=n("U9Ap"),p=n("TBxt"),g=n("EC4j"),m=n("irYq"),v=n("h3n8"),b=n("Wopx");n.d(e,"a",function(){return _});var _=Object(c.b)(function(t,e){return{isMultiMorda:Object(b.a)(t).isYandexAppMultiMorda,isOwnerCard:Object(f.a)(t,e.cardId),sharesCount:h(t,e.cardId)}})(function(t,e){var n,r=e.counter,o=t.cardId,c=t.showStat,u=t.isMultiMorda,l=t.isOwnerCard,d=t.sharesCount,h=t.dispatch,f=t.onShare,b=a()(t,["cardId","showStat","isMultiMorda","isOwnerCard","sharesCount","dispatch","onShare"]);return n=c?Object(v.a)(d,c&&!0):l?m.move():m.share(),s.createElement(g.a,i()({label:n,onClick:function(){u||h(Object(p.a)({id:o,counter:r})),f&&f()}},b))})},YQQ1:function(t,e,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("JxqJ"),s=n("lc+m"),c=n("FPVx"),u=(n("a2jT"),n("izju")),l=n("rT8E"),d=n("om3R"),h=n("Q6yW"),f=n("aFHS"),p=n("Hxdx"),g=n("V8C4"),m=n("KGKq"),v=n("m7Ew");n.d(e,"a",function(){return b});var b=Object(a.b)(function(t,e){var n=Object(s.a)(t,e.cardId),r=Object(c.a)(t,n);return n&&e.avoidViewer&&(r=function(t){var e=Object(d.a)(t),n=Object(l.a)(e),r=Boolean(t.recipe),i=n===u.a.LINK;return Object(f.a)(t)?Object(p.a)(e):r?Object(h.a)(t):i?Object(c.a)(null,t):t.market&&t.market.link||void 0}(n)||r),{externalLink:r}})(function(t,e){var n=e.counter,r=t.className,a=t.style,s=t.disableLink,c=t.cardId,u=t.storeKey,l=t.children,d=t.externalLink;return d?o.createElement(v.a,{href:d,className:r,props:{style:a,onClick:function(){g.d.clickCard(i()({},n,{cardId:c}))}}},l):o.createElement(m.a,{className:r,style:a,disableLink:s,cardId:c,storeKey:u},l)})},YUGr:function(t,e,n){t.exports=n.p+"f/e40a.woff"},YuhT:function(t,e,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;t.exports=r({title:"Рецепт",showMoreIngredients:[function(t){return"Ще "+i(t.count)+" інгредієнт"},function(t){return"Ще "+i(t.count)+" інгредієнти"},function(t){return"Ще "+i(t.count)+" інгредієнтів"}],button:"Рецепт",site:function(t){return"Весь рецепт на "+i(t.site)},cookingTimeShort:"Час приготув.",cookingTime:"Час приготування",servingsTitle:"Кількість порцій",servingsCount:[function(t){return i(t.count)+" порція"},function(t){return i(t.count)+" порції"},function(t){return i(t.count)+" порцій"}],servingsRangeCount:[function(t){return i(t.count0)+"-"+i(t.count)+" порція"},function(t){return i(t.count0)+"-"+i(t.count)+" порції"},function(t){return i(t.count0)+"-"+i(t.count)+" порцій"}]})},Z0W1:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("/Epz"),i=n("Wopx"),o=n("y6Xm"),a=Object(r.a)(i.a,Object(o.a)("ua",{}))},"ZK//":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("K5nR"),i=n("dNc+"),o=n("O/ol"),a=Object(r.a)({normalizer:i.d,getEntity:o.a})},ZK63:function(t,e,n){t.exports=n.p+"f/5be4.gif"},ZMRC:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("cDcd"),i=function(t){var e=t.displayName;return r.createElement(r.Fragment,null,r.createElement("span",null,e.slice(0,1)),e.slice(1))},o=function(t){var e=t.displayName,n=t.userLetter,o=t.noWrapper;if(!e)return null;var a=e;return n&&(a=r.createElement(i,{displayName:e})),o?r.createElement(r.Fragment,null,a):r.createElement("span",{className:"ya-login__name"},a)}},ZQCJ:function(t,e,n){"use strict";var r=n("qRQ3");e.a=r.a.applyDecls()},ZhkI:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t){var e=t.model;this.model=e,this.pool={},this.counter=0,this.model.on("request",this.handler,this)}var e=t.prototype;return e.destroy=function(){this.model.off("request",this.handler,this)},e.activate=function(){var t=this,e=++this.counter;return{reqId:e,done:function(){return t.done(e)}}},e.handler=function(t,e,n){void 0===n&&(n={});var r=n._reqId;r&&(this.pool[r]=e)},e.isActive=function(){return Boolean(Object.keys(this.pool).length)},e.done=function(t){this.pool[t]&&delete this.pool[t]},e.reset=function(){var t=this.pool;Object.keys(t).forEach(function(e){return t[e].abort()}),this.pool={}},t}()},Zngv:function(t,e,n){t.exports=n.p+"f/73ee.gif"},Zoo8:function(t,e,n){"use strict";var r=n("oRCq");function i(t,e,n){var i;return"m"===n?e?"хвилина":"хвилину":"h"===n?e?"година":"годину":t+" "+(i=+t,{mm:e?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:e?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[n].split("_")[r(i)])}var o={yearSuffixed:"YYYY г.",months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_")},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:i,mm:i,h:"годину",hh:i,d:"день",dd:i,M:"місяць",MM:i,y:"рік",yy:i}};n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"a",function(){return l}),n.d(e,"f",function(){return d});var a=2629746e3,s={ss:44,s:45,m:45,h:22,d:26,M:11},c={y:"year",M:"month",w:"week",d:"day",h:"hour",m:"minute",s:"second",ms:"millisecond"},u={year:"y",month:"M",week:"w",day:"d",hour:"h",minute:"m",second:"s",millisecond:"ms"},l={year:12*a,month:a,week:6048e5,day:864e5,hour:36e5,minute:6e4,second:1e3,millisecond:1},d={};d.uk=o},a2jT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("cX81");function i(t){var e="";if(t){if(t instanceof r.a){var n=t.getSourceMeta();n&&n.turbo_key&&(e=n.turbo_key)}else(t=t).source_meta&&t.source_meta.turbo_key&&(e=t.source_meta.turbo_key);if(e)return"https://yandex.ru/turbo?text="+encodeURIComponent(e)+"&fallback=1"}}},aC9m:function(t,e,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("4RqY"),c=n("7/cf"),u=n("DKyp"),l=n("DSRK"),d=n("V8C4"),h=Object(s.a)(function(){var t=a()(i.a.mark(function t(e,n){var r,o,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.getState,r=n.di,o=n.dispatch,!e){t.next=9;break}return o(Object(u.a)({id:e,storeKey:"cards"})),o(Object(l.a)({id:e,storeKey:"cards"})),d.d.finishCardRemove({cardId:e}),t.next=7,r("CardPopupState");case 7:(a=t.sent).hasCard()&&a.closeCard();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}());n.d(e,"a",function(){return f});var f=Object(s.a)(function(){var t=a()(i.a.mark(function t(e,n){var r,o,a,s,u;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n.getState,o=n.dispatch,a=r(),s=Object(c.b)(a),u=s&&s.original_id,s&&u&&o(h(u));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},aFHS:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("izju"),i=n("AGq3"),o=Object(i.a)(r.a.NEWS,"_url/news")},aGho:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"e",function(){return u});var r,i=n("BpHA"),o=function(t,e){return t[t.GENERAL="general"]="GENERAL",t}({}),a=((r={})[i.c]="/collections/api/recipes/filters/suggest/",r[i.e]="/collections/api/interiors/filters/suggest/",r[i.d]="/collections/api/hairstyles/filters/suggest/",r),s={retsepty:i.c,pricheski:i.d,interery:i.e},c=Object.keys(s).reduce(function(t,e){return t[s[e]]=e,t},{}),u={subscriptions:"subscriptions",retsepty:"recipes",interery:"interiors","podelki-svoimi-rukami":"diy",svadba:"weddings","krasota-i-ukhod":"beauty",pricheski:"hairstyles",priroda:"nature",sad:"gardening","odezhda-i-obuv":"fashion",puteshestviya:"travel",tatuirovki:"tattoo",avto:"auto_and_moto"};Object.keys(u).reduce(function(t,e){return t[u[e]]=e,t},{})},aKBe:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("K5nR"),i=n("dNc+"),o=n("lc+m"),a=Object(r.a)({normalizer:i.b,getEntity:o.a})},aahH:function(t,e,n){"use strict";n("J68E"),n("77gR");var r=n("LCpZ");e.a=r.a.applyDecls()},ae7d:function(t,e,n){"use strict";n("JSWB"),n("rkHX");var r=n("bj4P");e.a=r.a.applyDecls()},aeY2:function(t,e,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;t.exports=r({defaultTitle:"Яндекс.Колекції",defaultDescription:"Яндекс.Колекції — сервіс для створення колекцій зображень на теми, які вас цікавлять, пошуку ідей і натхнення в добірках інших користувачів.",homeTitle:"Яндекс.Колекції — добірки зображень на різні теми",boardTitle:function(t){return"Колекція «"+i(t.board_title)+"» користувача "+i(t.owner_login)+" в Яндекс.Колекціях"},boardWithCountTitle:[function(t){return i(t.count)+" картка в колекції «"+i(t.board_title)+"» користувача "+i(t.owner_login)+" в Яндекс.Колекціях"},function(t){return i(t.count)+" картки в колекції «"+i(t.board_title)+"» користувача "+i(t.owner_login)+" в Яндекс.Колекціях"},function(t){return i(t.count)+" карток в колекції «"+i(t.board_title)+"» користувача "+i(t.owner_login)+" в Яндекс.Колекціях"}],boardWithCountCustomTitle:[function(t){return i(t.count)+" картка в колекції «"+i(t.board_title)+"» користувача "+i(t.owner_login)+" в Яндекс.Колекціях"},function(t){return i(t.count)+" картки в колекції «"+i(t.board_title)+"» користувача "+i(t.owner_login)+" в Яндекс.Колекціях"},function(t){return i(t.count)+" карток в колекції «"+i(t.board_title)+"» користувача "+i(t.owner_login)+" в Яндекс.Колекціях"}],boardOGTitle:function(t){return i(t.board_title)},boardMetaTitle:function(t){return"«"+i(t.board_title)+"» — колекція від "+i(t.owner_login)+" у Яндекс.Колекціях"},boardDescription:function(t){return"Подивіться колекцію «"+i(t.board_title)+"» користувача "+i(t.owner_login)+" в Яндекс.Колекціях"},boardCustomDescription:function(t){return i(t.board_description)},boardWithCountCustomDescription:function(t){return i(t.board_description)},boardOGDescription:function(t){return"Автор — "+i(t.owner_login)},boardWithCountCustomMetaDescription:function(t){return i(t.board_description)},boardMetaDescription:function(t){return"Подивіться колекцію «"+i(t.board_title)+"» користувача "+i(t.owner_login)+" в Яндекс.Колекціях"},boardCustomMetaDescription:function(t){return i(t.board_description)},profileTitle:function(t){return i(t.login)+" — колекції зображень користувача в Яндекс.Колекціях"},profileDescription:function(t){return"Колекції, якими ділиться користувач "+i(t.login)+" у сервісі Яндекс.Колекції. Дивіться фотографії та малюнки на різні теми."},profileMetaTitle:function(t){return"Колекції відео та зображень користувача "+i(t.login)+" у Яндекс.Колекціях"},profileOGTitle:function(t){return i(t.login)+" на Яндекс.Колекціях"},cardsOGTitle:function(t){return i(t.login)+" на Яндекс.Колекціях"},cardsTitle:function(t){return"Яндекс.Колекції — усі картки користувача "+i(t.login)},cardsDescription:function(t){return"Усі картки користувача "+i(t.login)+" у Яндекс.Колекціях. Дивіться фотографії та малюнки на різні теми."},followersOGTitle:function(t){return i(t.login)+" на Яндекс.Колекціях"},followersTitle:function(t){return"Яндекс.Колекції — усі підписувачі користувача "+i(t.login)},followingsTitle:function(t){return"Яндекс.Колекції — усі підписки користувача "+i(t.login)},followingsChannelsOGTitle:function(t){return i(t.login)+" на Яндекс.Колекціях"},followingsChannelsTitle:function(t){return"Яндекс.Колекції — усі підписки користувача "+i(t.login)},followingsUsersOGTitle:function(t){return i(t.login)+" на Яндекс.Колекціях"},followingsUsersTitle:function(t){return"Яндекс.Колекції — усі підписки користувача "+i(t.login)},followingsBoardsOGTitle:function(t){return i(t.login)+" на Яндекс.Колекціях"},followingsBoardsTitle:function(t){return"Яндекс.Колекції — усі підписки користувача "+i(t.login)},channelTitle:function(t){return i(t.count)+"+ карток на тему «"+i(t.channel_title)+"» у Яндекс.Колекціях"},channelMetaTitle:function(t){return"Зображення та відео на тему «"+i(t.channel_title)+"» у Яндекс.Колекціях"},channelOGTitle:function(t){return"«"+i(t.channel_title)+"» у Яндекс.Колекціях"},channelDescription:function(t){return i(t.channel_description)},boardFollowersOGTitle:function(t){return i(t.board_title)},boardFollowersTitle:function(t){return"«"+i(t.board_title)+"» в Яндекс.Колекціях — люди, які стежать за оновленнями колекції"},errorNotFoundTitle:"Сторінку не знайдено — Яндекс.Колекції",favoritesTitle:"Вибране — Яндекс.Колекції",favoritesTypeImageTitle:"Вибране — Яндекс.Колекції",favoritesTypeVideoTitle:"Вибране — Яндекс.Колекції",favoritesTypeFilmTitle:"Вибране — Яндекс.Колекції",favoritesTypeSeriesTitle:"Вибране — Яндекс.Колекції",favoritesTypeLinkTitle:"Вибране — Яндекс.Колекції",favoritesTypeOrganizationTitle:"Вибране — Яндекс.Колекції",favoritesTypeBookTitle:"Мои книги — Яндекс.Коллекции",favoritesTypeGeoTitle:"Мои места — Яндекс.Коллекции",feedTitle:"Стрічка оновлень у Яндекс.Колекціях",searchTitle:function(t){return i(t.search_query)+" — результати пошуку в Яндекс.Колекціях"},searchEmptyTitle:"Результати пошуку в Яндекс.Колекціях",searchOGTitle:function(t){return"«"+i(t.search_query)+"» у колекціях користувачів Яндексу"},searchEmptyOGTitle:"Результати пошуку в Яндекс.Колекціях",verticalTitle:function(t){return i(t.vertical_title)},verticalOGTitle:function(t){return i(t.vertical_og_title)},verticalDescription:function(t){return i(t.vertical_description)},verticalOGDescription:function(t){return i(t.vertical_og_description)},cardTitle:function(t){return"«"+i(t.board_title)+"» — картка від користувача "+i(t.owner_login)+" у Яндекс.Колекціях"},cardMetaTitle:function(t){return"Зображення користувача "+i(t.owner_login)+" з колекції «"+i(t.board_title)+"» у Яндекс.Колекціях"},cardOGTitle:function(t){return"З колекції «"+i(t.board_title)+"»"},cardDescription:function(t){return"Зображення користувача "+i(t.owner_login)+" у Яндекс.Колекціях. Інші малюнки та фотографії на тему «"+i(t.board_title)+"»."},cardMetaDescription:function(t){return"Зображення з колекції «"+i(t.board_title)+"» у Яндекс.Колекціях"},cardOGDescription:function(t){return i(t.card_title)},cardVirtualRecipeTitle:function(t){return"«"+i(t.card_title)+"» у Яндекс.Колекціях"},cardVirtualRecipeDescription:function(t){return"«"+i(t.card_title)+"» у Яндекс.Колекціях"},cardVirtualRecipeOGDescription:"Рецепти в Яндекс.Колекціях",cardVirtualRecipeOGTitle:function(t){return"«"+i(t.card_title)+"» у Яндекс.Колекціях"},cardVirtualRecipeMetaTitle:function(t){return"«"+i(t.card_title)+"» у Яндекс.Колекціях"},cardVirtualRecipeMetaDescription:function(t){return"«"+i(t.card_title)+"» у Яндекс.Колекціях"},cardVirtualGameTitle:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualGameDescription:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualGameOGDescription:"Ігри в Яндекс.Колекціях",cardVirtualGameOGTitle:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualGameMetaTitle:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualGameMetaDescription:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualGeoTitle:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualGeoDescription:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualGeoOGDescription:"Визначні місця та інші географічні об’єкти в Яндекс.Колекціях",cardVirtualGeoOGTitle:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualGeoMetaTitle:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualGeoMetaDescription:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualOrganizationTitle:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualOrganizationDescription:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualOrganizationOGDescription:"Організації в Яндекс.Колекціях",cardVirtualOrganizationOGTitle:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualOrganizationMetaTitle:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualOrganizationMetaDescription:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualMarketTitle:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualMarketDescription:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualMarketOGDescription:"Товари в Яндекс.Колекціях",cardVirtualMarketOGTitle:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualMarketMetaTitle:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualMarketMetaDescription:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualCardTitle:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualCardDescription:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualCardOGDescription:"Товари в Яндекс.Колекціях",cardVirtualCardOGTitle:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualCardMetaTitle:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardVirtualCardMetaDescription:function(t){return i(t.card_title)+" в Яндекс.Колекціях"},cardWithDescriptionTitle:function(t){return"«"+i(t.card_title)+"» — картка користувача "+i(t.owner_login)+" у Яндекс.Колекціях"},cardWithDescriptionDescription:function(t){return"Зображення користувача "+i(t.owner_login)+" у Яндекс.Колекціях. Інші малюнки та фотографії на тему «"+i(t.card_title)+"»."},cardWithDescriptionMetaDescription:function(t){return"Картка «"+i(t.card_title)+"» з колекції «"+i(t.board_title)+"» у Яндекс.Колекціях"},cardVideoMetaTitle:function(t){return"Відео користувача "+i(t.owner_login)+" з колекції «"+i(t.board_title)+"» у Яндекс.Колекціях"},cardVideoMetaDescription:function(t){return"Відео з колекції «"+i(t.board_title)+"» у Яндекс.Колекціях"},cardSearchTitle:function(t){return"Знайдено за запитом «"+i(t.card_title)+"» в Яндекс.Колекціях"},cardBannedTitle:"На цю картку надійшла скарга, тому подивитися її не можна",channelsTitle:function(t){return"Добірки на тему «"+i(t.vertical_title)+"», на які можна підписатися в Яндекс.Колекціях"},channelsDescription:function(t){return"Знайти цікаві та корисні добірки на тему «"+i(t.vertical_title)+"», підписатися на них і зберегти собі найкращі зображення чи відео можна в Яндекс.Колекціях"},channelsOgTitle:function(t){return"Добірки на тему «"+i(t.vertical_title)+"», на які можна підписатися в Яндекс.Колекціях"},channelsOgDescription:function(t){return"У Яндекс.Колекціях можна знайти цікаві та корисні добірки на тему «"+i(t.vertical_title)+"», підписатися на них, створити власну колекцію до теми та зберегти найкращі зображення чи відео, щоб вони завжди були під рукою."},imagesTitle:"Яндекс.Картинки: пошук зображень в інтернеті, пошук за картинкою",imagesDescription:"Кумедні картинки, заставки для робочого стола, схеми та ілюстровані інструкції, відповіді на ваші запитання у вигляді зображень, пошук за картинкою та фото",dailyPhotoTitle:"Конкурс «Фото дня» у Яндекс.Колекціях",contestTitle:function(t){return"Конкурс «"+i(t.contest_title)+"» у Яндекс.Колекціях"},contestOGTitle:function(t){return"Конкурс «"+i(t.contest_title)+"» у Яндекс.Колекціях"},contestDescription:function(t){return i(t.contest_description)},contestOGDescription:function(t){return i(t.contest_description)}})},al43:function(t,e,n){t.exports=n.p+"f/22bd.gif"},aqFj:function(t,e,n){"use strict";var r=n("VbXa"),i=n.n(r),o=n("SiKM"),a=n("j3NW"),s=3;function c(t){var e=Object.keys(t).filter(function(t){return"_"!==t}).sort(function(t,e){return t.localeCompare(e)}).map(function(e){return[e,t[e]]});return JSON.stringify(e)}var u=function(){function t(t){void 0===t&&(t={}),this._sid=0,this.setIterator(t.url,t.iterator),this._request=t.request,this._threshold=t.threshold||s,this._store=t.store||{},this._next={}}var e=t.prototype;return e.setIterator=function(t,e){this._url===t&&this._iterator===e||(this._url=t,this._iterator=e,this.clear(),this._next={},this._sid+=1)},e.get=function(t){return this._store[t]},e.push=function(t,e){this._store[t]=e},e.pop=function(t){var e=this._store[t];return e&&delete this._store[t],e},e.size=function(){return Object.keys(this._store).length},e.clear=function(){this._store={}},e.isFullyLoaded=function(){return!this._next},e._sync=function(t){var e=this,n=c(t),r=this.get(n);if(!r){var i={url:this._url,data:t};return r=this._request.sync("read",null,i).then(function(t){return e._next=t.next,t}).catch(function(t){throw console.warn("Preflight problems",t),e.pop(n),t}),this.push(n,r),r}return r},e.run=function(t){var e=this;if(!t||this.isFullyLoaded())return Promise.resolve();var n=this._sid,r=3*this._threshold;return function t(i){return r--,e._sync(i).then(function(){if(e._sid===n&&r>0&&e.size()<e._threshold&&!e.isFullyLoaded())return t(e._next)})}(t)},t}();n.d(e,"a",function(){return l});var l=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.sync=function(e,n,r){var i=this;void 0===r&&(r={});var o=this._iterator,a=Boolean(!0===r.disablePreflight);if("read"===e&&o&&!a){var s=r.data?c(r.data):null;this.preparePreflight(o,r.url);var u=this._preflightStorage.pop(s);return u?u.then(function(t){return void 0===t&&(t={}),i.preflightNext(t.next),r.success&&r.success.call(i,t),t}):t.prototype.sync.call(this,e,n,r).then(function(t){return void 0===t&&(t={}),i.preflightNext(t.next),t})}return t.prototype.sync.call(this,e,n,r)},n.preparePreflight=function(t,e){t=t||this._iterator,e=e||Object(o.result)(this,"url"),this._preflightStorage||(this._preflightStorage=new u({request:this.getRequestAdapter()})),this._preflightStorage.setIterator(e,t)},n.preflightNext=function(t){this._preflightStorage.run(t)},e}(a.a)},asM3:function(t,e,n){"use strict";var r=n("pVnL"),i=n.n(r),o=new WeakSet;function a(t){return function(e){if(null!=e&&o.has(e))return e;var n=t(e);return o.add(n),n}}function s(t){return a(function(e){return e?Object.keys(t).reduce(function(e,n){var r,o=t[n](e[n]);return e[n]!==o?i()({},e,((r={})[n]=o,r)):e},e):e})}function c(t){return a(function(e){return e?Object.keys(e).reduce(function(e,n){var r,o=t(e[n]);return e[n]!==o?i()({},e,((r={})[n]=t(e[n]),r)):e},e):{}})}n.d(e,"a",function(){return d});var u,l=s({labels:(u=[],function(t){return void 0===t?u:t})}),d=s({cards:c(l),users:c(a(function(t){return"huaweirussia"!==t.login||t.brand?t:i()({},t,{brand:{image:"https://avatars.mds.yandex.net/get-pdb/918543/b8cc619b-91e2-478c-a486-4dd7f9f17106/optimize",background_color:"#7a9dd2"}})}))})},az6Z:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("cDcd"),i=n("wibD"),o=function(t){var e=t.rating;return e?r.createElement("span",{className:"cl-picture__rating",style:{backgroundColor:Object(i.a)(e)}},e):null}},b63G:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({action:"Екшн",adventure:"Пригоди",arcade:"Аркада",board:"Настільна",card:"Карткова",casino:"Казино",casual:"Казуальна",dice:"Гра в кості",educational:"Навчальна",family:"Родинна",music:"Музична",puzzle:"Головоломка",racing:"Перегони",role_playing:"Рольова",simulation:"Симулятор",sports:"Спортивна",strategy:"Стратегія",quest:"Квест",quiz:"Вікторина",word:"Словесна"})},bA4n:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({more:"Ще",likeCollections:"Колекції",likeThemes:"Теми",likeUsers:"Користувачі",followers:"Підписники",myDisk:"Мої зображення на Диску",rating:"Рейтинги",register:"Реєстрація",login:"Увійти",contests:"Конкурси",add:"Додати картку",feed:"Моя стрічка",collections:"Мої колекції",themes:"Теми",like:"Мені подобається"})},bB0N:function(t,e,n){"use strict";n("K8/O").a.applyDecls()},bImc:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("pVnL"),i=n.n(r),o=n("8OQS"),a=n.n(o),s=n("cDcd"),c=n("JxqJ"),u=n("EC4j"),l=Object(c.b)()(function(t){var e=t.mods,n=a()(t,["mods"]);return s.createElement(u.a,i()({mods:i()({ei:!0,size:"S",type:"clear","icon-only":!0},e),icon:!0,iconMods:{"lock-24x24":!0}},n))})},bP1J:function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"default",function(){return m});var i={};n.r(i),n.d(i,"default",function(){return J});var o=n("pVnL"),a=n.n(o),s=n("VbXa"),c=n.n(s),u=n("EVdn"),l=n("jOGB"),d=n("mdRN"),h=n("Aaw5"),f=n("Hnsh"),p=n("9TW5"),g=n("xfRZ"),m=function(t){var e=this&&this.isRestored,n=e?p.er:p.e,r=e?p.ar:p.a;return(e?p.fr:p.f)([n.d("side__service",{},[n.d("side__service-loading",{},[r(g.a,{size:"L"},this)])])])},v=function(t){function e(){return t.apply(this,arguments)||this}return c()(e,t),e}(l.c);Object(d.a)({template:r,className:"side__content__item side__content__item_sel"})(v);var b,_=n("c+Ap"),y=n("kdr8"),C=n("TsaX"),O=n("RQkB"),S=n("V8C4"),w=Object(y.a)("onLogin")(b=function(t){function e(){return t.apply(this,arguments)||this}c()(e,t);var n=e.prototype;return n.onClick=function(){this.options.type===_.F.sidebarBoardsUnauth&&(O.a.sendCounter(S.a.clickHintAccept,{loc:this.options.loc,isPlugin:this.env.isEmbed}),this.onLogin())},n.onClickClose=function(){this.options.type!==_.F.sidebarBoards&&this.onSetStorage(),t.prototype.onClickClose.call(this)},n.onSetStorage=function(){this.options.storage&&this.getEnv().currentUser.getPreferences().setSidebarHintShown(this.options.type)},n.onLogin=function(){},e}(C.a))||b,E=n("riXN"),k=n("Ahwa"),j=function(t){function e(){return t.apply(this,arguments)||this}c()(e,t);var n=e.prototype;return n.initialize=function(){this.listenTo(this.model,this.options.eventName,this.onAuthAction)},n.onAuthAction=function(){var t=this,e=this.options.method;this.$once(this.ui.iframe,"load",function(){t.model[e]&&t.model[e]()}),this.ui.form.submit()},e}(l.c);Object(d.a)({template:function(t){var e=this&&this.isRestored,n=e?p.er:p.e,r=e?p.sr:p.s;return(e?p.fr:p.f)([n("form","",{action:this.options.action,target:this.cid,method:"POST"},[r(k.a.call(t,{data:{view:this}}))])," ",n("iframe","",{frameborder:"0",name:this.cid},[])])},className:"hidden",attributes:{id:"iframe_auth"},ui:{form:"form",iframe:"iframe"}})(j);var T=n("eqMx"),x=n("U60d"),R=n("G7lA"),I=n("6ga4"),D=n("EyUQ"),P=n("hDul"),L=n("iGfq"),N=function(t){var e=this&&this.isRestored,n=e?p.er:p.e;return(e?p.fr:p.f)([n("span","ticker"+(t.mod?Object(p.j)([" ticker_",t.mod]):"")+(t.state?Object(p.j)([" ticker_state_",t.state]):""),{role:"alert","aria-live":"assertive","aria-atomic":"true"},[n("span","ticker__count",{},[n("span","ticker__text a11y-hidden",{},[Object(L.notify)({count:t.value})])," ",n("span","ticker__value",{title:t.value},[t.value])])],{events:[["click",t.onclick]],view:this})])},A=n("xMyQ"),B=n("3EtG"),M=n("6Xmf"),F=n("8yzE"),U=function(t){function e(){return t.apply(this,arguments)||this}c()(e,t);var n=e.prototype;return n.className=function(){var t,e=this.options.mode;return Object(I.a)("user",((t={})[e]=Boolean(e),t))},n.onRender=function(){var t=this;setTimeout(function(){return t._nextPoll()},1e3)},n.onToggleRefresh=function(t){this.$el.toggleClass("user_open",t)},n.logout=function(){this.logoutLink.attr("href",E.a.logoutUrl({env:this.getEnv()}))},n.onLogoutClick=function(t){var e=this.options.logoutEventName;e&&(this.model.trigger(e),t.preventDefault(),t.stopPropagation())},n.toggle=function(t){Object(F.d)(t)||(t&&t.preventDefault(),this.triggerMethod("toggle"))},n._nextPoll=function(){var t=this;this.isIntact()&&this.model.getFreshInboxCount().then(function(){setTimeout(function(){return t._nextPoll()},3e4)})},n.serializeData=function(){var t=this.model.getInboxCount(),e=t>99;return e&&(t=99),a()({},this.options,{inboxFresh:t,inboxOverflow:e,passportLink:E.a.base(this.getEnv()),displayName:this.model.getDisplayName(),login:this.model.getLogin()})},e}(x.a);Object(d.a)({template:function(t){var e=this&&this.isRestored,r=e?p.er:p.e;return(e?p.fr:p.f)([r("span","user__avatar",{style:Object(p.j)(["background-image: url(",Object(P.a)(this.model,{hash:{}}),");"]),title:t.displayName},[],{events:[["click",this.toggle.bind(this)]],view:this})," ",N.call(this,{mod:"user",state:t.inboxFresh?"":"empty",value:t.inboxFresh,onclick:this.toggle.bind(this)})," ",this.env.isEmbed||"side"==this.options.mode?[]:[r("a","user__name",{href:"https://passport.yandex.ru/passport?mode=passport"},[t.displayName],{events:[["click",this.toggle.bind(this)]],view:this})]," ",r.d("menu menu_size_L menu_fly menu_user",{},[r("ul","menu__group menu__group_ico",{},[r("li","menu__group__item",{},[r("a","menu__item menu__item_mail",{target:"_blank",href:Object(p.j)(["https://mail.yandex.",this.env.tld]),style:Object(p.j)(["background-image: url(",Object(A.a)(n("seBF")),")"])},t.inboxOverflow?[Object(B.userMail)({count:"99+"})]:[Object(B.userMail)({count:t.inboxFresh})])])," ",r("li","menu__group__item",{},[r("a","menu__item",{target:"_blank",href:Object(p.j)(["https://mail.yandex.",this.env.tld,"/compose"])},["Написати лист"])])," ",r("li","menu__group__item",{},[r("a","menu__item menu__item_disk",{target:"_blank",href:Object(p.j)(["https://disk.yandex.",this.env.tld]),style:Object(p.j)(["background-image: url(",Object(A.a)(n("xZRq")),")"])},["Мій диск"])])])," ",r("ul","menu__group menu__group_ico",{},[r("li","menu__group__item",{},[r("a","menu__item",{target:"_blank",href:t.passportLink},["Паспорт"])])," ",r("li","menu__group__item",{},[r("a","menu__item menu__item-logout",{href:"#","data-c":Object(M.a)("clickUserLogout",{hash:{}})},["Вийти"],{events:[["mousedown",this.logout.bind(this)],["click",this.onLogoutClick.bind(this)]],ui:"logoutLink",view:this})])])])])},ui:{logout:".menu__item-logout"},behaviors:{Toggle:{behaviorClass:R.a,preventDefault:!1},ClickOut:{behaviorClass:D.a,eventName:"toggleHide"}},modelEvents:{"change:inbox":"render"}})(U);var z,V=n("r7Cx"),H=function(t){var e=this&&this.isRestored,n=e?p.ar:p.a;return(e?p.fr:p.f)([n(V.a,Object(p.assign)(t,{class:Object(I.b)("button_head",{hash:{login:t.login,side:t.side,back:t.back,search:t.search,notif:t.notif,mark:t.mark}})}),this)])},W=Object(d.a)({template:function(t){var e=this&&this.isRestored,n=e?p.ar:p.a,r=e?p.er:p.e;return(e?p.fr:p.f)([t.logoutEventName?[n(j,{model:this.model,method:"checkAuth",action:t.embedLogoutUrl,eventName:t.logoutEventName,content:function(t){return[(this&&this.isRestored?p.er:p.e)("input","",{type:"hidden",name:"action",value:"logout"},[])]}},this)]:[]," ",Object(T.a)({data:{view:this}})?[n(U,{regionName:"user",model:this.model,mode:this.options.mode,logoutEventName:t.logoutEventName},this)]:[r("span","head__login",{},[H.call(this,{side:!0,login:!0,label:"Увійти",method:this.onAuth.bind(this),type:"action"})])]])},modelEvents:{"change:login":"safeRender"}})(z=Object(y.a)("onAuth")(z=function(t){function e(){return t.apply(this,arguments)||this}c()(e,t);var n=e.prototype;return n.onRender=function(){var t=this;!this.user&&this.model.isAuthorized()&&setTimeout(function(){return t.safeRender()})},n.onReady=function(){},n.onAuth=function(){},n.serializeData=function(){var t=this.getEnv(),e=E.a.generateRetpathUrl({env:t,route:"retpath"});return{embedLogoutUrl:E.a.embedLogoutUrl({env:t,retpath:e}),logoutEventName:t.isEmbed?"iframe:auth:logout":null}},e}(l.c))||z)||z,q=n("AnPS"),K=function(t){var e=this&&this.isRestored,n=e?p.er:p.e,r="http://www.w3.org/2000/svg";return(e?p.fr:p.f)([n.d(Object(p.j)(["logo logo_",this.env.language,t.mod?Object(p.j)([" logo_",t.mod]):""]),{},[n("a","logo__link",{href:Object(p.j)(["https://yandex.",this.env.tld]),target:"_top"},[])," ",n("a","logo__link-service",{href:Object(q.a)("home",{hash:{},data:{view:this}}),target:"_top","data-c":Object(M.a)("clickLinkHome",{hash:{}})},["Колекції"])," ",t.IS_DEMO&&"ru"==t.lang?[n("svg","",{xmlns:"http://www.w3.org/2000/svg",width:"178.408",height:"38.04"},[n("path","",{fill:"red",d:"M9.35 21.43v8.68h2.44V7.45H8.15c-3.59 0-6.6 2.38-6.6 7.13 0 3.39 1.33 5.23 3.33 6.25L.63 30.11h2.83l3.86-8.68zm0-2.03h-1.3c-2.12 0-3.87-1.17-3.87-4.82 0-3.77 1.91-5.07 3.87-5.07h1.3z"},[],{ns:r,view:this}),n("path","",{d:"M36.26 28.09H35V14.14h-7.42v1.36c0 4.25-.16 9.19-1.62 12.59h-.98v5.16h2.22v-3.14h6.85v3.14h2.21zm10.75.95l-.57-1.9c-.63.44-1.74 1.07-3.14 1.07-1.96 0-2.98-1.9-2.98-5.51h6.66v-1.37c0-5.42-1.74-7.41-4.41-7.41-3.39 0-4.82 3.74-4.82 8.87 0 4.92 2.03 7.55 5.33 7.55 1.59 0 2.92-.51 3.93-1.3zm-25.9-14.9v6.78h-3.68v-6.78h-2.47v15.97h2.47v-7.16h3.68v7.16h2.44V14.14zM56.2 30.11h2.7l-4.53-8.46 3.96-7.51h-2.51l-3.83 7.38v-7.38h-2.47v15.97h2.47v-7.95zm8.5.23c1.46 0 2.47-.48 3.33-1.21l-.57-1.84c-.57.51-1.49.99-2.7.99-1.99 0-2.95-2.29-2.95-6.28 0-4.03 1.27-6.02 3.05-6.02 1.01 0 1.96.54 2.63 1.11l.35-2.35c-.7-.44-1.52-.82-2.95-.82-3.74 0-5.67 3.2-5.67 8.21 0 5.45 2.06 8.21 5.48 8.21zm-32.14-2.25h-4.25c1.33-3.4 1.49-8.31 1.49-11.67v-.28h2.76zm10.01-12.14c1.43 0 1.87 1.99 1.87 4.72h-4.09c.16-2.85.7-4.72 2.22-4.72zm41.59 14.16h1.78l-7.1-12.2 6.53-10.46h-1.52l-6.63 10.59V7.45h-1.58v22.66h1.58V18.16zm7.61.32c2.76 0 4.88-3.1 4.88-8.4 0-5.48-2.12-8.21-4.88-8.21s-4.88 3.08-4.88 8.4c0 5.45 2.12 8.21 4.88 8.21zm0-1.2c-1.87 0-3.39-2.13-3.39-7.1 0-4.85 1.52-7.07 3.39-7.07s3.39 2.06 3.39 7.07c0 4.82-1.52 7.1-3.39 7.1zm9.32-4.66c.25-2.51.45-9.26.45-9.26h3.86v14.8h1.49V14.14h-6.65s-.26 7.7-.45 10.27c-.22 2.88-.82 4.44-1.81 4.44-.5 0-.69-.1-.69-.1l.12 1.33s.29.13.64.13c2.09 0 2.66-2.03 3.04-5.64zm11.54 0c.25-2.51.44-9.26.44-9.26h3.87v14.8h1.49V14.14h-6.66s-.25 7.7-.44 10.27c-.22 2.88-.82 4.44-1.81 4.44-.5 0-.69-.1-.69-.1l.12 1.33s.29.13.64.13c2.09 0 2.66-2.03 3.04-5.64zm9.99-2.19h7.22c.51-5.67-1.26-8.56-4.02-8.56-2.7 0-4.66 3.08-4.66 8.31s1.55 8.3 4.94 8.3c2.54 0 3.74-1.8 3.74-1.8l-.47-1.21s-1.11 1.71-3.24 1.71c-2.31 0-3.45-2.38-3.51-6.75zm3.2-7.32c1.61 0 2.88 1.9 2.63 6.15h-5.8c.12-4 1.49-6.15 3.17-6.15zm8.33 6.78l5.55 8.27h1.65l-5.64-8.55 5.26-7.42h-1.46l-5.36 7.51v-7.51h-1.49v15.97h1.49zm18.96 11.41v-4.34h-1.46V14.14h-1.49v14.77h-5.35V14.14h-1.49v15.97h8.43l.19 3.14zm9.73-3.14h1.43V14.14h-1.3l-5.2 11.22c-.32.7-.63 1.39-.86 2.12h-.09c.06-.69.13-1.39.13-2.25V14.14h-1.4v15.97h1.27l5.2-11.25c.35-.7.63-1.36.85-2.06h.1c-.06.67-.13 1.36-.13 2.19zm12.33 0h1.43V14.14h-1.3l-5.2 11.22c-.31.7-.63 1.39-.85 2.12h-.1c.06-.69.13-1.39.13-2.25V14.14h-1.4v15.97h1.27l5.2-11.25c.35-.7.63-1.36.86-2.06h.09c-.06.67-.13 1.36-.13 2.19z"},[],{ns:r,view:this})],{ns:r,view:this})]:t.IS_DEMO&&"en"==t.lang?[n("svg","",{xmlns:"http://www.w3.org/2000/svg",width:"172.86",height:"38.04"},[n("path","",{fill:"red",d:"M8.12 30.11v-8.02L14.01 5.1h-2.5l-4.6 13.57L2.92 7.45H.19L5.61 22v8.11z"},[],{ns:r,view:this}),n("path","",{d:"M18.96 26.98c-.45.69-1.3 1.26-2.16 1.26-1.27 0-1.87-1.2-1.87-3.04 0-2.06.67-3.42 3.74-3.42h.29zm2.44-.48v-7.51c0-3.87-1.56-5.07-4.38-5.07-1.61 0-3.07.66-3.8 1.26l.47 2.19c.83-.73 1.91-1.39 3.17-1.39 1.4 0 2.1.88 2.1 2.98v.95h-.35c-4.47 0-6.22 2.15-6.22 5.58 0 3.14 1.56 4.85 3.84 4.85 1.4 0 2.28-.61 2.98-1.49h.16c.03.41.13.92.22 1.26h2.09c-.12-.76-.28-2.09-.28-3.61zm5.55-8.78c.57-.79 1.45-1.58 2.5-1.58.95 0 1.49.41 1.49 1.61v12.36h2.5V17.53c0-2.44-1.11-3.61-3.2-3.61-1.49 0-2.69.98-3.14 1.58h-.15v-1.39h-2.48v16h2.48zm13.78 12.62c1.3 0 2.19-.61 2.89-1.49h.16l.19 1.26h1.84V7.45h-2.48v7.07c-.47-.35-1.26-.6-2.02-.6-3.21 0-5.43 2.88-5.43 8.81 0 4.94 1.72 7.61 4.85 7.61zm2.6-3.33c-.41.63-1.07 1.23-2.31 1.23-1.81 0-2.5-2.28-2.5-6.02 0-3.26.95-6.27 2.94-6.27.83 0 1.37.25 1.87.76zm14.11 2.03l-.57-1.9c-.63.44-1.65 1.07-3.04 1.07-1.97 0-2.98-1.9-2.98-5.51h6.65v-1.37c0-5.42-1.74-7.41-4.4-7.41-3.39 0-4.82 3.74-4.82 8.87 0 4.92 2.03 7.55 5.32 7.55 1.59 0 2.83-.51 3.84-1.3zM53.1 15.95c1.42 0 1.87 1.99 1.87 4.72h-4.09c.16-2.85.7-4.72 2.22-4.72zm12.74-1.81l-2.19 5.8-2.06-5.8h-2.56l3.01 7.7-3.33 8.27h2.44l2.41-6.59 2.47 6.59h2.57l-3.33-8.49 2.98-7.48zm15.19-7.01c-3.94 0-6.28 4.54-6.28 11.67S77 30.43 80.99 30.43c2 0 3.4-1.04 3.84-1.55l-.48-1.21c-.66.67-1.68 1.46-3.32 1.46-3.11 0-4.7-4.09-4.7-10.43 0-6.31 1.72-10.27 4.7-10.27 1.33 0 2.37.76 3.07 1.78l.41-1.56c-.66-.76-1.8-1.52-3.48-1.52zm9.82 23.3c2.76 0 4.88-3.1 4.88-8.4 0-5.48-2.12-8.21-4.88-8.21s-4.88 3.08-4.88 8.4c0 5.45 2.12 8.21 4.88 8.21zm0-1.2c-1.87 0-3.39-2.13-3.39-7.1 0-4.85 1.52-7.07 3.39-7.07s3.39 2.06 3.39 7.07c0 4.82-1.52 7.1-3.39 7.1zm7.64-21.78v22.66h1.49V7.45zm5.11 0v22.66h1.49V7.45zm5.7 14.93h7.23c.51-5.67-1.27-8.56-4.03-8.56-2.69 0-4.66 3.08-4.66 8.31s1.56 8.3 4.95 8.3c2.53 0 3.74-1.8 3.74-1.8l-.48-1.21s-1.11 1.71-3.23 1.71c-2.31 0-3.45-2.38-3.52-6.75zm3.2-7.32c1.62 0 2.89 1.9 2.63 6.15h-5.8c.13-4 1.49-6.15 3.17-6.15zm11.32 14.07c-2.47 0-3.58-2.6-3.58-6.97 0-4.5 1.14-7.07 3.58-7.07 1.36 0 2.38.82 3.08 1.81l.41-1.59c-.7-.85-1.84-1.49-3.49-1.49-3.26 0-5.07 3.08-5.07 8.34 0 5.2 1.84 8.27 5.04 8.27 2.5 0 3.68-1.77 3.68-1.77l-.48-1.24s-1.11 1.71-3.17 1.71zm10.94.79l-.32-1.1c-.19.09-.51.22-.98.22-.95 0-1.46-.7-1.46-2.29V15.31h2.73v-1.17H132v-3.17h-1.33l-.16 3.17h-1.62v1.17h1.62v11.6c0 1.97.89 3.36 2.79 3.36.66 0 1.11-.16 1.46-.35zM137.99 11c.54 0 1.01-.44 1.01-1.01 0-.54-.47-1.05-1.01-1.05-.57 0-1.01.51-1.01 1.05 0 .57.44 1.01 1.01 1.01zm-.76 3.14v15.97h1.49V14.14zm9.1 16.29c2.76 0 4.88-3.1 4.88-8.4 0-5.48-2.12-8.21-4.88-8.21s-4.88 3.08-4.88 8.4c0 5.45 2.12 8.21 4.88 8.21zm0-1.2c-1.87 0-3.39-2.13-3.39-7.1 0-4.85 1.52-7.07 3.39-7.07s3.39 2.06 3.39 7.07c0 4.82-1.52 7.1-3.39 7.1zm12.68-14.14c1.46 0 2.15.89 2.15 2.79v12.23h1.49V17.69c0-2.54-1.23-3.87-3.36-3.87-2.15 0-3.42 1.78-3.86 2.95h-.07l-.06-2.63h-1.36v15.97h1.49V18.45c.79-2.03 1.99-3.36 3.58-3.36zm9.19 15.34c2.09 0 3.9-1.46 3.9-3.99 0-4.47-5.55-5.8-5.55-9.26 0-1.39 1.05-2.15 2.22-2.15 1.11 0 1.9.41 2.6 1.17l.41-1.36c-.54-.45-1.52-1.02-3.07-1.02-1.75 0-3.49 1.14-3.49 3.55 0 4.06 5.48 5.61 5.48 9.26 0 1.36-.95 2.6-2.53 2.6-1.52 0-2.28-.54-3.04-1.21l-.32 1.3c.6.51 1.62 1.11 3.39 1.11z"},[],{ns:r,view:this})],{ns:r,view:this})]:t.IS_DEMO&&"kk"==t.lang?[n("svg","",{xmlns:"http://www.w3.org/2000/svg",width:"186.142",height:"38.04"},[n("path","",{fill:"red",d:"M9.35 21.43v8.68h2.44V7.45H8.15c-3.59 0-6.6 2.38-6.6 7.13 0 3.39 1.33 5.23 3.33 6.25L.63 30.11h2.83l3.86-8.68zm0-2.03h-1.3c-2.12 0-3.87-1.17-3.87-4.82 0-3.77 1.91-5.07 3.87-5.07h1.3z"},[],{ns:r,view:this}),n("path","",{d:"M36.26 28.09H35V14.14h-7.42v1.36c0 4.25-.16 9.19-1.62 12.59h-.98v5.16h2.22v-3.14h6.85v3.14h2.21zm10.75.95l-.57-1.9c-.63.44-1.74 1.07-3.14 1.07-1.96 0-2.98-1.9-2.98-5.51h6.66v-1.37c0-5.42-1.74-7.41-4.41-7.41-3.39 0-4.82 3.74-4.82 8.87 0 4.92 2.03 7.55 5.33 7.55 1.59 0 2.92-.51 3.93-1.3zm-25.9-14.9v6.78h-3.68v-6.78h-2.47v15.97h2.47v-7.16h3.68v7.16h2.44V14.14zM56.2 30.11h2.7l-4.53-8.46 3.96-7.51h-2.51l-3.83 7.38v-7.38h-2.47v15.97h2.47v-7.95zm8.5.23c1.46 0 2.47-.48 3.33-1.21l-.57-1.84c-.57.51-1.49.99-2.7.99-1.99 0-2.95-2.29-2.95-6.28 0-4.03 1.27-6.02 3.05-6.02 1.01 0 1.96.54 2.63 1.11l.35-2.35c-.7-.44-1.52-.82-2.95-.82-3.74 0-5.67 3.2-5.67 8.21 0 5.45 2.06 8.21 5.48 8.21zm-32.14-2.25h-4.25c1.33-3.4 1.49-8.31 1.49-11.67v-.28h2.76zm10.01-12.14c1.43 0 1.87 1.99 1.87 4.72h-4.09c.16-2.85.7-4.72 2.22-4.72zm40.99-7.2v-1.3H73.01v1.3h4.46v21.36h1.59V8.75zm4.06 21.68c2.76 0 4.88-3.1 4.88-8.4 0-5.48-2.12-8.21-4.88-8.21s-4.88 3.08-4.88 8.4c0 5.45 2.12 8.21 4.88 8.21zm0-1.2c-1.87 0-3.39-2.13-3.39-7.1 0-4.85 1.52-7.07 3.39-7.07s3.39 2.06 3.39 7.07c0 4.82-1.52 7.1-3.39 7.1zm14.36.88h1.46V14.14h-8.21v15.97h1.49V15.34h5.26zm12.74-14.74v-1.23h-8.87v1.23h3.71v14.74h1.49V15.37zm5.23 13.86c-1.52 0-2.5-1.3-2.5-3.55 0-2.79 1.27-4 3.9-4h1.71v4.41c-.57 1.71-1.62 3.14-3.11 3.14zm3.55.88h1.37c-.19-.6-.35-1.83-.35-2.94v-8.72c0-3.17-1.49-4.63-4.12-4.63-1.81 0-3.14.79-3.78 1.62l.42 1.42c.76-1.11 1.99-1.74 3.36-1.74 1.74 0 2.66 1.05 2.66 3.49v1.99h-1.74c-3.46 0-5.33 1.78-5.33 5.2 0 2.92 1.49 4.63 3.65 4.63 1.58 0 2.72-.95 3.48-2.47.1 1.14.26 1.74.38 2.15zm9.01-1.9h1.23l2.44-9.38c.26-.98.45-1.9.61-3.01h.12c0 1.08-.06 2.15 0 3.45l.38 10.84h1.49l-.63-15.97h-1.9l-2.51 9.51c-.28 1.08-.47 2.12-.54 3.01h-.09c-.07-.89-.22-1.93-.51-3.01l-2.47-9.51h-1.87l-.64 15.97h1.27l.38-10.84c.07-1.36 0-2.37 0-3.42h.13c.16 1.01.32 1.93.6 2.98zm12.61 1.02c-1.52 0-2.5-1.3-2.5-3.55 0-2.79 1.27-4 3.9-4h1.71v4.41c-.57 1.71-1.62 3.14-3.11 3.14zm3.55.88h1.37c-.19-.6-.35-1.83-.35-2.94v-8.72c0-3.17-1.49-4.63-4.12-4.63-1.81 0-3.14.79-3.78 1.62l.42 1.42c.76-1.11 1.99-1.74 3.36-1.74 1.74 0 2.66 1.05 2.66 3.49v1.99h-1.74c-3.46 0-5.33 1.78-5.33 5.2 0 2.92 1.49 4.63 3.65 4.63 1.58 0 2.72-.95 3.48-2.47.1 1.14.26 1.74.38 2.15zm6.63-5.54c.25-2.51.44-9.26.44-9.26h3.87v14.8h1.49V14.14h-6.66s-.25 7.7-.44 10.27c-.22 2.88-.83 4.44-1.81 4.44-.51 0-.7-.1-.7-.1l.13 1.33s.29.13.64.13c2.09 0 2.66-2.03 3.04-5.64zm12.49 4.66c-1.52 0-2.51-1.3-2.51-3.55 0-2.79 1.27-4 3.9-4h1.71v4.41c-.57 1.71-1.61 3.14-3.1 3.14zm3.55.88h1.36c-.19-.6-.35-1.83-.35-2.94v-8.72c0-3.17-1.49-4.63-4.12-4.63-1.8 0-3.14.79-3.77 1.62l.41 1.42c.76-1.11 2-1.74 3.36-1.74 1.75 0 2.66 1.05 2.66 3.49v1.99h-1.74c-3.45 0-5.32 1.78-5.32 5.2 0 2.92 1.49 4.63 3.64 4.63 1.59 0 2.73-.95 3.49-2.47.09 1.14.25 1.74.38 2.15zm8.87-.88c-1.42 0-2.31-.64-2.94-1.94v-8.94c.69-1.71 1.9-3.23 3.32-3.23 1.84 0 2.98 2.47 2.98 6.66 0 5.04-1.33 7.45-3.36 7.45zm-.09 1.17c2.98 0 4.94-2.88 4.94-8.75 0-4.63-1.55-7.83-4.21-7.83-1.78 0-2.95 1.43-3.65 2.95l-.12-2.63h-1.3v20.92h1.49v-6.05c.6.79 1.64 1.39 2.85 1.39z"},[],{ns:r,view:this})],{ns:r,view:this})]:[n("svg","",{xmlns:"http://www.w3.org/2000/svg",width:"152.604",height:"38.04"},[n("path","",{fill:"red",d:"M9.35 21.43v8.68h2.44V7.45H8.15c-3.59 0-6.6 2.38-6.6 7.13 0 3.39 1.33 5.23 3.33 6.25L.63 30.11h2.83l3.86-8.68zm0-2.03h-1.3c-2.12 0-3.87-1.17-3.87-4.82 0-3.77 1.91-5.07 3.87-5.07h1.3z"},[],{ns:r,view:this}),n("path","",{d:"M36.26 28.09H35V14.14h-7.42v1.36c0 4.25-.16 9.19-1.62 12.59h-.98v5.16h2.22v-3.14h6.85v3.14h2.21zm10.75.95l-.57-1.9c-.63.44-1.74 1.07-3.14 1.07-1.96 0-2.98-1.9-2.98-5.51h6.66v-1.37c0-5.42-1.74-7.41-4.41-7.41-3.39 0-4.82 3.74-4.82 8.87 0 4.92 2.03 7.55 5.33 7.55 1.59 0 2.92-.51 3.93-1.3zm-25.9-14.9v6.78h-3.68v-6.78h-2.47v15.97h2.47v-7.16h3.68v7.16h2.44V14.14zM56.2 30.11h2.7l-4.53-8.46 3.96-7.51h-2.51l-3.83 7.38v-7.38h-2.47v15.97h2.47v-7.95zm8.5.23c1.46 0 2.47-.48 3.33-1.21l-.57-1.84c-.57.51-1.49.99-2.7.99-1.99 0-2.95-2.29-2.95-6.28 0-4.03 1.27-6.02 3.05-6.02 1.01 0 1.96.54 2.63 1.11l.35-2.35c-.7-.44-1.52-.82-2.95-.82-3.74 0-5.67 3.2-5.67 8.21 0 5.45 2.06 8.21 5.48 8.21zm-32.14-2.25h-4.25c1.33-3.4 1.49-8.31 1.49-11.67v-.28h2.76zm10.01-12.14c1.43 0 1.87 1.99 1.87 4.72h-4.09c.16-2.85.7-4.72 2.22-4.72zm41.59 14.16h1.78l-7.1-12.2 6.53-10.46h-1.52l-6.63 10.59V7.45h-1.58v22.66h1.58V18.16zm7.61.32c2.76 0 4.88-3.1 4.88-8.4 0-5.48-2.12-8.21-4.88-8.21s-4.88 3.08-4.88 8.4c0 5.45 2.12 8.21 4.88 8.21zm0-1.2c-1.87 0-3.39-2.13-3.39-7.1 0-4.85 1.52-7.07 3.39-7.07s3.39 2.06 3.39 7.07c0 4.82-1.52 7.1-3.39 7.1zm9.32-4.66c.25-2.51.45-9.26.45-9.26h3.86v14.8h1.49V14.14h-6.65s-.26 7.7-.45 10.27c-.22 2.88-.82 4.44-1.81 4.44-.5 0-.69-.1-.69-.1l.12 1.33s.29.13.64.13c2.09 0 2.66-2.03 3.04-5.64zm9.99-2.19h7.22c.51-5.67-1.26-8.56-4.02-8.56-2.7 0-4.66 3.08-4.66 8.31s1.55 8.3 4.94 8.3c2.54 0 3.74-1.8 3.74-1.8l-.47-1.21s-1.11 1.71-3.23 1.71c-2.32 0-3.46-2.38-3.52-6.75zm3.2-7.32c1.62 0 2.88 1.9 2.63 6.15h-5.8c.13-4 1.49-6.15 3.17-6.15zm8.34 6.78l5.54 8.27h1.65l-5.64-8.55 5.26-7.42h-1.46l-5.35 7.51v-7.51h-1.49v15.97h1.49zm18.95 11.41v-4.34h-1.46V14.14h-1.49v14.77h-5.35V14.14h-1.49v15.97h8.43l.19 3.14zM144.74 11c.54 0 1.02-.44 1.02-1.01 0-.54-.48-1.05-1.02-1.05-.57 0-1.01.51-1.01 1.05 0 .57.44 1.01 1.01 1.01zm-.76 3.14v15.97h1.49V14.14zm5.36 0v15.97h1.49V14.14zM148.13 11c.54 0 .96-.41.96-.95s-.42-.98-.96-.98c-.53 0-.95.44-.95.98s.42.95.95.95zm3.71 0c.54 0 .95-.41.95-.95s-.41-.98-.95-.98-.95.44-.95.98.41.95.95.95z"},[],{ns:r,view:this})],{ns:r,view:this})]])])},G=function(t){function e(){return t.apply(this,arguments)||this}return c()(e,t),e}(l.c);Object(d.a)({template:function(t){var e=this&&this.isRestored,n=e?p.er:p.e,r=e?p.ar:p.a;return(e?p.fr:p.f)(this.env.hideHeader?[]:[n.d("head__top",{},[n.d("head__main",{},[K.call(this,{})])," ",r(W,{model:this.model,className:"head__actions",mode:this.options.mode},this)])])},className:"head head_login head_side",modelEvents:{"change:login":"render"}})(G);var Y=n("rktC"),X=n("PchP"),J=function(t){var e=this,r=e&&e.isRestored,i=r?p.er:p.e,o=r?p.ar:p.a,a=r?p.yr:p.y;return(r?p.fr:p.f)(t.showSidebar?[e.env.isEmbed?[]:[i.d("side__overlay",{},[],{events:[["click",e.onClose.bind(e)]],view:e})]," ",e.options.isShareLayout?[]:[i.d("side__nav",{},[i("span","side__close",{},[],{events:[["click",e.onClose.bind(e)]],view:e})," ",e.env.isEmbed?[e.env.isEmbed?[]:[o(W,{model:e.env.currentUser,className:"side__user",mode:"side"},e)]," ",i("ul","side__tabs",{},[[{mod:"add",type:"add_suggest",types:"add_suggest,add_results,add_series_edit,add_boards,add_favorites,loading",counter:"clickCardCreate",title:"Додати картку"},{mod:"list",type:"boards",types:"boards,card_move,card_share,board_favorites",counter:"clickMyBoards",title:"Мої колекції"}].map(function(t){var n=e&&e.isRestored?p.er:p.e;return t.hidden?[]:[n("li",Object(p.j)(["side__tabs__item side__tabs__item_",t.mod]),{"data-type":t.type,"data-types":t.types,"data-c":Object(M.a)(t.counter,{hash:{loc:"sidebar",type:"menuLink"}})},[n("span","side__tab",{title:t.title},[n("span",Object(p.j)(["side__tab__icon side__tab__icon_",t.mod]),{},[])])])]})])," ",e.options.showArrow?[i("span","side__elevator",{title:"Угору"},[],{ui:"arrow",events:[["click",e.onArrow.bind(e)]],view:e})]:[]]:[]])]," ",i.d("side__content",{},[i.d("side__content__wrap",{},[e.env.isEmbed||e.options.isShareLayout?[o(G,{model:e.env.currentUser,mode:"head"},e)]:[],Y.a.call(t,"content",{hash:{},data:{view:e}}),Y.a.call(t,"hint",{hash:{},data:{view:e}}),e.env.isEmbed||e.options.isShareLayout?[]:[a(Object(p.all)([Object(p.retryPromise)(function(){return n.e(13).then(n.bind(null,"3QE8"))},1/0,3e3),e.getEnv().di({cardState:"CardPopupState"})],function(t){return o(t[0].DesktopSidebarCardDrop,Object(p.assign)({model:e.model},t[1]),e)}),e)],e.env.isEmbed?[o(X.a,{embed:!0},e)]:[]],{ui:"wrapper",view:e}),Y.a.call(t,"button",{hash:{},data:{view:e}})])]:[])},Q=n("UJ4k"),Z=function(t){function e(){return t.apply(this,arguments)||this}c()(e,t);var r=e.prototype;return r.initialize=function(){this.preloadData(),this.currentType="",this.isConfigLoaded=!1},r.className=function(){var t="side";return this._isNeedState()&&(t+=" side_state_hidden"),t},r.onRender=function(){this.onVisibilityModeChanged(),this.onChangeLogin()},r.isInstanceValid=function(){var t=this.env,e=t.eventName,n=t.prevEventName;return!this.isDestroyed&&"pluginSuccess"!==e&&"pluginSuccess"!==n},r.onShow=function(){this.listenTo(this.model,{"change:type":this.onTypeChanged,"change:visibilityMode":this.onVisibilityModeChanged,"save:scrollPosition":this.onSaveScrollPosition}),this.listenTo(this.env.currentUser,"change:login",this.onChangeLogin)},r.preloadData=function(){var t=this;this.env.currentUser.isAuthorized()&&setTimeout(function(){return t.dataLoader()},2e3)},r.dataLoader=function(){var t=this.model.userBoards,e=this.model.getCardSourceType();return t.fetchCurrentUserBoards(e)},r.onTypeChanged=function(){var t=this,e=this.getType(),n=this.model.isClosed();if(n||(this.openTime=Date.now()),this.env.isEmbed||this._toggle(!n),n)return this._hide(),this.currentType="",void this.clearRegions();e!==_.n.LOADING?this.loadTemplate(e).then(function(n){var r=n.template,i=n.isLoading;if(r){var o=r.Button,a=r.Content;if(a){var s={model:t.model,isShareLayout:t.options.isShareLayout||!1,env:t.env};t.options.animationState&&(s.animationState=t.options.animationState);var c=new a(s);t.wrapper&&t.wrapper[0]&&(t.wrapper[0].scrollTop=0);var u=function(){t.isDestroyed||t.getType()!==e||(o?t.showInRegion(t.button,o,s):t.button&&t.button.empty(),t.currentType=e,t.content.show(c),t.model.getHintOptions(e).then(function(n){t.isDestroyed||t.getType()!==e||(n?t.showInRegion(t.hint,w,n):t.hint.empty())}),t._show(),t.restoreScrollPosition())},l=c.promise?c.promise():null;l?(i||(t.showLoading(),t._show()),l.then(u)):u()}else t.onClose()}else console.warn('Template for type "'+e+"\" doesn't exist.")}):this.showLoading()},r.restoreScrollPosition=function(){var t=this.model.getTypeOptions();if(t&&t.restoreScroll){var e=this.model.getGridPosition();e&&(this.model.resetGridPosition(),this.wrapper[0].scrollTop=e)}},r.onChangeLogin=function(){var t=this.env.currentUser.isAuthorized();this.$el.toggleClass(t?"side_lock side_unauth-add side_unauth-list":this.getClassName(),!t)},r.getClassName=function(){return this.model.hasExtGuest()?this.env.currentUser.getCardsCount()>0?"side_unauth-list":"side_unauth-add":"side_lock"},r.onVisibilityModeChanged=function(){var t=this,e=this.model.getVisibilityMode()===_.m.LAYOUT;this.$el.addClass("side_noanim"),this.$el.toggleClass("side_layout",e),setTimeout(function(){t.$el.removeClass("side_noanim")})},r.onSaveScrollPosition=function(){if(this.isIntact()){var t=this.wrapper.scrollTop();this.model.setGridPosition(t)}},r.getType=function(){return this.model.getActualType()},r.loadTemplate=function(t){var e=this,r=this.isConfigLoaded;return r||this.showLoading(),Object(h.b)(function(){return n.e(39).then(n.bind(null,"35SU"))}).then(function(n){var i=n.SIDEBAR_CONTENT_CONFIG;return e.isConfigLoaded=!0,{template:i[t],isLoading:!r}})},r.showLoading=function(){this.isIntact()&&(this.button&&this.button.empty(),this.hint&&this.hint.empty(),this.showInRegion(this.content,v))},r.clearRegions=function(){this.button&&this.button.empty(),this.content&&this.content.empty(),this.hint&&this.hint.empty()},r.onClose=function(){this.currentType="",this.model.closePanel()},r.serializeData=function(){return{showSidebar:!0}},r._hide=function(){this._toggle(!1)},r._show=function(){this.env.dispatch(Object(Q.a)({hidePopup:!0})),this._toggle(!0)},r._toggle=function(t){var e=this.model.getVisibilityMode()===_.m.LAYOUT;this.$el.removeClass("side_content").removeClass("side_content-list").removeClass("side_state_hidden").removeClass("side_state_visible"),t?(this._isNeedState()&&this.$el.addClass("side_state_visible"),this.$el.addClass(e?"side_content-list":"side_content")):this._isNeedState()&&this.$el.addClass("side_state_hidden")},r._isNeedState=function(){return!this.env.isEmbed},e}(l.c);Object(d.a)({template:i,behaviors:{PreventParentScroll:{behaviorClass:f.a,selector:".side__content__wrap",excludeTarget:"textarea",dynamic:!0}}})(Z),n.d(e,"a",function(){return $});var $=function(t){function e(){return t.apply(this,arguments)||this}c()(e,t);var n=e.prototype;return n.className=function(){var e=t.prototype.className.call(this);return this.env.isEmbed||(e+=" side_nobar"),e},n.highlightLink=function(){var t=this.getType(),e=this.model.isTypeBoardCreate(),n=this.model.isType(_.n.ADD_CARD_BOARD_SUCCESS),r=this.model.isType(_.n.LOADING);e||n||r||this.ui.links.removeClass("side__tabs__item_cur").filter(function(){var e=u(this),n=e.data("type"),r=String(e.data("types")).split(",");return n===t||r.includes(t)}).addClass("side__tabs__item_cur")},n.onTypeChanged=function(){this.highlightLink(),t.prototype.onTypeChanged.call(this)},n.onLink=function(t){var e=u(t.currentTarget).data("type");this.model.getVisibilityMode()!==_.m.LAYOUT?this.model.isType(e)?this.onClose():this.onDifferentTypeClicked(e):t.stopPropagation()},n.onDifferentTypeClicked=function(t){this.model.clean(),t===_.n.BOARDS&&this.model.shouldShowBoardCreate()?this.env.currentUser.isAuthorized()?this.model.showBoardCreate():this.model.showBoardFavorites():this.model.setType(t)},e}(Z);Object(d.a)({ui:a()({},Z.prototype.ui,{links:".side__tabs__item"}),events:a()({},Z.prototype.events,{"click @ui.links":"onLink","mouseenter @ui.content":"onMouseEnter","mouseleave @ui.content":"onMouseLeave"})})($)},"bRg+":function(t,e,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("VbXa"),a=n.n(o),s=n("Y+Td"),c=n("U60d"),u=n("mdRN"),l=n("NDfO"),d=n("67sj"),h=n("9TW5"),f=n("Ahwa");n.d(e,"a",function(){return p});var p=function(t){function e(){return t.apply(this,arguments)||this}a()(e,t);var n=e.prototype;return n._constructor=function(e){this.initOptions(e),this.initDefaultModel(),t.prototype._constructor.call(this,this.options)},n.className=function(){return Object(l.a)("check",["type","mode","size","indeterminate","disabled"],this.options)},n.initOptions=function(t){return this.options=Object.assign({},Object(s.result)(this,"options"),t)},n.defaultModelFactory=function(){var e=t.prototype.defaultModelFactory.call(this);return e.set(this.name,this.options.inverse),e},n.serializeData=function(){return i()({},this.options)},e}(c.a);Object(u.a)({template:function(t){var e=this&&this.isRestored,n=e?h.er:h.e,r=e?h.sr:h.s;return(e?h.fr:h.f)([n("span","check__i",{},[n("input","",Object(h.assign)({type:t.mode},t.name?{name:t.name}:{},t.value?{value:t.value}:{},t.checked?{checked:""}:{}),[])])," ",r(t.label)," ",r(f.a.call(t,{data:{view:this}}))])},tagName:"label",ui:{input:"input"},behaviors:{Check:{behaviorClass:d.a}},options:{size:"M",type:"normal",mode:"checkbox",value:!0,inverse:!1}})(p)},bn5B:function(t,e,n){"use strict";var r;function i(){return r||(r=new Promise(function(t,e){var n=document.createElement("script");n.src="https://yastatic.net/share2/share.js",n.async=!0,n.onload=t,n.onerror=e,document.body.appendChild(n)})),r}n.d(e,"a",function(){return i})},"c+Ap":function(t,e,n){"use strict";var r;n.d(e,"z",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"Y",function(){return a}),n.d(e,"p",function(){return s}),n.d(e,"q",function(){return c}),n.d(e,"w",function(){return u}),n.d(e,"y",function(){return l}),n.d(e,"r",function(){return d}),n.d(e,"s",function(){return h}),n.d(e,"u",function(){return f}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return g}),n.d(e,"x",function(){return m}),n.d(e,"n",function(){return v}),n.d(e,"m",function(){return b}),n.d(e,"I",function(){return _}),n.d(e,"lb",function(){return y}),n.d(e,"mb",function(){return C}),n.d(e,"U",function(){return O}),n.d(e,"v",function(){return S}),n.d(e,"d",function(){return w}),n.d(e,"t",function(){return E}),n.d(e,"o",function(){return k}),n.d(e,"P",function(){return j}),n.d(e,"Q",function(){return T}),n.d(e,"O",function(){return x}),n.d(e,"T",function(){return R}),n.d(e,"ib",function(){return I}),n.d(e,"N",function(){return D}),n.d(e,"ob",function(){return P}),n.d(e,"A",function(){return L}),n.d(e,"eb",function(){return N}),n.d(e,"c",function(){return A}),n.d(e,"a",function(){return B}),n.d(e,"H",function(){return M}),n.d(e,"V",function(){return F}),n.d(e,"kb",function(){return U}),n.d(e,"R",function(){return z}),n.d(e,"h",function(){return V}),n.d(e,"j",function(){return H}),n.d(e,"cb",function(){return W}),n.d(e,"bb",function(){return q}),n.d(e,"D",function(){return K}),n.d(e,"g",function(){return G}),n.d(e,"F",function(){return Y}),n.d(e,"E",function(){return X}),n.d(e,"f",function(){return J}),n.d(e,"gb",function(){return Q}),n.d(e,"hb",function(){return Z}),n.d(e,"C",function(){return $}),n.d(e,"nb",function(){return tt}),n.d(e,"Z",function(){return et}),n.d(e,"J",function(){return nt}),n.d(e,"b",function(){return rt}),n.d(e,"G",function(){return it}),n.d(e,"K",function(){return ot}),n.d(e,"M",function(){return at}),n.d(e,"L",function(){return st}),n.d(e,"i",function(){return ct}),n.d(e,"B",function(){return ut}),n.d(e,"W",function(){return lt}),n.d(e,"X",function(){return dt}),n.d(e,"db",function(){return ht}),n.d(e,"ab",function(){return ft}),n.d(e,"S",function(){return pt}),n.d(e,"fb",function(){return gt}),n.d(e,"jb",function(){return vt});var i=/yandex\.(ru|by|ua|com\.ua|com\.tr|kz|uz|az|com\.am|com\.ge|co\.il|kg|lt|lv|md|tj|tm|fr|ee|com)/,o=["by"],a="@__offline__@",s=24,c=24,u=12,l=24,d=5,h=30,f=200,p=1/0,g=3e3,m=10,v={AUTH:"auth",BOARDS:"boards",LOADING:"loading",BOARD_CREATE:"board_create",BOARD_CREATE_ADD:"board_create_add",BOARD_CREATE_SHARE:"board_create_share",BOARD_EDIT:"board_edit",BOARD_FAVORITES:"board_favorites",CARD_MOVE:"card_move",CARD_SHARE:"card_share",CARD_EDIT:"card_edit",ADD_SUGGEST:"add_suggest",ADD_RESULTS:"add_results",ADD_SERIES_EDIT:"add_series_edit",ADD_BOARDS:"add_boards",ADD_FAVORITES:"add_favorites",ADD_CARD_BOARD_SUCCESS:"add_card_board_success",MOVE_CARD_BOARD_SUCCESS:"move_card_board_success",GUIDE:"guide",SHARE_ERROR:"share_error",ERROR:"error",NONE:""},b={NORMAL:"normal",LAYOUT:"layout"},_={ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,E:69},y="active",C="fulfilled",O=1007,S={WIDTH:200,HEIGHT:200},w={ORIG:"orig",OPTIMIZE:"optimize"},E="hide",k={CARD:"card",BOARD:"board",COMMENT:"comment"},j="pdb",T="pdb-teasers",x={smart38:"smart130"},R=6,I=8,D={byte:15728640,label:"15"},P="34479635",L="__none__",N="need-session-reset",A="auth:success",B="auth:fail",M=10,F=2,U="toloka",z={utm_source:{toloka:{key:"role",value:"0e63f1235538f10521233921bcff0e0d"},ang:{key:"role",value:"c5fcf718d47c8eb2f05dba8fbe618814"}}},V="size1x1",H="size1x2",W={role:"14d41514d2da7545e1eca660ed93654d"},q={GENERAL:"general"},K="feed",G={NORMAL:"Normal",SEARCH:"Search",VIRTUAL:"Virtual"},Y={cardLike:"card_like",cardShare:"card_share",userSubscribe:"user_subscribe",channelSubscribe:"channel_subscribe",boardSubscribe:"board_subscribe",userSubscriptions:"user_subscriptions",sidebarResults:"hint_results",sidebarBoards:"hint_boards",sidebarBoardsUnauth:"hint_boards_unauth"},X={followingsChannels:"followingsChannels"},J="card:list:seen",Q="card",Z="layout",$="izbrannoe",tt="zakladki_iz_yandex_brauzera",et="M",nt=(function(t,e){t[t[e="LIKES"]="likes"]=e,t[t[e="SUBS"]="subs"]=e,t[t[e="CARDS"]="cards"]=e}({}),{PRELOGIN:"prelogin",DIRECT:"direct"}),rt={EMBED:"embed",WEB:"web"},it={OK:200,BAD_REQUEST:400,UNAUTHORIZED:401,FORBDIDDEN:403,NOT_FOUND:404,DUPLICATE:409,INTERNAL_SERVER_ERROR:500,GATEWAY_TIMEOUT:502},ot=function(t,e){return t[t[e="INFO"]="info"]=e,t[t[e="WARN"]="warn"]=e,t[t[e="ERROR"]="error"]=e,t}({}),at={clientError:"client-error",clientNetwork:"client-network",serverError:"server-error",serverNetwork:"server-network",serverAccess:"server-access",serverTimings:"server-timings"},st="__logged",ct=200,ut={RECIPE:"recipe",MARKET:"market",GAME:"game",ORGANIZATION:"organization",GEO:"geo"},lt=((r={})[ut.GAME]="game",r[ut.GEO]="geo",r),dt={GAME:"VideoGame",GEO:"Geo"},ht=1,ft="elgbdlbmpibcceffecmkgglfhoolhhbo",pt=25,gt=3,mt=window,vt=Boolean(!1)||Boolean(mt.Ya&&mt.Ya.Collections&&mt.Ya.Collections.exp&&mt.Ya.Collections.exp.flags&&mt.Ya.Collections.exp.flags.collections_priemka)},c7rW:function(t,e,n){t.exports=n.p+"f/b100.gif"},c9IW:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=2.2,i={};function o(t){if(!t)return!0;if(t in i)return i[t];var e=parseInt(t.slice(1,3),16)/255,n=parseInt(t.slice(3,5),16)/255,o=parseInt(t.slice(5,7),16)/255,a=.2126*Math.pow(e,r)+.7152*Math.pow(n,r)+.0722*Math.pow(o,r);return i[t]=a>.4}},cD64:function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=40,i=16,o=405,a=32},cDcd:function(t,e){t.exports=React},cJ2g:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={setScrollTop:function(t){this.set("scrollTop",t)},getScrollTop:function(){return this.get("scrollTop")},onChangeScrollTop:function(){var t=this,e=this.getScrollTop(),n=Date.now(),r=0;if(this._lastScroll&&this._lastTime&&(r=Math.abs(e-this._lastScroll)/(n-this._lastTime)),this._lastScroll=e,this._lastTime=n,this.isScrolling()){if(r<.2)return}else{if(!(r>.2))return;this.set("isScrolling",!0)}this.scrollTimer&&clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(function(){t.set("isScrolling",!1)})},isScrolling:function(){return this.get("isScrolling")}}},cVdW:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({feedGeneral:"Усі теми",feedRecipes:"Рецепти",feedInteriors:"Інтер’єри",feedDiy:"Власноруч",feedWeddings:"Весілля",feedBeauty:"Краса та догляд",feedHairstyles:"Зачіски",feedNature:"Природа",feedGardening:"Сад",feedFashion:"Одяг та взуття",feedTravel:"Подорожі",feedTattoo:"Татуювання",feedAuto:"Авто і мото"})},"cW8/":function(t,e,n){"use strict";function r(t){return function(e,n){var r={};return Object.keys(t).forEach(function(i){r[i]=t[i](e,n)}),r}}n.d(e,"a",function(){return r})},cX81:function(t,e,n){"use strict";var r,i,o=n("pVnL"),a=n.n(o),s=n("VbXa"),c=n.n(s),u=n("smvh"),l=n("SiKM"),d=n("Iv6v"),h=n("mdRN"),f=n("K9S7"),p=n("j3NW"),g=n("SUYq"),m=n("n73F"),v=n("c+Ap"),b={page_size:v.w,previews_count:v.ib,sort:"-service.updated_at"},_={subscriptions:function(t){return t&&t.isSubscribed()},cardLike:function(t){return t&&t.isLiked()}},y=Object(h.a)({url:"/collections/api/users/",model:g.a})(r=Object(f.a)()(r=function(t){function e(){return t.apply(this,arguments)||this}c()(e,t);var n=e.prototype;return n.fetchFollowersByLogin=function(t){return this.setTarget(this._parentModel),this.fetchWithOptions({followers_of_user:t},{rule:"subscriptions"})},n.fetchFollowingUsers=function(t){return this.fetchWithOptions({followed_by:t})},n.fetchBoardFollowers=function(t){return this.setTarget(this._parentModel),this.fetchWithOptions({followers_of_board:t.getId()},{rule:"subscriptions"})},n.fetchLikedUsersForCard=function(t){return this.setTarget(t),this.fetchWithOptions({likers_of:t.id},{rule:"cardLike"})},n.fetchSharedUsersForCard=function(t){return this.fetchWithOptions({shared_card:t.id})},n.fetchWithOptions=function(t,e){return e&&e.ignoreDefaultParams||(t=Object.assign({},this.fetchParams||b,t)),t=Object(l.omit)(t,l.isNull),JSON.stringify(this.oldFetchParams)!==JSON.stringify(t)?(this.fetchParams=this.oldFetchParams=t,this.iteratorReset(this.fetchParams,e)):Promise.resolve(this)},n.setTarget=function(t){this._target=t},n.getTarget=function(){return this._target},n.setParentModel=function(t){var e;e=t instanceof m.a?"change:stat change:subscription":"change:subscription",this._parentModel&&this.stopListening(this._parentModel),t&&this.listenTo(t,e,this.onModelChange),this._parentModel=t},n.onModelChange=function(){this.iteratorRewind()},n.parse=function(e,n){var r=t.prototype.parse.call(this,e,n);if(n&&n.reset&&n.rule&&_[n.rule](this.getTarget())){var i=this.getEnv();if(i){var o=i.currentUser;o.isRestricted()&&r.unshift(o)}}return r},n.updateDependenciesFollowers=function(t){var e=t.event.params.login,n=t.request,r=t.user,i=t.env;return this.updateDependencies({request:n,env:i}),this.setParentModel(r),this.fetchFollowersByLogin(e)},n.updateDependenciesBoardFollowers=function(t){var e=t.currentBoard,n=t.request,r=t.env;return this.updateDependencies({request:n,env:r}),this.setParentModel(e),this.fetchBoardFollowers(e)},e.restore=function(t){var e=this.dataFactory(t,{parse:!0});return e.fetchParams=e.oldFetchParams=t.fetchParams,e},e}(p.a))||r)||r,C=n("gl2N"),O=n("1H70"),S=Object(f.a)()(i=Object(h.a)({model:C.a})(i=function(t){function e(){return t.apply(this,arguments)||this}c()(e,t);var n=e.prototype;return n.getFirstImageInfo=function(t){if(this.size())return this.at(0).getImageInfo(t)},n.getFirstImageURL=function(t){if(void 0===t&&(t={}),this.size())return this.at(0).getImageURL(t)},n.getFirstPreviewInfo=function(){if(this.size())return this.at(0).getContent()},e.restore=function(t){return this.dataFactory(t,{parse:!0})},e}(O.a))||i)||i,w=n("Y+Td"),E=function(t){function e(e){return t.call(this,e)||this}c()(e,t);var n=e.prototype;return n.isValid=function(){return!0},n.shouldSave=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.isValid.apply(this,[t].concat(n))},n.getVerticalName=function(){},n.isPageUrlShown=function(){return!0},n.isButtonShown=function(){return!0},n.needsColorWiz=function(){return!1},n.toWrapJSON=function(){var t;return(t={})[this.fieldName]=this.toJSON(),t},n.getSummaryText=function(){},e.factory=function(t,e){return new this(t,e)},e}(d.a),k=n("BpHA"),j=n("/ERR"),T=function(t){function e(n){return t.call(this,e.parse(n))||this}c()(e,t);var n=e.prototype;return n.getVerticalName=function(){return k.c},n.getType=function(){return v.B.RECIPE},n.getMetaTemplatePrefix=function(){return"VirtualRecipe"},n.getCookingTime=function(){return this.get("cooking_time")},n.getPortionsCount=function(){return this.get("servings")},n.getRangePortionsCount=function(){var t=this.get("range_servings");if(t)return t.split("-").map(Number)},n.setPortionsCount=function(t){this.set("servings",t)},n.getIngredients=function(){return this.get("ingredients")},n.getCalories=function(){return this.get("calories")},n.getName=function(){return this.get("name")},n.getUrl=function(){return this.get("url")},n.getIngredientsCount=function(){return this.getIngredients().length},n.getInfo=function(t){return{type:this.getType(),title:this.getName()||t.getDescription().trim(),time:this.getCookingTime(),portions:this.getPortionsCount(),rangePortions:this.getRangePortionsCount(),href:this.getUrl(),summary:this.getSummaryText()}},n.getSummaryText=function(){var t=this.getCookingTime();if(t)return Object(j.b)(t,"minutes")},e.parse=function(t){var e=t.servings;return e&&("string"==typeof e&&-1!==e.indexOf("-")?(t.range_servings=t.servings.replace(/\s*/g,""),t.original_servings=void 0,t.servings=void 0):(e=parseInt(e,10),t.original_servings=e,t.servings=e)),t},e}(E);Object(h.a)({fieldName:"recipe",defaults:{url:null,servings:null,cooking_time:null,name:null,ingredients:[]}})(T);var x=n("2Y2+"),R=n("0kDp"),I=n("RoKP"),D={RUB:"% ₽",RUR:"% ₽",BYN:"% б. р.",BYR:"% б. р.",USD:"$ %",EUR:"% €"},P=function(t){function e(){return t.apply(this,arguments)||this}c()(e,t);var n=e.prototype;return n.getMetaTemplatePrefix=function(){return"VirtualMarket"},n.getType=function(){return v.B.MARKET},n.needsColorWiz=function(){return!0},n.getModelId=function(){return this.get("model_id")},n.getKind=function(){return this.get("kind")},n.getName=function(){return this.get("name")},n.getVendor=function(){return this.get("vendor")},n.getDescription=function(){return this.get("description")},n.setDescription=function(t){this.set("description",t)},n.getPrice=function(){return this.get("price")},n.hasPrice=function(){return Boolean(this.getPrice())},n.getCurrency=function(){return this.get("currency")||""},n.isRouble=function(){var t=this.getCurrency().toLowerCase();return["rur","rub"].includes(t)},n.getRoundedPrice=function(){return Object(x.a)(Math.round(this.getPrice()))},n.getFormatPrice=function(){var t=this.getCurrency(),e=this.getRoundedPrice(),n=D[t];return n?n.replace("%",e):e+" "+t},n.getUrl=function(){return"https://market.yandex.ru/product/"+encodeURIComponent(String(this.getModelId()))},n.getLink=function(){return this.get("link")},n.isPrecise=function(){return this.get("precise")},n.getRating=function(){return this.get("rating")},n.hasRating=function(){var t=this.getRating();return null!==t&&t>=0},n.toViewJSON=function(t){var e=this.toJSON();return this.hasPrice()&&(e.price=this.isRouble()?this.getRoundedPrice():this.getFormatPrice()),(!e.rating||e.rating<0||e.rating>5)&&(e.rating=0),e.rate=Math.round(e.rating),e.url=this.getUrl(),e.summary=this.getSummaryText(t),e.description?e.features=e.description.replace(/&quot;/g,'"').split("\n").map(function(t){return t.trim()}).filter(Boolean):e.features=[],e.kind&&(e.kind=e.kind.trim()),e.link&&(e.url=e.link),e},n.getFullTitle=function(){return Object(I.a)(this.attributes)},n.getInfo=function(t,e){var n=this.getRating(),r=this.getDescription(),i={type:this.getType(),title:this.getFullTitle()||t.getDescription().trim(),description:r&&r.trim(),href:this.getLink()||this.getUrl(),precise:this.isPrecise(),rating:this.hasRating()?n:null,price:null,summary:null,shortSummary:null};return this.hasPrice()&&(this.isRouble()?(i.price=this.getRoundedPrice(),i.summary=e.translate(R.marketTeaserPriceRouble,{price:i.price}),i.shortSummary=e.translate(R.marketTeaserPriceRoubleShort,{price:i.price})):i.price=this.getFormatPrice()),i.summary=i.summary||this._getSummaryText(e,!1),i.shortSummary=i.shortSummary||this._getSummaryText(e,!0),i},n._getSummaryText=function(t,e){void 0===e&&(e=!1);var n=this.isPrecise();return this.hasPrice()&&n?this.isRouble()?this.getRoundedPrice():this.getFormatPrice():e?R.marketNotPreciseShort():(n?R.marketNoPriceFull:R.marketNotPrecise)()},n.getSummaryText=function(t){return this._getSummaryText(t,!1)},e}(E);Object(h.a)({fieldName:"market"})(P);var L=function(t){function e(e){var n=t.call(this,e)||this;return n.on("change:type",function(){return n.unset("title")}),n}c()(e,t);var n=e.prototype;return n.isValid=function(){return Boolean(this.getType())===Boolean(this.getName())},n.getType=function(){return this.get("type")},n.getName=function(){return this.get("title")},n.getData=function(){return this.get("data")||{}},n.toJSON=function(){return this.isValid()&&this.getType()?t.prototype.toJSON.call(this):null},e}(E);Object(h.a)({fieldName:"object_answer"})(L);var N,A,B=n("5Skr"),M=n("4N1o"),F=n("KXxY"),U={gplay:"google",itunes:"apple"},z=function(t){function e(e,n){var r=t.call(this,e)||this;return r._addNecessaryData(n),r}c()(e,t);var n=e.prototype;return n.getType=function(){return v.B.GAME},n.getMetaTemplatePrefix=function(){return"VirtualGame"},n._addNecessaryData=function(t){var e=t.getSourceMetaPageUrl(),n=this.getData();e&&(e.indexOf("itunes.apple.")>1&&(n.links=a()({itunes:e},n.links)),e.indexOf("play.google.")>1&&(n.links=a()({gplay:e},n.links))),this.set("data",n)},n.isSteamUrlShown=function(){var t=this.getData().links;return t&&t.steam&&!this.getStores().length},n.getStores=function(){var t=[],e=this.getData().links;return e&&Object.keys(U).forEach(function(n){var r=e[n];r&&t.push({value:r,name:U[n]})}),t},n.isPageUrlShown=function(t){var e=t.getSourceMetaPageUrl(),n=this.getData().links;return this.isSteamUrlShown()?e===n.steam:!!n&&Object.keys(U).map(function(t){return n[t]}).indexOf(e)>-1},n.isButtonShown=function(){return Boolean(this.isSteamUrlShown())},n.getNormalizedGenres=function(){var t=this.getData().genres;return t&&Object(M.a)(t)||F.defaultGameGenre()},n.getInfo=function(){var t=this.getData(),e=Object(B.getGameRatings)(t)||{rating:null,ratings:null};return this._hasRatings=Boolean(e.ratings&&e.ratings.length),{type:v.W[this.getType()],title:this.getName(),genres:this.getNormalizedGenres(),button:Object(B.getGameButton)(t),rating:e.rating,summary:this.getSummaryText(),ratings:e.ratings}},n.getSummaryText=function(){return this.getNormalizedGenres()},e}(L),V=n("NFi3"),H=n("8YGJ"),W=function(t){function e(){return t.apply(this,arguments)||this}c()(e,t);var n=e.prototype;return n.getType=function(){return v.B.GEO},n.getMetaTemplatePrefix=function(){return"VirtualGeo"},n.isPageUrlShown=function(){return!1},n.getCoords=function(){var t=this.getData().geo_info;if(t&&t.coords&&t.coords.latitude&&t.coords.longitude)return t.coords},n.isButtonShown=function(){return Boolean(this.getCoords())},n.getInfo=function(){var t,e=this.getCoords();if(e){var n=e.longitude,r=e.latitude,i=this.getData().geo_info;t={label:H.showOnMaps(),labelShort:H.showOnMapsShort(),href:Object(V.a)(n,r,this.getName(),i&&i.zoom)}}return{type:v.B.GEO,title:this.getName(),summary:this.getSummaryText()||this.getDescription(),button:t}},n.getSummaryText=function(){return this.getData().subtitle},n.getDescription=function(){return this.getData().description},e}(L),q=n("ICaW"),K=n("Ff+0"),G=function(t){function e(){return t.apply(this,arguments)||this}c()(e,t);var n=e.prototype;return n.getMetaTemplatePrefix=function(){return"VirtualOrganization"},n.isValid=function(){return this.get("name")},n.shouldSave=function(t){return Boolean(!t||t.hasFeature(q.a.CARD_EDIT_CATALOG))},n.getType=function(){return v.B.ORGANIZATION},n.getName=function(){return this.get("name")},n.getCategoriesJoined=function(){return(this.get("categories")||[]).map(K.a).join(", ")},n.getCoordinates=function(){return this.get("coordinates")},n.getInfo=function(){var t,e=this.getCoordinates();if(e){var n=e.join(",");t={label:H.showOnMaps(),labelShort:H.showOnMapsShort(),href:"/maps/?text="+this.getName()+"&ll="+n+"&oid="+this.id}}return{type:v.B.ORGANIZATION,title:this.getName(),summary:this.getSummaryText(),button:t}},n.getSummaryText=function(){return this.getCategoriesJoined()},n.isPageUrlShown=function(){return!1},n.isButtonShown=function(){return Boolean(this.get("coordinates"))},n.toJSON=function(){return this.id?t.prototype.toJSON.call(this):null},e}(E);Object(h.a)({fieldName:"organization"})(G);var Y,X=((A={})[P.prototype.fieldName]=P,A[G.prototype.fieldName]=G,A[T.prototype.fieldName]=T,A[L.prototype.fieldName]=((N={})[v.X.GAME]=z,N[v.X.GEO]=W,N),A),J=function(t){function e(e,n){var r;void 0===e&&(e={}),(r=t.call(this)||this).card=n;var i=Object.keys(X).map(function(t){return"change:"+t}).join(" ");return n.on(i,function(){return r.reset(n.attributes)}),r.reset(e),r}c()(e,t);var n=e.prototype;return n.clone=function(t){var n=new e(this.toJSON(),t||this.card);return n.setEnv(this.env),n},n.setEnv=function(t){this.env=t,this.models=this.models.filter(function(e){return e.isValid(t)}),this.extension=this.models[0]},n.reset=function(t){var e=this;this.models=[],this.tmpModels=[],Object.keys(X).forEach(function(n){var r=t[n];if(r){var i=X[n],o="object"==typeof i?i[r.type]:i,a=o&&o.factory(r,e.card);a&&e.models.push(a)}}),this.extension=this.models[0]},n.hasOne=function(){return Boolean(this.extension)},n.getExtension=function(){return this.extension},n.getBestTitle=function(){return this.extension&&this.extension.getName()||""},n.getVerticalName=function(){return this.extension&&this.extension.getVerticalName()||""},n.getMetaTemplatePrefix=function(){return this.extension&&this.extension.getMetaTemplatePrefix()},n.findByType=function(t){return this.models.find(function(e){return e.getType()===t})},n._findByInstanceOf=function(t,e){return void 0===e&&(e=this.models),e.find(function(e){return e instanceof t})},n.getTemporaryByClass=function(t,e){var n=this._findByInstanceOf(t,this.tmpModels);if(!n){var r=this._findByInstanceOf(t);n=new t(r?Object(w.pick)(r.toJSON(),e):{},this.card),this.tmpModels.push(n)}return n},n.getEditObjectAnswerProxy=function(){return this.getTemporaryByClass(L,["type","title"])},n.getEditOrganizationProxy=function(){return this.getTemporaryByClass(G,["id","name"])},n.isPageUrlShown=function(){return this.extension&&this.extension.isPageUrlShown(this.card)},n.isButtonShown=function(){return this.extension&&this.extension.isButtonShown()},n.needsColorWiz=function(){return this.extension&&this.extension.needsColorWiz()},n.getInfo=function(){return this.extension&&this.extension.getInfo(this.card,this.env)},n.toJSON=function(){var t=this;return this.models.concat(this.tmpModels).reduce(function(e,n){return n.shouldSave(t.env)?a()({},e,n.toWrapJSON()):e},{})},e}(u.a),Q=n("zBb6"),Z=n("iABh"),$=n("iROX"),tt=n("XL0g"),et=n("/bNA"),nt=n("t0kG"),rt=n("gLBg"),it=n("izju"),ot=n("aKBe");n.d(e,"a",function(){return ct});var at=u.c.channel("global.share").vent,st=[it.a.BOOK,it.a.FILM,it.a.GEO,it.a.LINK,it.a.SERIES],ct=Object(h.a)({urlRoot:"/collections/api/cards/",defaults:function(){return{parent:null,board_id:null,owner_id:null,parent_id:null,preview:null,complaint:null,content:"",type:v.g.NORMAL,service:null,description:"",source_meta:{},last_comment:null,stat:{shares_count:0,likes_count:0,comments_count:0}}}})(Y=Object(f.a)({check:["owner.id","stat"]})(Y=function(t){function e(){return t.apply(this,arguments)||this}c()(e,t);var n=e.prototype;return n.initialize=function(){var t=this;this.on("change:stat",function(){t.usersLiked=null,t.usersShared=null}),this.on("destroy",function(){et.a.showCardRemoveMessage(t),t.set("id",null),et.a.onCardRemove()}),this.on("change",function(){var e=t.getEnv();e&&e.invokeStrategy(nt.a.CardToReduxStrategy,{card:t}).catch(function(t){console.error(t)})})},n.setBoard=function(t){var e=!t||t.hasEmptyId();this.set({board:t,board_id:e?null:t.getId()})},n.getBoard=function(){return this.get("board")},n.getDocId=function(){return this.get("doc_id")},n.getBoardId=function(){return this.get("board_id")||this.getBoard()&&this.getBoard().id},n.getBoardSlug=function(){var t=this.getBoard();return t&&t.getSlug()},n.getBoardTitle=function(){var t=this.getBoard();return t&&t.getTitle()},n.setContent=function(t){this.set("content",t)},n.getContent=function(){return this.get("content")},n.setDescription=function(t){this.set("description",t)},n.getDescription=function(){return this.get("description")||""},n.getLocation=function(){return this.get("location")},n.setSourceMeta=function(t){this.set("source_meta",t)},n.getSourceMeta=function(){return this.get("source_meta")},n.getSourceMetaJSON=function(){var t=this.getSourceMeta();return Object(l.omit)(t,"search")},n.getSourceMetaPageUrl=function(){var t=this.getSourceMeta();return t&&t.page_url},n.getSourceMetaDomainDecoded=function(){var t=this.getSourceMeta();return t&&t.page_domain_decoded},n.getParent=function(){return this.get("parent")},n.setImageMeta=function(t){this.set("image_meta",t)},n.getImageMeta=function(){return this.get("image_meta")},n.getVideoMeta=function(){var t=this.getFirstContent();return t&&t.getVideoMeta()},n.getThumbUrl=function(){return this.get("thumb_url")},n.getSourceUrl=function(){return this.get("source_url")},n.getTaskId=function(){return this.get("task_id")},n.setTaskId=function(t){return this.set("task_id",t)},n.shouldAddByFav=function(){return this.get("use_favorites")},n.isLoadedByUser=function(){var t=this.getSourceMetaPageUrl(),e=this.getParent();return!Boolean(t)&&!e},n.setIsLiked=function(t){this.set("is_liked",t)},n.isLiked=function(){return this.get("is_liked")},n.getLastComment=function(){return this.get("last_comment")},n.setIsPrivate=function(t){this.set("is_private",t)},n.isPrivate=function(){return this.get("is_private")},n.isSeries=function(){return this.getContentSize()>1},n.isVideo=function(){var t=this.getFirstContent();return t&&t.isVideo()},n.isEmbedVideo=function(){var t=this.getFirstContent();return Boolean(t&&t.getSource().getEmbedURL())},n.isSeriesDisabled=function(){var t=this.getFirstContent(),e=t&&t.getSourceType(),n=this.isVideo()&&!this.isEmbedVideo(),r=e&&-1!==st.indexOf(e);return Boolean(n||r)},n.isWebSearchSource=function(){var t=this.getFirstContent(),e=t&&t.getSourceType();return Boolean(e&&-1!==st.indexOf(e))},n.isAnimated=function(){var t=this.getFirstContent();return t&&t.isAnimated()},n.isReadonly=function(){return Boolean(this.get("readonly"))},n.getContentSize=function(){return this.getContent().length},n.getImageInfo=function(t){var e=this.getContent()&&this.getContent().getFirstImageInfo(t);return e&&e.width&&e.height?e:a()({},e,C.a.getDefaultImageInfo())},n.getFirstImageURL=function(t){return this.getContent().getFirstImageURL(t)},n.getFirstSourceImageURL=function(){var t=this.getFirstContent();return t?t.getSource().getUrl():""},n.getFirstContent=function(){var t=this.getContent();if(t&&t.size())return t.first()},n.getImage=function(){var t=this;if(!this.get("image")){var e=Q.a.factory(this.getImageInfo());this.listenTo(e,"scale",function(e){t.set("scaleParams",e)}),this.setImage(e)}return this.get("image")},n.setImage=function(t){this.set("image",t)},n.getImageContent=function(){return this.getContent().getFirstPreviewInfo()},n.setOwner=function(t){this.set("owner",t)},n.getOwner=function(){return this.get("owner")},n.hasOwnerId=function(){return Boolean(this.get("owner_id"))},n.getOwnerLogin=function(){var t=this.getOwner();return t&&t.getLogin()},n.getOwnerDisplayName=function(){var t=this.getOwner();return t&&t.getDisplayName()},n.isOwnerVerified=function(){var t=this.getOwner();return Boolean(t&&t.isVerified())},n.setStat=function(t){this.set("stat",t)},n.getStat=function(){return this.get("stat")},n.isZeroStat=function(){return!Boolean(this.getSharesCount()||this.getLikesCount())},n.isBanned=function(){return Boolean(this.get("is_banned"))},n.getService=function(){return this.get("service")},n.getCreatingDate=function(){var t=this.getService();return t&&t.created_at},n.getClickUrl=function(){return this.get("click_url")},n.getSharesCount=function(){return this.getStat().shares_count||0},n.getCommentsCount=function(){return this.getStat().comments_count||0},n.getLikesCount=function(){return this.getStat().likes_count||0},n.incrementLikesCount=function(t){this.getStat().likes_count+=t?1:-1,this.trigger("change:stat")},n.addCommentStat=function(){this.setStat(Object.assign({},this.getStat(),{comments_count:this.getCommentsCount()+1}))},n.removeCommentStat=function(){this.getCommentsCount()>0&&this.setStat(a()({},this.getStat(),{comments_count:this.getCommentsCount()-1}))},n.addContent=function(t){this.getContent().push(t)},n.setComplaint=function(t){this.set("complaint",t)},n.getComplaint=function(){return this.get("complaint")},n.getExtensions=function(t){var e=this.extensions;return e||(e=new J(this.attributes,this),this.setExtensions(e)),t?e.setEnv(t):console.warn("Calling getExtensions without env param"),e},n.setExtensions=function(t){this.extensions=t},n.getLabels=function(){return this.get("labels")},n.setLabels=function(t){this.set("labels",t)},n.isLabelsContain=function(t){var e=this.getLabels();return!!Object(l.isArray)(e)&&-1!==e.indexOf(t)},n.getType=function(){return this.get("type")},n.getReason=function(){return this.get("reason")},n.isVirtual=function(){return v.g.VIRTUAL===this.getType()&&!this.hasOwnerId()},n.hasRestrictedOwner=function(){var t=this.getOwner();return t&&t.isRestricted()},n.getUsersLiked=function(t){return this.usersLiked||(this.usersLiked=new y([],{request:this.getRequestAdapter(),env:t})),this.usersLiked},n.getUsersShared=function(){return this.usersShared||(this.usersShared=new y([],{request:this.getRequestAdapter()})),this.usersShared},n.isWishFulfilled=function(){return this.isLabelsContain(v.mb)},n.fetchCard=function(){var t=this;return this.id&&!this.getDescription()?this.fetch().then(function(){return t},function(t){throw 404===t.status?new $.f("Card not found",404,t):403===t.status?new $.f("Forbidden access to card",404,t):400===t.status?new $.f("Invalid card id",404,t):new $.b("Card loading error: "+t.message,null,t)}):Promise.resolve(this)},n._updateWithId=function(t,n){var r=n.request;return this.setRequestAdapter(r),this.id!==t?e.dataFactory({id:t},{request:r}).fetchCard().then(function(t){return t.expectFields(["board","board.id"])}):Promise.resolve(this)},n.updateCurrentCard=function(t){var n=t.event,r=n.params.id,i=n.name,o=n.isFirstRender,a=t.request,s=t.env;return i!==rt.a.CARD&&i!==rt.a.COMMENTS?e.factory({request:a}):(o&&this.id&&(r=this.id),this._updateWithId(r,{request:a}).then(function(t){if(!t.id)throw new $.f("Card not found");if(0===t.getContentSize()&&!t.isBanned())throw new $.c(t.id);return Promise.resolve(s.dispatch(Object(ot.a)({id:t.id,value:t.toViewJSON()}))).catch(function(t){return console.error(t)}).then(function(){return t})}))},n.postCard=function(){var t=this;return this.save(null,{patch:!0}).then(function(){return t})},n.getPreviewImageUrl=function(){var t=this.getFirstContent();if(t){var e=t.getSource(),n=this.getThumbUrl(),r=e.getUrl();return t.isAnimated()?r:t.isVideo()||t.isLink()?n:n||r}},n.clearContests=function(){this.unset("competitions")},n.addContest=function(t){var e=this.getContests()||[];e.push(t),this.set("competitions",e)},n.hasContests=function(){var t=this.getContests();return Boolean(t&&t.length)},n.getContests=function(){return this.get("competitions")},n.getContestPlace=function(t){var e=this.getContests();if(e){var n=e.find(function(e){return e.slug===t.id});if(n)return n.place}return 0},n.getBallot=function(){return this.get("ballot")},n.saveVote=function(t){return this.getRequestAdapter().sync("create",this,{url:"/collections/api/votes/",contentType:"application/json",data:JSON.stringify({points:Number(t),ballot:{id:this.getBallot().id}})})},n.getNewBoardThumb=function(){var t=this.getFirstContent();if(t){var e=t.getSource(),n=e&&e.getPreview(),r=e&&e.getThumbId();return n||(t.getContent()?n=Object(tt.a)(t,{hash:{size:"smart128"}}):r?Object(tt.a)(t):t.getThumbUrl())}return this.getPreviewImageUrl()},n.getShareImageUrl=function(){var t=this.getFirstContent(),e=t?Object(tt.a)(t,{hash:{size:"s1200"}}):"";return e?e+"?webp=false":e},n.getShareImageSize=function(){return this.getImageInfo({size:"s1200"})},n.isFilled=function(){return this.getBoard()&&this.getBoard().id&&this.getOwnerLogin()},n.share=function(){at.trigger("share",this)},n.getSeriesMeta=function(t){var e=t.width,n=t.scrollTop,r=t.state,i=t.gap,o=void 0===i?8:i,a=t.top,s=void 0===a?0:a,c=t.th,u=void 0===c?.3:c,l=function(t,e){return t.getFitImageInfo(e,1/0,{threshold:u})},d=this.getContent(),h=d.last(),f=d.slice(1,d.length-1);return{top:s,state:r,scrollTop:n,height:f.reduce(function(t,n){return t+l(n,e).height},0)+f.length*o,lastHeight:h?l(h,e).height:0}},n.remove=function(e){var n=this,r=this.getBoard(),i=this.getId();return t.prototype.remove.call(this,e).then(function(){return r.fetchWithThumbs()}).then(function(){var t=n.getEnv();return t?t.invokeStrategy(nt.a.CardRemoveStrategy,{cardId:i,board:r}).then(function(){return n}):n})},n.destroy=function(){},n.setRequestAdapter=function(e){e&&(t.prototype.setRequestAdapter.call(this,e),[this.getBoard(),this.getOwner()].forEach(function(t){t&&!t.getRequestAdapter()&&t.setRequestAdapter(e)}))},n.clone=function(){var e=t.prototype.clone.call(this),n=e.getContent(),r=this.extensions;return e.setContent(n.clone()),r&&e.setExtensions(r.clone(e)),e},n.toJSON=function(){var e=t.prototype.toJSON.call(this),n=this.getContent(),r=this.extensions;return n?e.content=n.toJSON():delete e.content,r&&(e=a()({},e,r.toJSON())),Object(l.omit)(e,"board","owner","stat","preview","service","image","file")},n.toViewJSON=function(){var e=t.prototype.toJSON.call(this),n=this.getOwner(),r=this.getContent(),i=this.getBoard();return e.content=r&&r.toJSON(),e.board=i&&i.toJSON(),e.owner=n&&n.toJSON(),e.stat=this.getStat(),e.service=this.getService(),e.last_comment=this.getLastComment(),e},n.getHintTarget=function(){return this.getId()},n.getShareHintText=function(){return Z.hintShare},n.getLikeHintText=function(){return Z.hintLike},n.parse=function(t){var e=this.getRequestAdapter();return t.source_meta&&t.source_meta.search?t.type=v.g.SEARCH:t.board||t.owner||(t.type=v.g.VIRTUAL),t.content instanceof S||(t.content=S.dataFactory(t.content||[],{parse:!0,request:e})),!t.board&&this.getBoard()||t.board instanceof m.a||(t.board=m.a.dataFactory(t.board,{parse:!0,request:e}),t.board&&(t.owner_id=t.board.getOwnerId())),!t.owner||t.owner instanceof g.a||(t.owner=g.a.dataFactory(t.owner,{parse:!0,request:e})),!t.labels&&this.getLabels()&&(t.labels=[]),t},e.restore=function(t){return this.dataFactory(t,{parse:!0})},e}(d.a))||Y)||Y},cYeE:function(t,e,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("NFKc"),l=n("WyUc"),d=n("RouB"),h=n("MTjZ"),f=n("kdr8"),p=n("pLEp"),g=n("/bNA"),m=n("4RqY"),v=n("rreP"),b=n("rcxC"),_=Object(m.a)(function(t,e){var n,r=e.dispatch;n=t===l.a.HIDE?b.cardHided():b.complaintSuccess(),r(Object(v.a)({message:n,removeOnScroll:!0}))}),y=n("TChA"),C=n("cX81"),O=n("qz1P"),S=n("n73F"),w=n("nSPF"),E=n("c+Ap"),k=n("gLBg"),j=n("V8C4");n.d(e,"a",function(){return R});var T={cards:function(t){return{card_id:t}},boards:function(t){return{board_id:t}},comments:function(t){return{comment_id:t}}},x={cards:C.a,comments:w.a,boards:S.a},R=Object(u.a)({request:"request",env:"env"},function(){var t=c()(i.a.mark(function t(e,n,r){var o,s,c,u,m,v,b,C,S,w,R,I,D,P,L,N;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.request,s=e.env,c=n.id,u=n.stateKey,m=n.reason,v=n.counter,b=n.sendCounter,C=void 0===b||b,S=r.getState,w=r.dispatch,"cards"===u&&C&&j.d.clickCardComplain(a()({},v,{cardId:c,reason:m})),Object(d.a)(Object(h.a)(S()))){t.next=12;break}if(R={},"cards"!==u){t.next=11;break}if(m!==l.a.HIDE){t.next=10;break}return w(_(m)),t.abrupt("return",w(Object(y.a)({id:c})));case 10:R.retpath={route:k.a.CARD,params:{id:c}};case 11:return t.abrupt("return",Object(f.b)({env:s},R));case 12:if(!(I=S().entities[u])){t.next=17;break}if(!(D=I[c])||!D.complaint){t.next=17;break}return t.abrupt("return");case 17:return P=a()({},T[u](c),{reason:m}),t.prev=18,t.next=21,o.post("/collections/api/complain/",P);case 21:L=t.sent,w(Object(p.a)({id:c,storeKey:u,value:{complaint:{reason:m}}})),(N=x[u])&&N.dataFactory({id:c},{}).setComplaint(new O.a(L)),"cards"===u&&(w(Object(y.a)({id:c})),w(_(m))),t.next=34;break;case 28:if(t.prev=28,t.t0=t.catch(18),t.t0.status!==E.G.DUPLICATE){t.next=32;break}return t.abrupt("return");case 32:throw g.a.showXHRMessage(t.t0),t.t0;case 34:case"end":return t.stop()}},t,this,[[18,28]])}));return function(){return t.apply(this,arguments)}}())},d6BX:function(t,e,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),o=n("9TW5").e,a=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;t.exports=r({onboardDoneHintTitle:"Ваша стрічка готова",onboardDoneHintText:"Продовжуйте підписуватися на цікаві теми, користувачів та їх колекції, щоб урізноманітнити стрічку",saveAlertHintText:{v:'<span class="hint__link">Увійдіть</span>, щоб не втратити підписки',r:function(t){return i.createElement(i.Fragment,null,i.createElement("span",{className:"hint__link"},"Увійдіть"),", щоб не втратити підписки")},h:function(t){return(this.isRestored?c:s)([(this.isRestored?a:o)("span","",{class:"hint__link"},["Увійдіть"],{view:this}),", щоб не втратити підписки"])}},saveAlertLikesHintText:{v:'<span class="hint__link">Увійдіть</span>, щоб переглядати свою стрічку з різних пристроїв',r:function(t){return i.createElement(i.Fragment,null,i.createElement("span",{className:"hint__link"},"Увійдіть"),", щоб переглядати свою стрічку з різних пристроїв")},h:function(t){return(this.isRestored?c:s)([(this.isRestored?a:o)("span","",{class:"hint__link"},["Увійдіть"],{view:this}),", щоб переглядати свою стрічку з різних пристроїв"])}},saveAlertCardsHintText:{v:'<span class="hint__link">Увійдіть</span>, щоб не втратити вибране',r:function(t){return i.createElement(i.Fragment,null,i.createElement("span",{className:"hint__link"},"Увійдіть"),", щоб не втратити вибране")},h:function(t){return(this.isRestored?c:s)([(this.isRestored?a:o)("span","",{class:"hint__link"},["Увійдіть"],{view:this}),", щоб не втратити вибране"])}},sidebarHintResultsTitle:"Позначте зображення, які сподобалися",sidebarHintResultsText:"Ці зображення та відео потраплять до вашої колекції — їх можна буде швидко відкрити на будь-якому пристрої",sidebarHintBoardsTitle:"Де зберегти зображення?",sidebarHintBoardsText:"Виберіть потрібну колекцію або створіть нову",sidebarHintBoardsUnauthText:"Щоб не втратити збережені картки, потрібно авторизуватися у Яндексі",ctrlLogin:"Увійти"})},dDwQ:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({wishDo:"До актуальних",wishDone:"Виконано",wishMove:"До виконаних",wishDoneLong:"Бажання виконане",wishMoveLong:"Позначити як виконане"})},dEsh:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("pzCj");function i(t){return Boolean(Object(r.a)(t))}},dJh7:function(t,e){t.exports=function(t){navigator.serviceWorker&&navigator.serviceWorker.register("/collections/sw-desktop.js",{scope:"/collections/"}).then(t)}},"dNc+":function(t,e,n){"use strict";var r=n("pVnL"),i=n.n(r),o={},a=new WeakSet;function s(t,e,n,r){void 0===r&&(r=!1);var i=function(e,n,i){if(!n&&!r)return{entities:e,obj:n};if(a.has(n))return{entities:e,obj:n};var o=t(e,n,i);return"object"==typeof n&&null!==n&&a.add(n),o};return i.denormalize=e,i.parse=n,i}function c(t){return s(function(e,n){return Object.keys(t).reduce(function(e,n){if(e.obj[n]){var r,o=t[n](e.entities,e.obj[n]);return o.obj===e.obj[n]?{entities:o.entities,obj:e.obj}:{entities:o.entities,obj:i()({},e.obj,(r={},r[n]=o.obj,r))}}return e},{entities:e,obj:n})},function(e,n){return n?Object.keys(t).reduce(function(n,r){var o;return n[r]?i()({},n,((o={})[r]=t[r].denormalize(e,n[r]),o)):n},n):n},function(e){return e?Object.keys(t).reduce(function(e,n){var r;return e[n]?i()({},e,((r={})[n]=t[n].parse(e[n]),r)):e},e):e})}function u(t,e,n,r){var o;return e&&(o=c(e)),s(function(e,n,a){if(o){var s=o(e,n);e=s.entities,n=s.obj}var c=Object.keys(n).length;if(n.id&&(c>1||r)){var u,l,d=a&&a.replace?{}:e[t]&&e[t][n.id];e=i()({},e,((l={})[t]=i()({},e[t],((u={})[n.id]=i()({},d,n),u)),l));var h={id:n.id};n.entity_type&&(h.entity_type=n.entity_type),n._url&&(h._ver=n._ver,h._url=n._url,h._query=n._query),n=h}return{entities:e,obj:n}},function(e,n){return n.id&&(n=e[t][n.id]),o?i()({},n,o.denormalize(e,n)):n},function(t){var e=o?o.parse(t):t;return n?n(e):e})}function l(t,e){return void 0===e&&(e={}),s(function(n,r){if(r.results){var a=!1,s={},c=r._filters,u=r.results.reduce(function(r,u){var l=t(n,u),d=!1,h=!0;l.obj!==u&&(a=!0);var f=l.obj&&l.obj.id;if(e.uniqueOnly&&f&&!s[f]&&(s[f]=!0,d=!0),e.needFilter){var p=function(t,e){if(void 0===e&&(e=o),!t.filters||!t.filters.length)return{filters:e,shouldBeIncluded:!0};var n=!1;return{filters:t.filters.reduce(function(t,e){var r;return n=n||t[e],i()({},t,((r={})[e]=!0,r))},e),shouldBeIncluded:!n}}(u,c);c=p.filters,h=p.shouldBeIncluded}return!h||e.uniqueOnly&&!d||r.push(l.obj),n=l.entities,r},[]);(a||u.length!==r.results.length)&&(r=i()({},r,{results:u},e.needFilter?{_filters:c}:void 0))}return{obj:r,entities:n}},function(e,n){return n.results?i()({},n,{results:n.results.map(function(n){return t.denormalize(e,n)})}):n},function(e){return e.results?i()({},e,{results:e.results.map(function(e){return t.parse(e)})}):e})}function d(t){return l(s(function(e,n){return n.entity_type&&t[n.entity_type]?t[n.entity_type](e,n):{entities:e,obj:n}},function(e,n){return n.entity_type&&t[n.entity_type]?t[n.entity_type].denormalize(e,n):n},function(e){return e.entity_type&&t[e.entity_type]?t[e.entity_type].parse(e):e}))}n.d(e,"i",function(){return v}),n.d(e,"a",function(){return y}),n.d(e,"b",function(){return S}),n.d(e,"e",function(){return j}),n.d(e,"c",function(){return T}),n.d(e,"d",function(){return R}),n.d(e,"h",function(){return L}),n.d(e,"f",function(){return B}),n.d(e,"g",function(){return M});var h,f,p,g,m,v=u("users",void 0,function(t){return i()({id:t.login},t)}),b=l(v),_=u("boards",{owner:v}),y=u("boards",{owner:v,parent:_},function(t){var e=t.owner&&(t.owner.uid||t.owner.login);return i()({id:t.slug+"/"+(e||"-")},t)}),C=l(y),O=l(y,{needFilter:!0}),S=u("cards",{board:y,owner:v,last_comment:c({owner:v}),parent:c({owner:v})}),w=l(S),E=l(S,{uniqueOnly:!0}),k=l(S,{uniqueOnly:!0,needFilter:!0}),j=u("cards",{owner:v,board:y,last_comment:c({owner:v}),parent:c({owner:v})},function(t){return i()({},t,{id:t.id?t.id:"current-card-temp"})},!0),T=u("channels",void 0,function(t){return i()({id:t.slug},t)}),x=l(T),R=u("contests",{cards:(h=S,s(function(t,e){if(Array.isArray(e)){var n=!1,r=e.reduce(function(e,r){var i=h(t,r);return i.obj!==r&&(n=!0),e.push(i.obj),t=i.entities,e},[]);n&&(e=r)}return{obj:e,entities:t}},function(t,e){return Array.isArray(e)?e.map(function(e){return h.denormalize(t,e)}):e},function(t){return Array.isArray(t)?t.map(function(t){return h.parse(t)}):t}))}),I=l(R),D=d({card:S,board:y}),P=u("geoPoints",void 0,function(t){return{id:t._query["board.id"]||t._query["channel.slug"],type:"FeatureCollection",features:i()({},t)}}),L=u("tasks"),N=d({board:y,channel:T}),A=c({user:v,profileUser:v,card:S,currentCard:j,dailyCard:S,task:L,board:y,channel:T,contest:R,contests:I,boardCards:w,favoritesCards:w,feedCards:w,channelCards:E,verticalSearchCards:w,contestCards:w,userCards:w,searchCards:w,boardBoards:C,userBoards:C,userBoardsSidebar:C,userObjects:D,searchBoards:C,boardRecommendations:O,boardSimilar:O,cardSimilar:k,cardSimilarToCard:k,channelRelated:x,channelSpecialization:x,onboardingChannels:x,errorChannels:x,followingsUsers:b,followingsBoards:C,followingsChannels:x,followersUsers:b,boardFollowers:b,ratingUsers:b,addBoards:C,geoPoints:P,feedRecommendations:N,diyTopicCards:w,gardeningTopicCards:w,interiorsTopicCards:w,natureTopicCards:w,recipesTopicCards:w,weddingsTopicCards:w,beautyTopicCards:w,hairstylesTopicCards:w,fashionTopicCards:w,travelTopicCards:w,tattooTopicCards:w,auto_and_motoTopicCards:w,diyTopCards:w,generalTopCards:w,gardeningTopCards:w,interiorsTopCards:w,natureTopCards:w,recipesTopCards:w,weddingsTopCards:w,beautyTopCards:w,hairstylesTopCards:w,fashionTopCards:w,travelTopCards:w,tattooTopCards:w,auto_and_motoTopCards:w,diyTopBoards:C,generalTopBoards:C,gardeningTopBoards:C,interiorsTopBoards:C,natureTopBoards:C,recipesTopBoards:C,weddingsTopBoards:C,beautyTopBoards:C,hairstylesTopBoards:C,fashionTopBoards:C,travelTopBoards:C,tattooTopBoards:C,auto_and_motoTopBoards:C,diyTopUsers:b,generalTopUsers:b,gardeningTopUsers:b,interiorsTopUsers:b,natureTopUsers:b,recipesTopUsers:b,weddingsTopUsers:b,beautyTopUsers:b,hairstylesTopUsers:b,fashionTopUsers:b,travelTopUsers:b,tattooTopUsers:b,auto_and_motoTopUsers:b}),B=(f=A,p={cards$:w,users$:b,boards$:C},g=Object.keys(p),m=function(t,e){for(var n=Object.keys(t),r=0;r<n.length;r++)for(var i=n[r],o=0;o<g.length;o++){var a=g[o];i.slice(0,a.length)===a&&e(i,a)}},s(function(t,e){var n=f(t,e);return m(n.obj,function(t,e){var r,o=p[e](n.entities,n.obj[t]);o.obj!==n.obj[t]&&(n={entities:o.entities,obj:i()({},n.obj,(r={},r[t]=o.obj,r))})}),n},function(t,e){var n=f.denormalize(t,e);return m(n,function(e,r){var o;n=i()({},n,((o={})[e]=p[r].denormalize(t,n[e]),o))}),n},function(t){return f.parse(t)}));function M(t,e){var n;return B.parse(((n={})[t]=e,n))[t]}},dSKZ:function(t,e,n){"use strict";n("4DsO"),n("2apU"),n("ghMZ"),n("YAV3");var r=n("CgZM");e.a=r.a.applyDecls()},dWrs:function(t,e,n){"use strict";var r=n("uUa8");e.a=r.a.applyDecls()},dgqo:function(t,e,n){"use strict";var r=n("+Wyo");e.a=r.a.applyDecls()},dohL:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("rreP"),i=n("8kuQ"),o=n("c+Ap"),a=n("T6Rw"),s=Object(a.a)(function(t,e){var n=e.status,a=i.xhrErrorUnknown.r();return 0===n?a=i.xhrError0.r():n===o.G.NOT_FOUND?a=i.xhrError404.r():n===o.G.FORBDIDDEN?a=i.xhrError403.r():n>=500&&n<600&&(a=i.xhrError500.r()),r.a.reducer(t,{message:a})})},e9Bh:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({similarTo:"Схоже на вашу",card:"картку",fromChannel:"Із теми",recommended:"Рекомендовано для вас"})},eD6j:function(t,e,n){"use strict";n.d(e,"a",function(){return C});var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("+mVu"),c=n("oBAa"),u=n("/bNA"),l=n("7hiN"),d=n("gLBg"),h=n("TBxt"),f=n("rreP"),p=n("ujc/"),g=n("4RqY"),m=n("BKHA"),v=n("1WnH"),b=n("QodL"),_=n("JaHL"),y=n("izju"),C=Object(g.a)(function(){var t=a()(i.a.mark(function t(e,n){var r,o,a,g,C,O,S,w,E,k,j;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.cardId,o=e.isBulk,a=n.getState,g=n.dispatch,!r&&!o){t.next=27;break}if(C=a(),O=Object(m.a)(C),!r){t.next=9;break}S=Object(c.a)(Object(s.a)(C,r)),t.next=19;break;case 9:if(!O.cards){t.next=19;break}if(w=0,E=0,k=O.cards.length,O.cards.forEach(function(t){var e=Object(_.a)(C,t);e===y.a.FILM?w++:e===y.a.SERIES&&E++}),!(w>0&&w<k||E>0&&E<k)){t.next=18;break}return g(Object(v.a)(null)),g(Object(f.a)({message:p.moveCardMixTypesDisallowed()})),t.abrupt("return");case 18:S=O.cards.some(function(t){return Boolean(Object(c.a)(C,t))});case 19:if(!S){t.next=22;break}return u.a.showEditCardReadonlyMessage(),t.abrupt("return");case 22:if(!o){t.next=26;break}return t.abrupt("return",g(Object(v.a)({type:b.a.BOARDS_LIST_SHORT,id:"boards-list_short",animationType:"modal",spinnerType:"modal",options:{uiKey:"addFlow"}})));case 26:r&&((j=C.env)&&(j.isMultiMordaApp||j.isYandexRecent)?Object(l.a)(Object(d.q)({cardid:r,autoclose:"yes"}),j):g(Object(h.a)({id:r})));case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},"eJ/D":function(t,e){var n=["ms","moz","webkit","o"];if("undefined"!=typeof window){for(var r=0;r<n.length&&!window.requestAnimationFrame;r++)window.requestAnimationFrame=window[n[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[r]+"CancelAnimationFrame"]||window[n[r]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame){var i=0;window.requestAnimationFrame=function(t){var e=Date.now(),n=Math.max(0,16-(e-i)),r=window.setTimeout(function(){t(e+n)},n);return i=e+n,r}}window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}},eTvZ:function(t,e,n){"use strict";function r(t,e){var n=e.tag,r=void 0===n?"":n,i=e.attribute,o=new RegExp(i+"=(?:\"|')(.*?)(?:\"|'|\\s)"),a=new RegExp("<"+r+"[^>]*"+i+"=(?:\"|')(.*?)(?:\"|'|\\s)[^>]*>","g");return(t.match(a)||[]).reduce(function(t,e){var n=e.match(o);if(n&&n.length){var r=n[0].slice(i.length+2,-1);return[].concat(t,[r])}return t},[])}n.d(e,"a",function(){return r})},eaCv:function(t,e,n){"use strict";function r(t){return t&&t.event&&t.event.origRoute}n.d(e,"a",function(){return r})},ecXe:function(t,e,n){t.exports=n.p+"f/dafa.svg"},ej5N:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("i1uP"),i=n("3lXt"),o=n("Qtgv"),a=Object(r.a)(i.a,o.a)},eqMx:function(t,e,n){"use strict";function r(t){var e=t.data.view;if(e)return Boolean(e.getEnv().currentUser.isAuthorized());throw new Error("Cannot find view context")}n.d(e,"a",function(){return r})},euOF:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("rANK"),i=n("iurk");function o(t,e){return Boolean(Object(r.a)(t,e)&&!Object(i.a)(t,e)&&-1!==e.indexOf("/"))}},f8gw:function(t,e,n){"use strict";var r=n("cDcd"),i=n("JxqJ"),o=n("om3R"),a=n("rT8E"),s=n("lpMR"),c=n("GGxO"),u=n("cW8/"),l=n("lc+m"),d=n("vB0I"),h=Object(d.a)("cardId",l.a),f=Object(u.a)({card:h}),p=n("izju"),g=n("pVnL"),m=n.n(g),v=n("6ga4"),b=function(t){var e,n=t.mod,i=t.mods,o=t.title,a=t.desc,s=t.children,c=t.linkFactory;return r.createElement("div",{className:Object(v.a)("teaser-extension",m()((e={},e[n]=Boolean(n),e),i))},c&&c({className:"teaser-extension__link",withoutTitle:!0}),o&&r.createElement("h3",{className:"teaser-extension__title"},o),a&&r.createElement("p",{className:"teaser-extension__desc"},a),s)},_=n("YQQ1"),y=function(t){var e=t.cardId,n=t.storeKey,i=t.link,o=t.wrapper,a=r.createElement(b,m()({},t,{linkFactory:i?function(t){return r.createElement(_.a,m()({cardId:e,storeKey:n},t))}:void 0}));return Boolean(o)?r.createElement("div",{className:"string"==typeof o?o:"cl-teaser__extension"},a):a},C=Object(i.a)(f)(function(t){var e=t.card,n=t.storeKey,i=t.wrapper,a=Object(o.a)(e),s=function(t){if(t&&t.source&&t.source.entity)return t.source.entity.title}(a),c=function(t){if(t&&t.source&&t.source.entity)return t.source.entity.hint_description}(a);return a&&e&&(s||c)?r.createElement(y,{mods:{"card-teaser":!0},cardId:e.id,storeKey:n,link:!1,wrapper:i,title:s,desc:c}):null}),O=n("2a6Q"),S=n("IonQ"),w=Object(i.a)(function(t,e){var n=e.cardId,r=Object(S.a)(t,n);return{card:Object(l.a)(t,n),domain:Object(O.a)(t,n),text:r&&r.title}})(function(t){var e=t.card,n=t.storeKey,i=t.wrapper,o=t.domain,a=t.text;return e?r.createElement(y,{mod:"card-teaser",cardId:e.id,storeKey:n,link:!1,wrapper:i,title:a,desc:o}):null}),E=n("RoKP"),k=Object(i.a)(f)(function(t){var e,n=t.card,i=t.storeKey,o=t.wrapper;return n?r.createElement(y,{mods:{"card-teaser":!0},cardId:n.id,storeKey:i,link:!1,wrapper:o,title:Object(E.a)(n.market),desc:(e=n.market,e&&e.description)}):null}),j=n("Jtf9"),T=n("gdZZ"),x=n("4N1o"),R=n("KXxY");function I(t){if(t&&t.object_answer){var e=t.object_answer.type;return e===j.a.GAME?function(t){if(t&&t.object_answer)return t.object_answer.title}(t):e===j.a.GEO?function(t){if(t&&t.object_answer)return t.object_answer.title}(t):void 0}}var D=n("Y6Ru"),P=Object(i.a)(f)(function(t){var e=t.card,n=t.storeKey,i=t.wrapper;if(!e)return null;var o=e.object_answer.data,a=o.genres,s=o.release,c=o.platforms,u=[];return a&&u.push(function(t){if(t&&t.object_answer&&t.object_answer.data){var e=t.object_answer.data.genres;return e&&e.length?Object(x.a)(e):R.defaultGameGenre()}}(e)),s&&s.year&&u.push(String(s.year)),c&&u.push(function(t){return Object(D.a)(t).join(", ")}(c)),r.createElement(y,{mods:{"card-teaser":!0},cardId:e.id,storeKey:n,link:!1,wrapper:i,title:I(e)},u&&r.createElement("ul",{className:Object(v.a)("dot-list",{size:"M","teaser-extension":!0})},u.map(function(t,e){return r.createElement("li",{className:"dot-list__item",key:e},r.createElement("span",{className:"dot-list__text"},t))})))}),L=Object(i.a)(f)(function(t){var e=t.card,n=t.storeKey,i=t.wrapper;if(!e)return null;var o=e.object_answer.data,a=o.subtitle,s=o.description;return r.createElement(y,{mods:{"card-teaser":!0},cardId:e.id,storeKey:n,link:!1,wrapper:i,title:I(e),desc:a||s})}),N=Object(i.a)(f)(function(t){var e=t.card,n=t.storeKey,i=t.wrapper;return e&&e.object_answer?(e.object_answer.type,function(t){return!(!t||!t.object_answer)&&t.object_answer.type===j.a.GAME}(e)?r.createElement(P,{cardId:e.id,storeKey:n,wrapper:i}):Object(T.a)(e)?r.createElement(L,{cardId:e.id,storeKey:n,wrapper:i}):null):null}),A=n("Ff+0");function B(t){if(t&&t.categories&&t.categories.length)return t.categories.map(A.a).join(", ")}function M(t){if(t&&t.organization)return t.organization.name}var F=Object(i.a)(f)(function(t){var e=t.card,n=t.storeKey,i=t.wrapper;if(!e)return null;var o=e.organization;return r.createElement(y,{mods:{"card-teaser":!0},cardId:e.id,storeKey:n,link:!1,wrapper:i,title:M(e),desc:B(o)})}),U=n("/ERR");function z(t){if(t&&t.recipe)return t.recipe.name}var V=n("Q6yW"),H=n("vwg6"),W=Object(i.a)(function(t,e){var n=e.cardId;return{card:Object(l.a)(t,n),domain:Object(O.a)(t,n),pageUrl:Object(V.a)(t,n)}})(function(t){var e=t.card,n=t.storeKey,i=t.wrapper,o=t.domain,a=t.pageUrl;if(!e)return null;var s=function(t){if(t&&t.recipe)return Object(U.b)(t.recipe.cooking_time,"minutes")}(e),c=function(t){if(t&&t.recipe){var e=t.recipe,n=e.servings,r=e.range_servings;return n?Number(String(n).replace(/\D/g,"")):r?String(r).split("-").map(Number):void 0}}(e),u=function(t){if(t&&t.recipe)return t.recipe.ingredients}(e),l=[];return s&&l.push(s),"object"==typeof c?l.push(H.servingsRangeCount({count0:c[0],count:c[1]})):c&&l.push(H.servingsCount({count:c})),u&&u.length>0&&l.push(H.ingredientsCount({count:u.length})),r.createElement(y,{mods:{"card-teaser":!0},cardId:e.id,storeKey:n,link:!1,wrapper:i,title:z(e)},o&&a&&r.createElement("ul",{className:Object(v.a)("dot-list",{size:"M","teaser-extension":!0})},o&&a&&r.createElement("li",{className:"dot-list__item"},r.createElement("span",{className:"dot-list__text"},o)),l.map(function(t,e){return r.createElement("li",{className:"dot-list__item",key:e},r.createElement("span",{className:"dot-list__text"},t))})))}),q=n("7z6F"),K=n("WiFc"),G=Object(i.a)(function(t,e){var n=e.cardId;return{card:Object(l.a)(t,n),title:Object(K.a)(t,n)||Object(q.a)(t,n)}})(function(t){var e=t.card,n=t.title,i=t.storeKey,o=t.wrapper;return e&&n?r.createElement(y,{mods:{"card-teaser":!0},cardId:e.id,storeKey:i,link:!1,wrapper:o,title:n}):null});n.d(e,"a",function(){return Y});var Y=Object(i.a)(f)(function(t){var e=t.card,n=t.storeKey,i=t.wrapper,u=Object(o.a)(e);if(!u||!e)return null;var l=e.market,d=e.object_answer,h=e.organization,f=e.recipe,g=Object(a.a)(u),m=Object(s.a)(u),v=Object(c.a)(g),b=g===p.a.LINK;return l?r.createElement(k,{cardId:e.id,storeKey:n,wrapper:i}):d?r.createElement(N,{cardId:e.id,storeKey:n,wrapper:i}):h?r.createElement(F,{cardId:e.id,storeKey:n,wrapper:i}):f?r.createElement(W,{cardId:e.id,storeKey:n,wrapper:i}):m?r.createElement(G,{cardId:e.id,storeKey:n,wrapper:i}):v?r.createElement(C,{cardId:e.id,storeKey:n,wrapper:i}):b?r.createElement(w,{cardId:e.id,storeKey:n,wrapper:i}):null})},fFoT:function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("JxqJ"),s=n("tWT4"),c=n("8KBr"),u=n("2T02"),l=n("jGRQ"),d=n("6muZ"),h=n("OyHf"),f=n("BXUJ"),p=n("prdO"),g=Object(a.a)(u.a)(function(t){var e=t.size,n=void 0===e?"M":e,r=t.insertHref,a=void 0===r||r,u=t.verified,g=void 0===u||u,m=t.user,v=Object(c.a)(m)||"",b=g&&Object(f.a)(m),_=m?Object(s.a)(m):Object(h.c)(),y=i()({},t,{size:n,avatarUrl:_,isVerified:b,displayName:v,verifiedTitle:p.userVerified()});return a&&(y.wrapper=function(t){return o.createElement(l.a,i()({userId:m&&m.id,className:"avatar__link"},t))}),o.createElement(d.a,y)})},fJ38:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({steam:"Steam",metacritic:"Metacritic",gplay:"Google Play"})},faye:function(t,e){t.exports=ReactDOM},feaw:function(t,e,n){"use strict";function r(t,e){if(void 0===e&&(e="16x9"),t.teaser_data){var n=t.teaser_data[e];return 0!==n.parts_count?n:void 0}}n.d(e,"a",function(){return r})},g5xR:function(t,e,n){t.exports=n.p+"f/8f16.gif"},gC8Q:function(t,e,n){"use strict";var r=n("r7Cx"),i=n("6ga4"),o=n("9TW5");e.a=function(t){var e=this&&this.isRestored,n=e?o.ar:o.a;return(e?o.fr:o.f)([n(r.a,Object(o.assign)(t,{class:Object(i.b)("button",{hash:{close:!0,modal:!0,modal_close:!0}}),icon:!0,"icon-only":!0,type:"clear"}),this)])}},gF9f:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("pVnL"),i=n.n(r),o=n("T6Rw"),a=Object(o.a)(function(t,e){return i()({},t,e)})},gHHl:function(t,e,n){"use strict";function r(t){return t&&"iOS"===t.OSFamily}n.d(e,"a",function(){return r})},gLBg:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"m",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"r",function(){return s}),n.d(e,"o",function(){return c}),n.d(e,"p",function(){return u}),n.d(e,"u",function(){return l}),n.d(e,"t",function(){return d}),n.d(e,"v",function(){return h}),n.d(e,"s",function(){return f}),n.d(e,"b",function(){return p}),n.d(e,"d",function(){return g}),n.d(e,"c",function(){return m}),n.d(e,"f",function(){return v}),n.d(e,"x",function(){return b}),n.d(e,"h",function(){return _}),n.d(e,"g",function(){return y}),n.d(e,"i",function(){return C}),n.d(e,"q",function(){return O}),n.d(e,"j",function(){return S}),n.d(e,"l",function(){return w});var r=n("3q8J");n.d(e,"k",function(){return r.b}),n.d(e,"n",function(){return r.c}),n.d(e,"w",function(){return r.e});var i=function(t,e){return t[t[e="HOME"]="home"]=e,t[t[e="FEED"]="feed"]=e,t[t[e="THE_FEED"]="theFeed"]=e,t[t[e="PROFILE_FEED"]="profileFeed"]=e,t[t[e="MAIN"]="main"]=e,t[t[e="CHANNEL"]="channel"]=e,t[t[e="GEO_CHANNEL"]="geoChannel"]=e,t[t[e="CARD"]="card"]=e,t[t[e="COMMENTS"]="comments"]=e,t[t[e="BOARD"]="board"]=e,t[t[e="BOARD_BOOKMARKS_SYNC"]="boardBookmarksSync"]=e,t[t[e="GEO_BOARD"]="geoBoard"]=e,t[t[e="BOARD_FOLLOWERS"]="boardFollowers"]=e,t[t[e="PROFILE"]="profile"]=e,t[t[e="MY_PROFILE"]="myProfile"]=e,t[t[e="CARDS"]="cards"]=e,t[t[e="FOLLOWINGS_USERS"]="followingsUsers"]=e,t[t[e="FOLLOWINGS_BOARDS"]="followingsBoards"]=e,t[t[e="FOLLOWINGS_CHANNELS"]="followingsChannels"]=e,t[t[e="FOLLOWERS"]="followers"]=e,t[t[e="FAVORITES_TYPE"]="favoritesType"]=e,t[t[e="VERTICAL_FEED"]="verticalFeed"]=e,t[t[e="VERTICAL_SEARCH"]="verticalSearch"]=e,t[t[e="CONTESTS"]="contests"]=e,t[t[e="CONTEST"]="contest"]=e,t[t[e="DAILY_PHOTO"]="dailyPhoto"]=e,t[t[e="RATING_USERS"]="ratingUsers"]=e,t[t[e="RATING_ABOUT"]="ratingAbout"]=e,t[t[e="SHARE"]="share"]=e,t[t[e="ADD_FLOW"]="addFlow"]=e,t[t[e="SEARCH"]="search"]=e,t[t[e="SEARCH_BOARDS"]="searchBoards"]=e,t[t[e="UNDERSIDE"]="underside"]=e,t[t[e="IMAGES_TOUCH"]="imagesTouch"]=e,t[t[e="IMAGES_DESKTOP"]="imagesDesktop"]=e,t[t[e="VERIFICATION_BY_NUMBER"]="verificationByNumber"]=e,t[t[e="APP_RECENT"]="appRecent"]=e,t[t[e="APP_FEED"]="appFeed"]=e,t[t[e="APP_THE_FEED"]="appTheFeed"]=e,t[t[e="BRO_FEED"]="broFeed"]=e,t[t[e="ADD_FLOW_BRO"]="addFlowBro"]=e,t[t[e="BRO_THE_FEED"]="broTheFeed"]=e,t[t[e="BRO_RECENT"]="broRecent"]=e,t[t[e="OFFLINE"]="offline"]=e,t[t[e="NOT_FOUND"]="errorNotFound"]=e,t}({});function o(t){return Object(r.d)("/",t)}function a(t,e){return Object(r.d)("/card/"+encodeURIComponent(t)+"/",e)}function s(t){return Object(r.e)(t)+"_cards/"}function c(){return Object(r.d)("/rating/about/")}function u(t){return Object(r.d)("/rating/users/")+Object(r.a)(t)}function l(t){return Object(r.e)(t)+"_followings/channels/"}function d(t){return Object(r.e)(t)+"_followings/boards/"}function h(t){return Object(r.e)(t)+"_followings/"}function f(t){return Object(r.e)(t)+"_followers/"}function p(t){return Object(r.e)(t)+"_bookmarks-sync/"}function g(t,e,n){return Object(r.e)(t)+encodeURIComponent(e)+"/"+Object(r.a)(n)}function m(t,e){return g(t,e)+"_followers/"}function v(t,e){return Object(r.d)("/channel/"+encodeURIComponent(t)+"/",e)}function b(t,e){return Object(r.d)("/"+encodeURIComponent(t)+"/",e)}function _(){return Object(r.d)("/contests/")}function y(t){return Object(r.d)("/contest/"+encodeURIComponent(t)+"/")}function C(){return Object(r.d)("/contest/photo-of-the-day/")}function O(t){return Object(r.d)("/share/",t)}function S(t,e){return Object(r.d)("/favorites-"+encodeURIComponent(t)+"/",e)}function w(t){return e=t,"/images/search"+Object(r.a)(e);var e}},gQdx:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("K5nR"),i=n("dNc+"),o=n("3lXt"),a=Object(r.a)({normalizer:i.a,getEntity:o.a})},gdZZ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("Jtf9");function i(t){return!(!t||!t.object_answer)&&t.object_answer.type===r.a.GEO}},ggah:function(t,e,n){"use strict";function r(){return function(t){var e=t.prototype;e.onRender,e.destroy}}n.d(e,"a",function(){return r})},gh0E:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("rdt4");function i(t){if(!t)return"";var e=new Date,n=new r.a(t),i=e.getFullYear()!==n.getDate().getFullYear()?"D MMMM YYYY":"D MMMM";return n.format(i)}},gl2N:function(t,e,n){"use strict";var r=n("VbXa"),i=n.n(r),o=n("SiKM"),a=n("Iv6v"),s=n("mdRN"),c=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.setUrl=function(t){this.set("url",t)},n.getUrl=function(){return this.get("url")},n.getUrls=function(){return this.get("urls")},n.getThumbId=function(){return this.get("thumb_id")},n.getPreview=function(){return this.get("preview")},n.setTitle=function(t){this.set("title",t)},n.getTitle=function(){return this.get("title")},n.getSourceUrl=function(){return this.get("sourceUrl")},n.getHosting=function(){return this.get("hosting")},n.isYouTube=function(){return"youtube"===this.getHosting()},n.isDataImage=function(){var t=this.getUrl();return Boolean(t&&String(t).match(/^data/))},n.getEmbedURL=function(){if(this.isYouTube())return"https://www.youtube.com/embed/"+this.id},n.getMetadata=function(){return this.get("metadata")||{}},n.getDuration=function(){return this.getMetadata().duration||0},n.getQuality=function(){return this.getMetadata().definition||""},n.isHD=function(){return"hd"===this.getQuality()},n.getPlayerId=function(){return(this.get("player")||{}).id},n.getPlayerHTML=function(){return(this.get("player")||{}).html},n.toJSON=function(){var e=t.prototype.toJSON.call(this);return this.isDataImage()&&(e.url="data:image"),e},e}(a.a);Object(s.a)({defaults:{alt:"",title:"",url:""}})(c);var u,l=n("K9S7"),d=n("YAwY"),h=n("82Qi"),f=n("c+Ap"),p=n("6f8s"),g=n("6EC7"),m=n("izju");n.d(e,"a",function(){return _});var v="orig",b=/\.gif$/i,_=Object(l.a)()(u=Object(s.a)({defaults:{source_type:m.a.IMAGE},url:"/collections/api/content/"})(u=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.getSource=function(){return this.get("source")},n.getSourceType=function(){return this.get("source_type")},n.getContent=function(){return this.get("content")},n.setContent=function(t){this.set("content",t)},n.getOrigSize=function(){return this.getImageInfo({size:v})},n.clearContent=function(){var t=this.getSource();t&&t.setUrl(""),this.setContent(null),this.setId(void 0),this.trigger("clear")},n.getImageInfo=function(t){var n=void 0===t?{}:t,r=n.size,i=void 0===r?"preview":r,o=n.multiply,a=void 0===o?1:o,s=this.getContent();if(i=this.normalizeSize({size:i}),s&&s.sizes){var c=s.sizes;if(c[i]&&c[i].width&&c[i].height)return{width:c[i].width*a,height:c[i].height*a};if(c[v])return Object(g.b)(i,c[v],a)}var u=this.getSource();if(u){var l=u.toJSON();if(l&&l.thumb_width&&l.thumb_height)return{width:Number(l.thumb_width),height:Number(l.thumb_height)}}return e.getDefaultImageInfo()},n.setFallbackUrl=function(t){this.set("_fallbackUrl",t)},n.getFallbackUrl=function(){return this.get("_fallbackUrl")},n.setThumbUrl=function(t){this.set("_thumbUrl",t)},n.getThumbUrl=function(){return this.get("_thumbUrl")},n.getFitImageInfo=function(t,e,n){void 0===n&&(n={});var r=n.size?this.getImageInfo({size:n.size}):this.getOrigSize();return Object(p.a)(t,e,r.width,r.height,n.threshold)},n.getBestSize=function(t){var e=t.width,n=t.pixelRatio,r=t.env,i=t.allowOrig,o=void 0===i||i;return this.isAnimated()&&o?v:Object(h.a)({width:e,pixelRatio:n,env:r})},n.getImageURL=function(t){var e=t.forceProd,n=t.size,r=this.getContent(),i=this.getSource();return r?Object(d.a)(r,{size:this.normalizeSize({size:n}),forceProd:e}):i&&i.getThumbId()?this.getImageIndexUrl(i):Object(d.a)(this.toJSON(),{size:this.normalizeSize({size:n}),forceProd:e})},n.getImageIndexUrl=function(t){var e=t.getUrls();return e?e[0]:""},n.normalizeSize=function(t){var e=t.size;return"preview"===e?this.isAnimated()?v:"preview846":f.O[e]||e},n.isAnimated=function(){var t=this.getContent(),e=this.getSource(),n=t&&t.avatars_meta;return n?Boolean("image/gif"===n.orig_format):Boolean(e)&&b.test(e.getUrl())},n.isVideo=function(){return this.getSourceType()===m.a.VIDEO},n.isLink=function(){return this.getSourceType()===m.a.LINK},n.getVideoMeta=function(){return this.get("metadata")},n.parse=function(t){var e=this.getSource(),n=e?e.toViewJSON():{};return t.source instanceof c||(t.source=c.dataFactory(Object.assign(n,t.source))),t.source&&t.source.getPlayerHTML()&&(t.source_type=m.a.VIDEO),t},n.toJSON=function(){var e=t.prototype.toJSON.call(this),n=this.getSource();return n&&(e.source=n.toJSON()),Object(o.omit)(e,"_fallbackUrl","_thumbUrl","file")},e.getDefaultImageInfo=function(){return{width:f.v.WIDTH,height:f.v.HEIGHT}},e.restore=function(t){return this.dataFactory(t,{parse:!0})},e}(a.a))||u)||u},gyQa:function(t,e,n){"use strict";function r(t){if(t&&t.source)return t.source.metadata}n.d(e,"a",function(){return r})},h3n8:function(t,e,n){"use strict";var r=1e3,i=10;function o(t,e){return t?e?function(t,e){if(void 0===e&&(e=0),!t||t<r)return t;var n=Math.pow(i,e);return Math.floor(t*n/r)/n+"K"}(t):t:""}n.d(e,"a",function(){return o})},hA21:function(t,e,n){t.exports=n.p+"f/5e36.gif"},hCJZ:function(t,e,n){t.exports=n.p+"f/6952.jpg"},hDfK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("/Epz"),i=n("Wopx"),o=n("y6Xm"),a=Object(r.a)(i.a,Object(o.a)("isYandexApp",!1))},hDul:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("tWT4");function i(t,e){return Object(r.a)(t,e&&e.hash)}},hKrz:function(t,e,n){"use strict";var r=n("SiKM"),i=n("VbXa"),o=n.n(i),a=n("mdRN"),s=function(t){function e(){return t.apply(this,arguments)||this}return o()(e,t),e}(n("1H70").a);Object(a.a)({url:"/collections/api/subscriptions/"})(s);var c=n("/bNA");n.d(e,"a",function(){return l});var u={isSubscribed:function(){return this.get("is_subscribed")},setIsSubscribed:function(t){this.set("is_subscribed",t)},addSubscription:function(){var t=this;return this.isSubscribed()?Promise.reject(new Error("User already subscribed")):this.sync("create",this,{url:"/collections/api/subscriptions/",method:"POST",contentType:"application/json",data:JSON.stringify(this.toSubscriptionJSON()),dataType:"text"}).then(function(){return t.setIsSubscribed(!0)})},removeSubscription:function(){var t=this;return this.isSubscribed()?this.sync("delete",this,{url:"/collections/api/subscriptions/",method:"DELETE",contentType:"application/json",data:JSON.stringify(this.toSubscriptionJSON()),dataType:"text"}).then(function(){return t.setIsSubscribed(!1)}):Promise.reject(new Error("User is not subscribed"))},toggleSubscription:function(t){var e=this;return void 0===t&&(t=this.isSubscribed()),(t?this.removeSubscription():this.addSubscription()).then(function(){return e.trigger("change:subscription"),e.fetch()},function(t){return e.fetch().then(function(){throw t},function(e){throw console.error(e),t})}).catch(c.a.createXHRErrorHandler())},onSubscriptionChange:function(){return this.fetch()},setSubscribeOptions:function(t){this._subscribtionOptions=t},getSubscribeOptions:function(){return this._subscribtionOptions||{}}};function l(){return function(t){var e=t.prototype;Object(r.forEach)(u,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}}},hMKr:function(t,e,n){"use strict";n("yHZp"),n("z1sr");var r=n("sqKG");e.a=r.a.applyDecls()},hMiQ:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({done:"У колекції",share:"До колекції"})},hPHD:function(t,e,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),o=n("9TW5").e,a=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;t.exports=r({browserText:{v:"Закладки<br>можно редактировать<br>в Яндекс.Браузере",r:function(t){return i.createElement(i.Fragment,null,"Закладки",i.createElement("br",{}),"можно редактировать",i.createElement("br",{}),"в Яндекс.Браузере")},h:function(t){var e=this.isRestored?c:s,n=this.isRestored?a:o;return e(["Закладки",n("br","",{},[],{view:this}),"можно редактировать",n("br","",{},[],{view:this}),"в Яндекс.Браузере"])}}})},hV2r:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r={};function i(t){if(!t||!t.event)return r;var e=t.event.query;if(!e)return r;var n=Object.keys(e),i=n.filter(function(t){return"_"!==t[0]});return n.length===i.length?e:i.reduce(function(t,n){return t[n]=e[n],t},{})}},hfWR:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("/Epz"),i=n("Wopx"),o=n("y6Xm"),a=Object(r.a)(i.a,Object(o.a)("origin","https://yandex.ru"))},hqMG:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("pVnL"),i=n.n(r),o=n("T6Rw"),a=n("xhsZ"),s=n("q/UM"),c=Object(o.a)(function(t,e){var n,r,o=e.id,c=e.stateKey,u=e.value,l=Object(a.a)(t);return l=i()({},l,((r={})[c]=i()({},l[c],((n={})[o]=i()({},l[c]&&l[c][o],u),n)),r)),Object(s.a)(t,{entities:l})})},hyoc:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n("pVnL"),i=n.n(r),o=n("8OQS"),a=n.n(o),s=n("cDcd"),c=n("JxqJ"),u=n("l61k"),l=n("MMtT"),d=Object(c.b)(function(t,e){var n=t.entities,r=e.id,i=n[e.storeKey];return{entity:i&&i[r]}})(function(t,e){var n=t.iconModsChecked,r=t.subValue,o=t.id,c=t.storeKey,d=t.onSubscribe,h=t.entity,f=t.dispatch,p=a()(t,["iconModsChecked","subValue","id","storeKey","onSubscribe","entity","dispatch"]),g=e.counter;return h?s.createElement(l.a,i()({iconModsChecked:n,subValue:r,isSubscribed:h.is_subscribed,onClick:function(){f(Object(u.a)({id:o,storeKey:c,isSubscribed:!h.is_subscribed,counter:g})),d&&d()}},p)):null})},"i+Us":function(t,e,n){"use strict";var r=n("cW8/"),i=n("EgTM"),o=n("vB0I"),a=Object(o.a)("channelId",i.a);n.d(e,"a",function(){return s});var s=Object(r.a)({channel:a})},i1uP:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=2;function i(t,e){return function(){return arguments.length===r?e(t(arguments[0],arguments[1])):e(arguments[0])}}},i7uI:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("3lXt"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("stat"))},iABh:function(t,e,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),o=n("9TW5").e,a=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr,u=n("YU6D").Utils.escapeExpression;t.exports=r({userVerified:"Підтверджений користувач",banMore:"Детальна інформація",banTitle:{v:"На цю картку надійшла скарга,<br>тому подивитися її не можна",r:function(t){return i.createElement(i.Fragment,null,"На цю картку надійшла скарга,",i.createElement("br",{}),"тому подивитися її не можна")},h:function(t){return(this.isRestored?c:s)(["На цю картку надійшла скарга,",(this.isRestored?a:o)("br","",{},[],{view:this}),"тому подивитися її не можна"])}},videoError:"Не удалось загрузить видео",site:function(t){return"Перейти на "+u(t.site)},toSerpFilm:"Перейти до фільму",toSerpSeries:"Перейти до серіалу",toSerpBook:"Перейти к книге",expand:"Розгорнути",loaded:"Завантажено",loadedByUser:"Завантажена користувачем",savedFromSource:"Збережено із ",savedFromParentSource:"Взято у ",removeFromSeries:"Видалити з серії",seriesEditFile:{v:"<em>Виберіть файл</em> або перетягніть його сюди",r:function(t){return i.createElement(i.Fragment,null,i.createElement("em",{},"Виберіть файл")," або перетягніть його сюди")},h:function(t){return(this.isRestored?c:s)([(this.isRestored?a:o)("em","",{},["Виберіть файл"],{view:this})," або перетягніть його сюди"])}},seriesEditTitle:"Додайте зображення до серії",hintLike:"Тепер можна натиснути «Мені подобається»",hintShare:"Тепер можна додати картку в колекцію",contestPlace:[function(t){return u(t.count)+" місце"},function(t){return u(t.count)+" місця"},function(t){return u(t.count)+" місць"}],cardDescriptionMaxLength:"Максимальна довжина опису становить 2048 символів"})},iGfq:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({notify:["Сповіщення","Сповіщення","Сповіщень"]})},iJ0M:function(t,e,n){t.exports=n.p+"f/b73c.jpg"},iNXW:function(t,e,n){"use strict";n("/qvC"),n("ZtXU");var r=n("eFZt");e.a=r.a.applyDecls()},iROX:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return c}),n.d(e,"d",function(){return u}),n.d(e,"c",function(){return l}),n.d(e,"a",function(){return d});var r=n("VbXa"),i=n.n(r);function o(t,e,n){Error.call(this,t),this.name=this.constructor.name,this.params=e,this.message=t,this.previous=n,Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack}n("VL+A");var a="PageNotFoundError",s=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.name=a,i}return i()(e,t),e}(o),c=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return i()(e,t),e}(o),u=function(t){function e(e){var n=e.map(function(t){return t.name+" "+t.type}).join();return t.call(this,"Invalid files type: "+n)||this}return i()(e,t),e}(o),l=function(t){function e(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.call.apply(t,[this,"Card with empty content: "+e].concat(r))||this}return i()(e,t),e}(s),d=function(t){function e(e){return t.call(this,"Adv did not loaded",{bannerId:e})||this}return i()(e,t),e}(o)},iUTV:function(t,e,n){"use strict";function r(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments))}}n.d(e,"a",function(){return r})},iWNo:function(t,e,n){"use strict";n.d(e,"a",function(){return X});var r,i,o,a,s,c,u,l=n("pVnL"),d=n.n(l),h=n("o0o1"),f=n.n(h),p=n("yXPU"),g=n.n(p),m=n("VbXa"),v=n.n(m),b=n("U+yc"),_=n.n(b),y=n("cDcd"),C=n("JxqJ"),O=n("LH8O"),S=n("QodL"),w=n("/KRU"),E=n("Jxqj"),k=n("nmYb"),j=n("lc+m"),T=n("MTjZ"),x=n("XPFG"),R=n("2sfb"),I=n("oBAa"),D=n("U9Ap"),P=n("RouB"),L=n("jksR"),N=n("zT9S"),A=n("WyUc"),B=n("FH3s"),M=n("AF+Z"),F=n("eD6j"),U=n("4lBT"),z=n("TChA"),V=n("cYeE"),H=n("l61k"),W=n("1WnH"),q=n("1RGr"),K=n("irYq"),G=n("hPHD"),Y=(r=Object(O.a)(),i=Object(O.a)(),o=Object(O.a)(),a=Object(O.a)(),s=Object(O.a)(),c=Object(O.a)(),u=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).inProgress=!1,e}v()(e,t);var n=e.prototype;return n.showDebugInfo=function(){var t=this.props.cardId;this.props.dispatch(Object(W.a)({type:S.a.DEBUG_INFO,animationType:"modal",options:{id:t,stateKey:"cards"}}))},n.hideCard=function(){this.setReason(A.a.HIDE).catch(function(t){return console.error(t)})},n.setReason=function(){var t=g()(f.a.mark(function t(e){var n,r,i;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.inProgress){t.next=2;break}return t.abrupt("return");case 2:return n=this.props,r=n.cardId,i=n.dispatch,t.prev=3,this.inProgress=!0,t.next=7,i(Object(V.a)({id:r,stateKey:"cards",reason:e}));case 7:return t.prev=7,this.inProgress=!1,t.finish(7);case 10:case"end":return t.stop()}},t,this,[[3,,7,10]])}));return function(){return t.apply(this,arguments)}}(),n.unsubUser=function(){var t=this.props.cardOwner;this.unsubscribe(t.id,"users").catch(function(t){return console.error(t)})},n.unsubBoard=function(){this.unsubscribe(this.props.boardId,"boards").catch(function(t){return console.error(t)})},n.unsubChannel=function(){var t=this.props.reason,e=t&&t.channel&&t.channel.slug;this.unsubscribe(e,"channels").catch(function(t){return console.error(t)})},n.unsubscribe=function(){var t=g()(f.a.mark(function t(e,n){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.props.dispatch,!this.inProgress){t.next=3;break}return t.abrupt("return");case 3:if(!e){t.next=17;break}return t.prev=4,this.inProgress=!0,t.next=8,r(Object(H.a)({storeKey:n,id:e,isSubscribed:!1,counter:this.context.counter}));case 8:r(Object(z.a)({id:this.props.cardId})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.log(t.t0);case 14:return t.prev=14,this.inProgress=!1,t.finish(14);case 17:case"end":return t.stop()}},t,this,[[4,11,14,17]])}));return function(){return t.apply(this,arguments)}}(),n.callComplain=function(){var t=this.props,e=t.dispatch,n=t.cardId;return e(Object(B.a)({id:n,type:"default",storeKey:"cards",counter:this.context.counter}))},n.getKebabList=function(){var t=this.props,e=t.cardId,n=t.isAuthorized,r=t.isMyCard,i=t.isBoardSubscribed,o=t.isUserSubscribed,a=t.showDebugInfo,s=t.reason,c=t.dispatch,u=[];return a&&u.push({onClick:this.showDebugInfo,title:K.debugInfo()}),r?(n&&(u.push({onClick:function(){return c(Object(F.a)({cardId:e}))},title:K.move()}),u.push({onClick:function(){return c(Object(M.a)(e))},title:K.edit()})),u.push({onClick:function(){return c(Object(U.a)({cardId:e}))},title:K.delete()})):(u.push({onClick:this.hideCard,title:K.hide()}),u.push({onClick:this.callComplain,title:K.complain()})),i&&u.push({onClick:this.unsubBoard,title:K.unsubBoard()}),o&&u.push({onClick:this.unsubUser,title:K.unsubUser()}),s&&s.reason===N.a.CHANNEL_SUBSCRIPTION&&u.push({onClick:this.unsubChannel,title:K.unsubChannel()}),u},n.render=function(){var t=this.props,e=t.isCardReadonly,n=t.children;return y.createElement(q.a,d()({},this.props,{list:e?[]:this.getKebabList()}),e&&y.createElement("div",{className:"kebab__menu-desc"},G.browserText.r()),!e&&n)},e}(y.PureComponent),_()(u.prototype,"showDebugInfo",[r],Object.getOwnPropertyDescriptor(u.prototype,"showDebugInfo"),u.prototype),_()(u.prototype,"hideCard",[i],Object.getOwnPropertyDescriptor(u.prototype,"hideCard"),u.prototype),_()(u.prototype,"unsubUser",[o],Object.getOwnPropertyDescriptor(u.prototype,"unsubUser"),u.prototype),_()(u.prototype,"unsubBoard",[a],Object.getOwnPropertyDescriptor(u.prototype,"unsubBoard"),u.prototype),_()(u.prototype,"unsubChannel",[s],Object.getOwnPropertyDescriptor(u.prototype,"unsubChannel"),u.prototype),_()(u.prototype,"callComplain",[c],Object.getOwnPropertyDescriptor(u.prototype,"callComplain"),u.prototype),u),X=Object(C.a)(function(t,e){var n=Object(j.a)(t,e.cardId),r=Object(E.a)(t,e.cardId),i=Object(T.a)(t),o=Object(w.a)(t,e.cardId);return{boardId:Object(x.a)(o),cardOwner:r,isAuthorized:Object(P.a)(i),isMyCard:Object(D.a)(t,e.cardId),isCardReadonly:Boolean(Object(I.a)(n)),isBoardSubscribed:Object(R.a)(o),isUserSubscribed:Object(L.a)(r),reason:Object(k.a)(t,e.cardId)}})(Y)},idzK:function(t,e,n){"use strict";n.r(e);var r=n("EVdn"),i=n.n(r),o=n("jOGB"),a=n("CmRB"),s=n("v8AM"),c=n.n(s);window.$=window.jQuery=i.a,window.Marionette=o.d,window.Backbone=a.b,window._=c.a,window.Promise=Promise,i.a.ajaxSettings.traditional=!0},irYq:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({cancel:"Скасувати",delete:"Видалити",complain:"Поскаржитися",search:"Знайти",unlock:"Сделать видимой для всех",move:"Перенести",save:"Зберегти",like:"Мені подобається",cardRemove:"Видалити картку",add:"Додати",share:"До колекції",edit:"Редагувати",open:"Открыть",unsubUser:"Відписатися від користувача",unsubBoard:"Відписатися від колекції",unsubChannel:"Відписатися від теми",debugInfo:"Чому мені це показали?",hide:"Приховати картку"})},iurk:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("3lXt"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("service"))},ivQ0:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=/^https?:\/\/.+/i;function i(t){return r.test(t)}},iwIO:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("6huc"),s=n("rT8E"),c=n("82Jb"),u=n("izju"),l=n("0MRR"),d=n("az6Z"),h=function(t){var e=t.mod,n=t.mods,r=t.alt,h=t.content,f=t.size,p=t.label,g=t.rating,m=t.useType,v=void 0===m||m,b=t.style;if(!h)return null;var _=Object(a.a)(h),y=Object(s.a)(h),C=!1;return v&&y===u.a.LINK&&(_!==c.a.OG&&_!==c.a.TEXT||(C=_)),o.createElement(o.Fragment,null,o.createElement(l.a,{mod:e,mods:i()({type:C},n),label:p,alt:r,content:h,size:f,style:b},g&&o.createElement(d.a,{rating:g})))}},ixsu:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("GhlN"),s=function(t){var e,n=t.mod,r=t.mods,s=t.alt,c=t.src,u=t.srcSet,l=t.label,d=t.style,h=t.children,f=t.onImageError,p=t.onImageLoad,g=t.onImageRef,m=t.linkFactory,v=Object(a.a)("cl-picture",i()(((e={})[n]=Boolean(n),e),r)),b=c&&o.createElement("img",{className:"cl-picture__image",alt:s,src:c,srcSet:u,ref:g,onLoad:p,onError:f}),_=o.createElement(o.Fragment,null,m?m({children:b,className:"cl-picture__link"}):b);return o.createElement(o.Fragment,null,o.createElement("div",{className:v,style:d},h?o.createElement("div",{className:"cl-picture__wrap"},_,h):_),l)}},izju:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){return t[t[e="BOOK"]="book"]=e,t[t[e="FILM"]="film"]=e,t[t[e="GEO"]="geo"]=e,t[t[e="IMAGE"]="image"]=e,t[t[e="LINK"]="link"]=e,t[t[e="ORGANIZATION"]="organization"]=e,t[t[e="SERIES"]="series"]=e,t[t[e="VIDEO"]="video"]=e,t[t[e="NEWS"]="news"]=e,t}({})},j3NW:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("pVnL"),i=n.n(r),o=n("VbXa"),a=n.n(o),s=n("1H70"),c=n("c+Ap"),u=function(t,e){return t[t[e="NEXT"]=1]=e,t[t[e="PREV"]=-1]=e,t}({}),l=function(t){function e(){return t.apply(this,arguments)||this}a()(e,t);var n=e.prototype;return n.setCount=function(t){this.getCount()!==t&&(this._count=t,this.trigger("pagination:change:count"))},n.getCount=function(){return this._count},n.setFullyLoaded=function(){this._isFullyLoaded=!0},n.getNext=function(){return this._next},n.setNext=function(t){this._next=t},n.getPrev=function(){return this._prev},n.setPrev=function(t){this._prev=t},n.isEmpty=function(){return this.isFullyLoaded()&&!this.length},n.isFullyLoaded=function(){return!this._latestFetch&&Boolean(this._isFullyLoaded)},n.isPrevFullyLoaded=function(){return!this._latestFetch&&Boolean(this._isPrevFullyLoaded)},n.isLoading=function(){return Boolean(this._latestFetch)},n.getPageSize=function(){var t=this._iterator?this._iterator.params:void 0;return t&&t.page_size?Number(t.page_size):c.w},n.hasIterator=function(){return Boolean(this._iterator)},n.iteratorReset=function(t,e){var n=this.transformFetchData(t,e),r=this.transformFetchOptions(n,e);return this._iterator={params:n,options:r},this.iteratorRewind()},n.iteratorClean=function(){this._iterator=void 0,this._isFullyLoaded=!1,this._isPrevFullyLoaded=!1,this.setNext(void 0),this.setPrev(void 0)},n.iteratorRewind=function(){if(!this._iterator)throw new Error("Collection iterator not initialized yet");var t=this._iterator,e=t.params,n=t.options;return this._isFullyLoaded=!1,this._isPrevFullyLoaded=!1,this.setNext(e),this.setPrev(void 0),this._iteratorFetch(e,i()({reset:!0},n))},n.fetchNext=function(){if(!this._iterator)throw new Error("Collection iterator not initialized yet");if(this.isFullyLoaded())return this._warn("Pagination.fetchNext for fully loaded collection");var t=this.getNext(),e=this._iterator.options;return t?this._iteratorFetch(t,e):this._warn("Pagination.fetchNext fetch params is empty")},n.fetchPrev=function(t){var e=void 0===t?{}:t,n=e.force,r=e.forceParams;if(!this._iterator)throw new Error("Collection iterator not initialized yet");if(this.isPrevFullyLoaded()&&!n)return this._warn("Pagination.fetchPrev for fully loaded collection");var o=this.getPrev(),a=this._iterator.options;if(!o){if(!n)return this._warn("Pagination.fetchPrev fetch params is empty");o=r}return this._iteratorFetch(o,i()({disablePreflight:!0,at:0,merge:!0,iterator:u.PREV},a))},n._iteratorFetch=function(t,e){var n=this;return!this._latestFetch||e&&e.reset?(this._latestFetch=this.fetch(i()({data:t,remove:!1,parse:!0,iterator:u.NEXT},e)),this._latestFetch.then(function(t){n._latestFetch=null,e&&e.fetchLimit&&e.fetchLimit<=n.size()&&n.setFullyLoaded(),n.trigger("pagination:fetch");var r=t&&t.results&&0===t.results.length;return!n.isFullyLoaded()&&r?n.fetchNext():n}).catch(function(t){throw 0!==t.status&&(n._isFullyLoaded=!0,n._isPrevFullyLoaded=!0,n.setNext(void 0),n.setPrev(void 0)),n._latestFetch=null,t})):this._latestFetch.catch(function(){}).then(function(){return n.fetchNext()})},n.transformFetchData=function(t){return t},n.transformFetchOptions=function(t,e){return e},n.parse=function(t,e){return t.results?(this.setCount(t.count),t.iterator&&this.restorePagination(t),e&&e.iterator&&((e.iterator===u.PREV||e.reset)&&this.setPrev(t.previous),(e.iterator===u.NEXT||e.reset)&&this.setNext(t.next),this._latestFetch=null,this._isFullyLoaded=!this.getNext(),this._isPrevFullyLoaded=!this.getPrev(),(!t.results.length||!t.next&&this.size())&&this.setCount(this.size()+t.results.length)),t.results):t},n.serializePagination=function(){function t(t){return t||void 0}return{iterator:this._iterator,count:this.getCount(),prev:t(this.getPrev()),next:t(this.getNext())}},n.restorePagination=function(t){this._iterator=t.iterator,this.setCount(t.count),this.setPrev(t.prev),this.setNext(t.next),this._isFullyLoaded=!this.getNext(),this._isPrevFullyLoaded=!this.getPrev()},n._warn=function(t){return console.warn(t),Promise.resolve(this)},e}(s.a)},j3kT:function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r,i=n("pVnL"),o=n.n(i),a=n("VbXa"),s=n.n(a),c=n("SiKM"),u=n("aqFj"),l=n("n73F"),d=n("mdRN"),h=n("K9S7"),f=n("c+Ap"),p=n("/bNA"),g=n("4MLz"),m={page_size:f.w,previews_count:f.T,sort:"-service.updated_at"},v=Object(d.a)({url:"/collections/api/boards/",model:l.a})(r=Object(h.a)()(r=function(t){function e(){return t.apply(this,arguments)||this}s()(e,t);var n=e.prototype;return n.getCount=function(){return t.prototype.getCount.call(this)+this.filter(function(t){return t.id.includes("/")}).length},n.initialize=function(e,n){var r=this;t.prototype.initialize.call(this,e,n),this.listenTo(p.a,"board:create",this.onGlobalBoardCreate),this.on("change:complaint",function(t){r.remove(t)})},n.onGlobalBoardCreate=function(t){this.isCurrentUserBoards()&&(this.add(t,{at:0}),this.setCount(this.getCount()+1))},n.createEmptyBoard=function(t,e){return this._prepareModel(o()({},t),e)},n.transformFetchOptions=function(t,e){var n=Object.assign({},e);return t&&t.text&&!e.url&&(n.url="/collections/api/boards/search/"),n},n.fetchCurrentUserBoards=function(t){return this.fetchWithOptions(o()({},t?{saveable_for_source_type:t}:{},{add_default:!0}))},n.fetchByLogin=function(t,e,n){return t?this.fetchWithOptions(Object.assign({},e,{"owner.login":t,parent:"null"}),n):Promise.resolve(this)},n.fetchByTitleAndLogin=function(t){var e=t.login,n=t.title;return e&&n?this.fetchWithOptions({"owner.login":e,parent:"null",title:n}):Promise.resolve(this)},n.fetchBySimilarToCurrentUser=function(){return this.fetchWithOptions({for_user:1,sort:null},{disablePreflight:!0})},n.fetchBySimilarTo=function(t){return t.getCardsCount()?this.fetchWithOptions({page_size:10,similar_to:t.id,sort:null,page:1,seed:Object(g.a)()},{disablePreflight:!1}):(this.reset(),Promise.resolve(this))},n.fetchFollowingBoards=function(t){return this.fetchWithOptions({followed_by:t,previews_count:f.T})},n.fetchWithOptions=function(t,n){var r=void 0===n?{}:n,i=r.create,o=void 0!==i&&i,a=r.disablePreflight,s=void 0!==a&&a,u=r.ignoreDefaultParams;return void 0!==u&&u||(t=Object.assign({},this.fetchParams||m,t)),t=Object(c.omit)(t,c.isNull),JSON.stringify(this.oldFetchParams)!==JSON.stringify(t)?(this.oldFetchParams||(o=!1),o?e.factory({request:this.getRequestAdapter()}).fetchWithOptions(t):(this.fetchParams=this.oldFetchParams=t,this.iteratorReset(this.fetchParams,{disablePreflight:s}))):Promise.resolve(this)},n.isCurrentUserBoards=function(){var t=this.currentUser,e=this.fetchParams;return Boolean(t&&e&&e["owner.login"]===t.getLogin())},n.updateDependenciesUserBoardsFromParams=function(t){var e=t.event.params.login,n=t.currentUser,r=t.request,i=t.env;return this.updateDependencies({request:r,currentUser:n,env:i}),this.fetchByLogin(e,{previews_count:f.T},{create:!0})},n.updateDependenciesBySearch=function(t){var e=t.request,n=t.env,r=t.event.query,i=r.text,o=r.relev,a=r.pron,s=r.cg_model_version;if(this.updateDependencies({request:e,env:n,currentUser:n.currentUser}),i)return this.fetchWithOptions({text:i,relev:o,pron:a,cg_model_version:s,sort:void 0});this.reset(),this.setFullyLoaded(),this.oldFetchParams={}},n.iteratorClean=function(){this.oldFetchParams=null,this.fetchParams=null,t.prototype.iteratorClean.call(this)},n.resetOldFetchParams=function(){return this.reset(),this.oldFetchParams={},this},n.updateDependencies=function(t){var e=t.request,n=t.env,r=t.currentUser;this.setRequestAdapter(e),this.env=n,this.currentUser=r},n.updateForCurrentUser=function(t){this.updateDependencies(t);var e=t.currentUser,n=e.getLogin();return n&&e.isAuthorized()?this.fetchByLogin(n,{previews_count:f.T}):(this.reset(),this.setFullyLoaded(),this)},e.restore=function(t){var e=this.dataFactory(t,{parse:!0});return e.fetchParams=e.oldFetchParams=t.fetchParams,e},e}(u.a))||r)||r},jDFp:function(t,e,n){"use strict";var r=n("RGwc");e.a=r.a.applyDecls()},jExO:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r="add_flow",i="add_flow_internal"},jGRQ:function(t,e,n){"use strict";n.d(e,"a",function(){return _});var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("JxqJ"),s=n("gLBg"),c=n("V8C4"),u=n("MTjZ"),l=n("8KBr"),d=n("IWXk"),h=n("CsIx"),f=n("nt9X"),p=n("CHZ4"),g=n("YDzz"),m=n("Wopx"),v=n("K7k/"),b={isBrowserFavorites:1},_=Object(a.b)(function(t,e){var n=e.userId?Object(d.a)(t,e.userId):Object(u.a)(t),r=Object(p.a)(t,s.a.ADD_FLOW),i=Object(m.a)(t),o=i.isYandexAppMultiMorda,a=i.isYandexApp,c=i.isYandexRecent,g=i.isMultiMordaApp,_=Object(f.a)(n),y=Boolean(r||g||c),C=c?b:void 0,O=Object(h.a)(n)||!_?Object(s.n)(C):Object(s.w)(_,C);return{href:O&&(o||a&&c)?Object(v.a)(O):O,blank:y,login:_,displayName:Object(l.a)(n)||""}})(function(t,e){var n=e.counter,r=c.c.clickUser(i()({},n,{userLogin:t.login}));return o.createElement(g.a,i()({counter:r},t))})},jIio:function(t,e,n){t.exports=n.p+"f/b274.woff2"},jOGB:function(t,e,n){"use strict";var r=n("i35k"),i=n("LPcz"),o=n("Zlwl");n.d(e,"a",function(){return o.a});var a=n("dTt+"),s=n("zbeB"),c=n("U60d");n.d(e,"c",function(){return c.a});var u=n("P/0C"),l=n("X/zs");n.d(e,"b",function(){return l.a});var d=n("/MON"),h=n("bNAM"),f=n("uL7A"),p={Controller:r.a,Object:i.a,Behavior:o.a,View:a.a,ItemView:s.a,LayoutView:c.a,CompositeView:u.a,CollectionView:l.a,Region:d.a,RegionManager:h.a,getOption:f.d};e.d=p},jR8C:function(t,e,n){t.exports=n.p+"f/4622.svg"},jjJ1:function(t,e,n){t.exports=n.p+"f/a3e1.gif"},jksR:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("IWXk"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("is_subscribed"))},jm6t:function(t,e,n){"use strict";function r(t){return"photo-of-the-day"===t.id}n.d(e,"a",function(){return r})},"k/eQ":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("SiKM");function i(t,e){return void 0===e&&(e={}),function(n,i,o){return{configurable:!0,enumerable:o.enumerable,get:function(){return Object.defineProperty(this,i,{configurable:!0,enumerable:o.enumerable,value:Object(r.debounce)(o.value.bind(this),t,e)}),this[i]}}}}},k0aB:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("80YD"),i=n("3lXt"),o=n("dNc+"),a=Object(r.a)(i.a,o.a)},k9ys:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("pVnL"),i=n.n(r),o=n("VrZJ"),a=n("V8C4"),s=n("8qBK"),c=Object(o.a)({title:s.title(),description:s.description(),confirmLabel:s.confirmLabel(),cancelLabel:s.cancelLabel(),onConfirm:function(t){var e=t.counter;return a.d.clickAuthorsDialogContinue(i()({},e,{type:"remove"})),Promise.resolve()},onCancel:function(t){var e=t.counter;return a.d.clickAuthorsDialogCancel(i()({},e,{type:"remove"})),Promise.reject(new Error("don't close modal"))},onClickOut:function(t){var e=t.counter;return a.d.clickAuthorsDialogCancel(i()({},e,{type:"remove"})),Promise.reject(new Error("don't close modal"))}})},kKIY:function(t,e,n){"use strict";var r=n("2Y2+"),i=n("0kDp");n.d(e,"a",function(){return a});var o={RUB:"% ₽",RUR:"% ₽",BYN:"% б. р.",BYR:"% б. р.",USD:"$ %",EUR:"% €"};function a(t,e){if(void 0===e&&(e=!1),!t)return null;var n=t.currency,a=t.price,s=t.precise;if(!a)return s?i.marketNoPriceFull.r():i.marketNotPrecise.r();var c=Object(r.a)(Math.round(Number(a))),u=o[n];if(n&&["rur","rub"].includes(n.toLowerCase()))return e?i.marketTeaserPriceRouble.r({price:c}):i.marketTeaserPriceRoubleShort.r({price:c});var l=u?u.replace("%",c):c+" "+n;return e?i.marketTeaserPrice({price:l}):l}},kWnB:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("Opci"),i=n("om3R"),o=n("cX81");function a(t,e){if(t){if(!(t instanceof o.a))return Object(r.a)(Object(i.a)(t),e);var n=t.getFirstContent();if(n)return Object(r.a)(n.toJSON(),e)}return Object(r.a)(void 0,e)}},kdr8:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("pVnL"),i=n.n(r),o=n("riXN"),a=n("V8C4"),s=n("7hiN");function c(t,e){var n,r=t.env,c="function"==typeof e?e.call(t,t,r):e,u=i()({env:r},c);if(n=u.loc?u.loc:r.isEmbed?"embed":r.isShare?"share":"outer",a.d.clickUserAuth({loc:n}),r.isEmbed)o.a.showLoginWindow(r,u);else{var l=o.a.authUrl(u);r.isMultiMordaApp?Object(s.a)(l,r):"_parent"!==u.target?"_blank"!==u.target?location.href=l:window.open(l,u.target):parent.location.href=l}}var u=function(t,e){var n,r=e,i={},o=function(){return!0};"object"==typeof e&&e&&(r=e.methodName,i=e.methodOptions,n=e.permission,e.check&&(o=e.check));var a=t.prototype[r];a&&(t.prototype[r]=function(){var t=this.getEnv(),e=t.currentUser,r="function"==typeof n?n(this):n,s=r?t.hasAccess(r):e.isAuthorized();if(s=s&&o(this)){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];a.call.apply(a,[this].concat(l))}else c(this,i)})};function l(t){return function(e){Array.isArray(t)?t.forEach(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return u.apply(void 0,[e].concat(n))}):u(e,t)}}},kxMj:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({boards:"Колекції",channels:"Теми",authors:"Автори",cards:"Картки",myCards:"Мої картки",allFoundBoards:"Усі знайдені колекції"})},kxd7:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("pVnL"),i=n.n(r),o=n("T6Rw"),a=Object(o.a)(function(t,e){var n,r=e.storeKey,o=e.id,a=t[r];return a&&a.results?i()({},t,((n={})[r]=i()({},a,{results:a.results.filter(function(t){return t.id!==o})}),n)):t})},kxqj:function(t,e,n){"use strict";var r=n("AtbI");e.a=r.a.applyDecls()},l0Ty:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("2WP6"),i=n("y6Xm"),o=n("RLYd"),a=Object(o.a)(r.a,Object(i.a)("list_view"))},l61k:function(t,e,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("4RqY"),l=n("/bNA"),d=n("n73F"),h=n("8LPo"),f=n("pLEp"),p=n("sioy"),g=n("SUYq"),m=n("V8C4"),v=n("xalX"),b=n("MTjZ"),_=n("T6Rw"),y=n("2sfb"),C=Object(_.a)(function(t,e){var n=e.id,r=e.isSubscribed;if(t){var i=t.entities&&t.entities.boards;if(i){var o=Object.keys(i).reduce(function(t,e){var o=i[e],s=o&&o.owner&&o.owner.id;return o&&s===n&&r!==Object(y.a)(o)&&(t[e]=a()({},o,{is_subscribed:r,stat:a()({},o.stat,{subscribers_count:o.stat.subscribers_count+(r?1:-1)})})),t},{});if(Object.keys(o).length)return a()({},t,{entities:a()({},t.entities,{boards:a()({},i,o)})})}}return t}),O=n("0rhd"),S=n("NFKc"),w=n("nt9X"),E=n("om3R"),k=n("dEsh");function j(t){return t&&t.content&&t.content.group_id}function T(t){return Boolean(j(t))}var x=n("pzCj"),R=Object(S.a)("request",function(){var t=c()(i.a.mark(function t(e,n,r){var o,a,s,c,u,l,d,h;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.getState,a=r.dispatch,s=o(),(c=Object(b.a)(s))&&c.id){t.next=5;break}return t.abrupt("return");case 5:if((u=Object(O.a)(c))&&u.length){t.next=17;break}return l=Object(w.a)(c),t.prev=8,t.next=11,e.get("/collections/api/cards/",{data:{"owner.login":l,sort:"-service.created_at",page_size:3}});case 11:(d=t.sent).results&&d.results.length&&(h=[],d.results.forEach(function(t){var e=Object(E.a)(t);T(e)&&Object(k.a)(e)&&h.push({id:e.id,image:{group_id:j(e),avatars_key:Object(x.a)(e)}})}),a(Object(p.a)({id:c.id,value:{card_previews:h}}))),t.next=17;break;case 15:t.prev=15,t.t0=t.catch(8);case 17:case"end":return t.stop()}},t,this,[[8,15]])}));return function(){return t.apply(this,arguments)}}()),I=n("S7YN"),D=n("rreP"),P=n("4EGB"),L=n("gLBg"),N=n("IWXk"),A=n("8KBr"),B=n("hfWR"),M={channels:function(t){return t?P.channelSubscribed.r:P.channelUnsubscribed.r},boards:function(t){return t?P.boardSubscribed.r:P.boardUnsubscribed.r},users:function(t){return t?P.userSubscribed.r:P.userUnsubscribed.r}},F={channels:function(t,e){return{channel_url:Object(B.a)(e)+Object(L.f)(t.slug),channel_title:t.title}},boards:function(t,e){var n=Object(N.a)(e,t.owner.id)||{};return{board_url:Object(B.a)(e)+Object(L.d)(n.login,t.slug),board_title:t.title}},users:function(t,e){return{user_url:Object(B.a)(e)+Object(L.w)(t.login),user_display_name:Object(A.a)(t)}}},U=Object(u.a)(function(t,e){var n=t.storeKey,r=t.entity,i=t.isSubscribed,o=e.dispatch,a=(0,e.getState)(),s=F[n](r,a),c=M[n](i)(s);c&&o(Object(D.a)({message:c}))});n.d(e,"a",function(){return Q});var z={channels:function(t){return{channelSlug:t.slug,recId:t.recommendations_id}},boards:function(t){return{boardId:t.id,recId:t.recommendations_id}},users:function(t){return{userLogin:t.login}}},V={channels:m.d.clickChannelSubscribe,boards:m.d.clickBoardSubscribe,users:m.d.clickUserSubscribe},H={channels:m.d.finishChannelSubscribe,boards:m.d.finishBoardSubscribe,users:m.d.finishUserSubscribe},W={channels:function(t){return{storeKey:"channel",url:"/collections/api/channels/"+encodeURIComponent(t),query:{}}}},q={channels:function(t){return{"channel.slug":t.slug}},boards:function(t){return{"board.id":t.id}},users:function(t){return{"user.id":t.id}}},K={channels:"channel_subscriptions",boards:"board_subscriptions",users:"user_subscriptions"},G={channels:"subscribers_count",boards:"subscribers_count",users:"subscribers"},Y={channels:"stat",boards:"stat",users:"stats"},X={users:C},J={channels:h.a,boards:d.a,users:g.a},Q=Object(u.a)(function(){var t=c()(i.a.mark(function t(e,n){var r,o,s,c,u,d,h,m,_,y;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.id,o=e.storeKey,s=e.isSubscribed,c=e.counter,u=n.getState,d=n.dispatch,h=n.di,_=(m=function(){var t=u().entities[o];return t&&t[r]})()){t.next=14;break}if(!(y=W[o])){t.next=12;break}return t.next=9,d(Object(I.a)(y(r)));case 9:_=m(),t.next=14;break;case 12:return console.error("Only channel fetch implemented"),t.abrupt("return");case 14:if(_){t.next=16;break}throw new Error("Cannot find entity "+o+" "+r);case 16:return c=a()({},c,z[o](_),{subscribed:s}),V[o](c),d(Object(f.a)({id:r,storeKey:o,value:{is_subscribed:s}})),t.abrupt("return",Promise.resolve().then(function(){return h("request")}).then(function(t){return s?t.post("/collections/api/subscriptions/",q[o](_)):t.del("/collections/api/subscriptions/",q[o](_))}).catch(function(t){if(!t||409!==t.status)throw d(Object(f.a)({id:r,storeKey:o,value:{is_subscribed:!s}})),l.a.showXHRMessage(t),t}).then(function(){var t,e=u(),n=Object(b.a)(e),i=m(),l=K[o],h=G[o],_=Y[o],y=X[o];if(!i)throw new Error("Entity lost");var C=a()({},n.stats,((t={})[l]=Math.max(0,(n.stats[l]||0)+(s?1:-1)),t));if(n.id&&(d(Object(p.a)({id:n.id,value:{stats:C}})),d(R(null))),g.a.dataFactory(Object(v.a)(n),{parse:!0}).set("stats",C),h){var O,S,w,E=a()({},i[_],((O={})[h]=Math.max(0,(i[_][h]||0)+(s?1:-1)),O));d(Object(f.a)({id:r,storeKey:o,value:(S={},S[_]=E,S)})),d(U({storeKey:o,entity:i,isSubscribed:s})),J[o]&&J[o].dataFactory(Object(v.a)(i),{parse:!0}).set(((w={is_subscribed:s})[_]=E,w)).trigger("change:subscription",{disableNotifications:!0,disableClck:!0})}y&&d(y({id:r,isSubscribed:s})),H[o](c)}));case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},lPPs:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("3lXt"),i=n("y6Xm"),o=n("i1uP"),a=n("o/z3"),s=Object(i.a)("title"),c=Object(o.a)(r.a,function(t){var e=s(t);return""===e?a.emptyCollectionName():e})},lQce:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("pVnL"),i=n.n(r),o=n("hqMG");function a(t){return function(e){var n=function(n){return Object(o.a)(i()({stateKey:t},e))(n)};return n.data=e,n}}},lUvp:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("QCEX");function i(t,e){var n=e.hash;return Object.keys(n).length&&(n=Object.assign({},e.hash,{escape:!0})),r.a.call(this,t,{data:e.data,hash:n})}},"lc+m":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("YFOV"),i=Object(r.a)("cards")},lhXF:function(t,e,n){"use strict";var r,i=n("o0o1"),o=n.n(i),a=n("pVnL"),s=n.n(a),c=n("yXPU"),u=n.n(c),l=n("MTjZ"),d=n("Am/A"),h=n("4RqY"),f=Object(h.a)(function(){var t=u()(o.a.mark(function t(e,n){var i,a,s,c,l,d;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.value,a=n.di,t.next=4,a({request:"request",currentUser:"currentUser"});case 4:return s=t.sent,c=s.request,l=s.currentUser,d=Promise.resolve(r).then(u()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.patch("/collections/api/user/",{preferences:i});case 2:(e=l.getPreferences()).set(e.parse(i));case 4:case"end":return t.stop()}},t,this)}))),r=d.catch(function(){}),t.next=11,d;case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),p=n("sioy");n.d(e,"a",function(){return g});var g=Object(h.a)(function(){var t=u()(o.a.mark(function t(e,n){var r,i,a,c,u,h,g,m,v,b,_;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.key,a=e.mutation,c=n.getState,u=n.dispatch,h=c(),g=Object(l.a)(h),m=Object(d.a)(g),v=m&&m.general&&m.general[i],b=a(v),_=s()({},m,{general:s()({},m&&m.general,(r={},r[i]=b,r))}),u(Object(p.a)({id:g.id,value:{preferences:_}})),t.prev=9,t.next=12,u(f({value:_}));case 12:t.next=18;break;case 14:throw t.prev=14,t.t0=t.catch(9),u(Object(p.a)({id:g.id,value:{preferences:m}})),t.t0;case 18:case"end":return t.stop()}},t,this,[[9,14]])}));return function(){return t.apply(this,arguments)}}())},lpMR:function(t,e,n){"use strict";function r(t){return!!t&&"video"===t.source_type}n.d(e,"a",function(){return r})},lqwn:function(t,e,n){"use strict";var r=n("oH4B");e.a=r.a.applyDecls()},lv8r:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("NuA5"),i=n("EgTM"),o=Object(r.a)("channel",i.a)},lyF8:function(t,e,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("4RqY"),c=n("MTjZ"),u=n("IWXk"),l=n("qtAy"),d=n("pVnL"),h=n.n(d),f=n("NFKc"),p=n("euOF"),g=n("V8C4"),m=n("rANK"),v=n("xalX"),b=n("7/cf"),_=n("PN4Q"),y=n("WVyS"),C=Object(f.a)("request",function(){var t=a()(i.a.mark(function t(e,n,r){var o,a,s,c,u,l,d,f,C,O;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.boardId,a=n.counter,s=r.getState,r.dispatch,c=s(),u=Object(b.b)(c),l=Object(p.a)(c,o),d=Object(m.a)(c,o),g.d.clickBoard(h()({},a,{isDefault:d,boardId:o})),(C=Object(v.a)(u))&&C.content&&(C.description||(C.description=""),C.selected_contents?C.content=Object(_.a)(C.content,C.selected_contents):C.content=C.content.map(function(t){return Object(y.a)(t)})),!C){t.next=23;break}return C.id===b.a&&delete C.id,O=h()({},C,l?{}:{board_id:o}),t.prev=12,t.next=15,e.post("/collections/api/cards/",O);case 15:f=t.sent,t.next=21;break;case 18:throw t.prev=18,t.t0=t.catch(12),t.t0;case 21:return g.d.finishCardCreate(h()({},a,{cardId:f.id,seriesCount:f.content?f.content.length:0,isDefault:d})),t.abrupt("return",f);case 23:case"end":return t.stop()}},t,this,[[12,18]])}));return function(){return t.apply(this,arguments)}}()),O=n("3Twp"),S=n("vmv2"),w=n("jExO"),E=n("wjhi"),k=n("IxYx"),j=n("dohL"),T=n("/KRU"),x=n("y1pN"),R=n("gLBg"),I=n("lPPs"),D=n("rreP"),P=n("E097"),L=Object(s.a)(function(){var t=a()(i.a.mark(function t(e,n){var r,o,a,s,c,u;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n.getState,o=n.dispatch,a=r(),s=Object(T.a)(a,e.id),c=Object(x.a)(a,s),s&&c&&(u={board_url:Object(R.d)(c.login,s.slug),board_title:Object(I.a)(a,s.id)},o(Object(D.a)({message:P.cardSave.r(u)})));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),N=n("aKBe"),A=n("8KwP"),B=n("z+Ux"),M=n("84fb"),F=n("Wopx"),U=n("SDCS"),z=n("riXN"),V=n("3lXt"),H=n("zc+8"),W=n("y144"),q=n("V7jS");n.d(e,"a",function(){return K});var K=Object(s.a)(function(){var t=a()(i.a.mark(function t(e,n){var r,o,a,s,d,h,f,p,g,m,v,_,y,T,x,I,D,P,K,G;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.boardId,o=e.counter,a=n.getState,s=n.dispatch,d=a(),h=Object(b.b)(d),f=h&&h.owner?Object(u.a)(d,h.owner.id):null,p=Object(c.a)(d),g=p&&f&&p.login===f.login,m=h.id&&h.id!==b.a,v=Boolean(h.original_id),y={boardId:r,counter:o},!(T=Object(V.a)(d,r))||T.is_private||!Object(M.a)(d)){t.next=15;break}return x=Object(F.a)(d),s(Object(H.b)()).then(function(){s(Object(U.a)({place:"add_card",retpath:z.a.getRetpathUrl(x,Object(R.n)())}))}),t.abrupt("return");case 15:if(v&&!g&&(_=O.a),g&&(m||v)&&(_=l.a),m||v||(_=C),!_){t.next=45;break}return I=function(){var t=a();return Object(E.a)(t)["add-card-save"]},D=function(t){var e;s(Object(k.a)(((e={})["add-card-save"]=t,e)))},P=h.board,t.prev=22,D(!0),K=function(){return s(_(y))},s(Object(W.a)({value:{board:{id:r}}})),t.next=28,S.a.add(K,w.b,{dispatch:s,getState:a});case 28:G=t.sent,s(Object(N.a)({id:G.id,value:G})),m&&g||s(Object(A.a)(void 0)),s(Object(B.a)(G)),s(L(G)),s(Object(H.b)()),s(Object(q.a)({})),t.next=42;break;case 37:throw t.prev=37,t.t0=t.catch(22),I()&&s(Object(j.a)(t.t0)),s(Object(W.a)({value:{board:P}})),t.t0;case 42:return t.prev=42,D(!1),t.finish(42);case 45:case"end":return t.stop()}},t,this,[[22,37,42,45]])}));return function(){return t.apply(this,arguments)}}())},m2PT:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("o/z3"),i=128,o=/[0-9]+|[a-zа-яё]+/i,a=/^\s+$/i;function s(t){var e,n=String(t).trim(),s={valid:!0};return n&&!o.test(n)||a.test(t)?e=r.boardTitleIncorrect:n?n.length>i&&(e=r.boardTitleLong):e=r.boardTitleEmpty,e&&(s={valid:!1,message:e}),s}},m4ti:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("IWXk"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("is_forbid"))},m4u8:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("Z0W1");function i(t){var e=Object(r.a)(t);return e&&"YandexBrowser"===e.BrowserName}},m7Ew:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("JxqJ"),s=n("V8C4"),c=n("s6gp"),u=n("FzJZ"),l=Object(a.b)()(function(t,e){var n,r=t.href,a=t.className,l=t.counter,d=t.children,h=t.props;return Object(u.a)(r)?(n=l?i()({},h,{"data-c":l,"data-original-href":r}):i()({},h,{"data-disable-counters":"1",onClick:function(t){s.d.clickLinkExternal(i()({},e.counter,{href:r})),h&&h.onClick&&h.onClick(t)}}),o.createElement("a",i()({href:r,target:"_blank",rel:"nofollow noopener","data-c":l||"",className:a,"data-href":Object(c.b)(r)},n),d)):o.createElement(o.Fragment,null,d)})},mUSw:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n("pllQ"),i=n("9qcP");function o(t,e,n){var o;return void 0===e&&(e=1/0),void 0===n&&(n=5e3),Object(r.retryPromise)(function(){var e=t();return e.then(function(){o&&(o.remove(),o=null)}),e.catch(function(t){o||(o=i.a.factory().showXHRMessage(t,{persistent:!0}))}),e},e,n)}function a(t){return t.length?new Promise(function(e,n){var r=t.length;t.forEach(function(t){t.then(e),t.catch(function(t){--r||n(t)})})}):Promise.reject(new Error("Promises cannot be empty"))}},"mc+J":function(t,e,n){"use strict";n("Nn3Z"),n("yO7b"),n("EF4d"),n("vrpW");var r=n("A4mO");e.a=r.a.applyDecls()},mdRN:function(t,e,n){"use strict";function r(t){return function(e){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];Object.defineProperty(e.prototype,i,{configurable:!0,enumerable:!1,writable:!0,value:t[i]})}}}n.d(e,"a",function(){return r})},mjwL:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({selfDisplayName:"Ви",hintSubscribe:"Тепер можна підписатися на користувача",hintSubscribeDone:"Ви вже підписані на цього користувача",userDescriptionLong:"Спробуйте скоротити опис"})},"n+Kn":function(t,e,n){"use strict";var r=n("W8MJ"),i=n.n(r),o=n("EVdn"),a=n("9TW5"),s=n("LGxj");n.d(e,"a",function(){return u});var c=new s.a,u=function(){function t(t){this.isRendered=!1,this.isDestroyed=!1,this.isRestored=!1,this._children=[],Object.assign(this,t),this.options=t,t.content&&(this.template=t.content),this.behaviors&&this.initBehaviors(),this.initialize&&this.initialize(t)}var e=t.prototype;return e.initBehaviors=function(){var t=this,e=(this._result(this.behaviors)||[]).map(function(e){var n=e.behaviorClass;return n.factory?n.factory(t,e):new n(t,e)}).filter(Boolean);e.length&&(this._behaviors=e)},e.render=function(){return this.isRestored?(this._el=this.options.el,this._renderContent().restore(this._el.childNodes),this.events&&this._listenEvents()):this._el?(this.empty(),this._setContent(this._renderContent())):(this._el=this._createElement(this._renderContent()),this.events&&this._listenEvents()),this.isRendered=!0,this._behaviors&&this._behaviors.forEach(function(t){return t.onRender()}),this.onRender&&this.onRender(),this.isRestored=!1,this._el},e.safeRender=function(){this.isDestroyed||this.render()},e.empty=function(){this._el.innerHTML="",this._destroyChildren()},e.attachToParent=function(e){var n=this;if(this.isRendered||this.render(),e instanceof t)throw new Error("Not implemented");return e.on("destroy",function(){return n.destroy()}),this._el},e.attachChildView=function(e){return e.isRendered||e.render(),this._children.push(e),e instanceof t?e._el:(e.onShow&&e.onShow(),e.el)},e.destroy=function(){this.isDestroyed||(this.isDestroyed=!0,this._el.parentNode&&this._el.parentNode.removeChild(this._el),this._destroyChildren(),this.trigger("destroy"),this.stopListening(),this._behaviors&&this._destroyBehaviors())},e.$=function(t){return o(t)},e.closest=function(t){return o(this._el).closest(t)[0]},e.find=function(t){return o(this._el).find(t)[0]},e.addClass=function(t){o(this._el).addClass(t)},e.toggleClass=function(t,e){o(this._el).toggleClass(t,e)},e.appendChild=function(t){this._el.appendChild(t)},e.isIntact=function(){return this.isRendered&&!this.isDestroyed},e.deferToAttach=function(t,e){var n=this;setTimeout(function(){n.isIntact()&&t.call(n)},e)},e.getEnv=function(){return this.env},e.serializeData=function(){return{}},e._renderContent=function(){var t,e=this.template;return e&&e.default&&(e=e.default),e&&(t=e.call(this,this.serializeData())),t},e._setContent=function(t){this.appendChild(t)},e._createElement=function(t){return function(t){var e=this&&this.isRestored,n=e?a.er:a.e;return(e?a.fr:a.f)([n(t.tagName,t.className,{},[t.content])])}.call(this,{tagName:this._result(this.tagName)||"div",className:this._result(this.className),attributes:this._result(this.attributes)||{},content:t})},e._listenEvents=function(){var t=this;Object.keys(this.events).forEach(function(e){t._el.addEventListener(e,function(n){return t[t.events[e]](n)})})},e._result=function(t){return"function"==typeof t?t.call(this):t},e._destroyChildren=function(){this._children.forEach(function(t){return t.destroy()}),this._children=[]},e._destroyBehaviors=function(){this._behaviors.forEach(function(t){return t.onDestroy()}),this._behaviors=null},e.on=function(t,e){c.on.call(this,t,e)},e.once=function(t,e){c.once.call(this,t,e)},e.off=function(t,e){c.off.call(this,t,e)},e.listenTo=function(t,e,n){c.listenTo.call(this,t,e,n)},e.listenToOnce=function(t,e,n){c.listenToOnce.call(this,t,e,n)},e.stopListening=function(t,e,n){c.stopListening.call(this,t,e,n)},e.trigger=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];c.trigger.apply(this,[t].concat(n))},t.restore=function(t,e){Object.assign(e,t,{el:t.el||document.querySelector("#"+t.id)||document.documentElement});var n=new this(e);return n.isRestored=!0,n},i()(t,[{key:"$el",get:function(){return this._$el||(this._$el=o(this._el)),this._$el}}]),t}()},n73F:function(t,e,n){"use strict";var r,i,o,a,s,c,u=n("o0o1"),l=n.n(u),d=n("yXPU"),h=n.n(d),f=n("pVnL"),p=n.n(f),g=n("VbXa"),m=n.n(g),v=n("U+yc"),b=n.n(v),_=n("mdRN"),y=n("hKrz"),C=n("k/eQ"),O=n("K9S7"),S=n("iROX"),w=n("/bNA"),E=n("c+Ap"),k=n("t0kG"),j=n("o/z3"),T=n("aeY2"),x=n("Iv6v"),R=n("SUYq"),I=n("wYmg"),D=n("m2PT"),P=n("HpZU"),L=n("4RqY"),N=n("+r4z"),A=n("gLBg"),B=n("+3en"),M=n("y1pN"),F=n("3tUY"),U=n("kxd7"),z=["userBoards","userBoardsSidebar"],V=Object(L.a)(function(){var t=h()(l.a.mark(function t(e,n){var r,i,o,a,s,c;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.boardId,i=n.getState,n.di,o=n.dispatch,a=i(),t.next=5,Promise.all(z.map(function(t){if(a[t])return o(Object(U.a)({storeKey:t,id:r}))}));case 5:if(a=i(),s=Object(B.a)(a),c=Object(M.a)(a,s),Object(N.a)(a)!==A.a.BOARD||!s||s.id!==r||!c){t.next=10;break}return t.abrupt("return",o(Object(F.a)({url:Object(A.w)(c.login)})));case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}());n.d(e,"a",function(){return H});var H=(r=Object(_.a)({urlRoot:"/collections/api/boards/"}),i=Object(y.a)(),o=Object(O.a)(),a=Object(C.a)(),r(s=i(s=o((c=function(t){function e(){return t.apply(this,arguments)||this}m()(e,t);var n=e.prototype;return n.defaults=function(){return{title:"",is_new:!1,is_wishlist:!1,is_private:!1,complaint:null,stat:{fulfilled_count:0,cards_count:0,subscribers_count:0}}},n.initialize=function(t,e){var n=this,r=!e||!e.disableCreateNotification;this.on("change:owner",this.listenToOwner),this.on("change:title",this.checkValid),this.listenToOwner(),this.once("destroy",function(){n.set("id",null),w.a.showBoardRemoveMessage(n)}),this.once("save:create",function(t){t.showNotification=r,w.a.showBoardCreateMessage(n,t)}),this.once("save:update",function(){return w.a.showBoardUpdateMessage(n)}),this.on("change:subscription",function(t){var e=p()({},t,n.getSubscribeOptions());n.isSubscribed()?w.a.showBoardSubscribeMessage(n,e,t):w.a.showBoardUnsubscribeMessage(n,e,t)}),this.on("change",function(){var t=n.getEnv();t&&t.invokeStrategy(k.a.BoardToReduxStrategy,{board:n}).catch(function(t){console.error(t)})})},n.remove=function(e){var n=this,r=this.id;return t.prototype.remove.call(this,e).then(function(){var t=n.getEnv();return t&&r?t.dispatch(V({boardId:r})).then(function(){return n}):n})},n.listenToOwner=function(){var t=this,e=this.getOwner();e&&this.listenTo(e,"change:is_subscribed",function(){e===t.getOwner()&&t.setIsSubscribed(e.isSubscribed())})},n.setTitle=function(t){this.set("title",t)},n.getTitle=function(){return this.get("title")},n.getDescription=function(){return this.get("description")},n.setOwner=function(t){this.set("owner",t)},n.getOwner=function(){return this.get("owner")},n.setSlug=function(t){this.set("slug",t)},n.getSlug=function(){return this.get("slug")},n.getService=function(){return this.get("service")},n.isBanned=function(){return Boolean(this.get("ban"))},n.getStat=function(){return this.get("stat")},n.setStat=function(t){this.set("stat",t)},n.getGeo=function(){return this.get("geo")},n.getGeoBbox=function(){var t=this.getGeo();return t&&t.bbox},n.getGeoCenter=function(){var t=this.getGeo();return t&&t.center},n.getGeoCenterCoordinates=function(){var t=this.getGeoCenter();return t&&t.coordinates},n.getCardsCount=function(){return this.getStat()&&this.getStat().cards_count},n.getGeoCardsCount=function(){var t=this.getStat();return t&&t.geo_cards_count},n.getSubscribersCount=function(){return this.getStat()&&this.getStat().subscribers_count},n.setComplaint=function(t){this.set("complaint",t)},n.getComplaint=function(){return this.get("complaint")},n.hasComplaint=function(){return Boolean(this.getComplaint())},n.getFulfilledWishesCount=function(){return this.getStat()&&this.getStat().fulfilled_count},n.getActiveWishesCount=function(){return this.getCardsCount()-this.getFulfilledWishesCount()},n.isNewBoard=function(){return this.get("is_new")},n.isDefault=function(){return this.get("is_default")},n.isReadonly=function(){return Boolean(this.get("readonly"))},n.hasEmptyId=function(){return this.isDefault()&&!this.getService()},n.setIsNew=function(t){this.set("is_new",t)},n.getRecommendationsId=function(){return this.get("recommendations_id")},n.fetchBySlug=function(){var t=h()(l.a.mark(function t(e,n){var r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={url:this.urlRoot,data:{"owner.login":e,slug:n}},t.prev=1,t.next=4,this.fetch(r);case 4:return t.abrupt("return",t.sent);case 7:if(t.prev=7,t.t0=t.catch(1),!(400===t.t0.statusCode||t.t0.response&&400===t.t0.response.statusCode)){t.next=11;break}throw new S.f("Board not found",{login:e,slug:n});case 11:throw t.t0;case 12:case"end":return t.stop()}},t,this,[[1,7]])}));return function(){return t.apply(this,arguments)}}(),n.fetchWithThumbs=function(){return this.hasEmptyId()?Promise.resolve(this):this.fetch({data:{previews_count:E.T}})},n.fetchStat=function(){var t=this.getSlug(),e=this.getOwnerLogin();return this.fetchBySlug(e,t)},n.getCardPreviews=function(){return this.get("card_previews")},n.getFirstCardPreview=function(){var t=this.getCardPreviews();return t&&t[0]&&t[0].image},n.isMatchFilter=function(t){return!t||this.getTitle().toLowerCase().indexOf(t.toLowerCase())>-1},n.clone=function(){return t.prototype.clone.call(this).fillFrom(this)},n.fillFrom=function(t){return this.set(this.parse(t.toJSON())),this.setRequestAdapter(t.getRequestAdapter()),this},n.getShareImageUrl=function(){return Object(I.a)(this.getOwnerLogin(),this.getSlug())},n.getShareTitle=function(){return T.boardOGTitle({board_title:this.getTitle()})},n.getShareDescription=function(){return T.boardOGDescription({owner_login:this.getOwnerDisplayName()})},n.toSubscriptionJSON=function(){return{"board.id":this.id}},n.getOwnerId=function(){var t=this.getOwner();return t?t.getLogin():null},n.isWishlist=function(){return Boolean(this.get("is_wishlist"))},n.setPrivate=function(t){this.set("is_private",t)},n.isPrivate=function(){return this.get("is_private")},n.parse=function(t){var e=t;if(t.results&&(e=t.results[0]),e&&!e.id&&e.slug){var n=e.owner&&(e.owner.uid||e.owner.login);e.id=e.slug+"/"+(n||"-")}return e&&e.owner&&(e.owner=R.a.dataFactory(e.owner,{request:this.getRequestAdapter(),parse:!0})),e},n.getOwnerLogin=function(){var t=this.getOwner();return t&&t.getLogin()},n.getOwnerDisplayName=function(){var t=this.getOwner();return t&&t.getDisplayName()},n.checkValid=function(){return this.isValid(!0)},n.isValid=function(t){for(var e=this,n=[],r=[{name:"title",value:this.getTitle(),validator:D.a},{name:"description",value:this.getDescription(),validator:P.a}],i=0;i<r.length;i++){var o=r[i],a=o.name,s=o.value,c=(0,o.validator)(s);c.valid?this.trigger("validation:"+a+":success"):n.push({name:a,message:c.message})}return!n.length||(n.forEach(function(n){var r=n.name,i=n.message;e.trigger("validation:"+r+":error",i,null,t)}),!1)},n.duplicateNameError=function(){this.trigger("validation:title:error",j.boardCreateDuplicate)},n.triggerBoardTitleError=function(t){this.trigger("validation:title:error",t)},n.getReloadUrlParams=function(){return{name:"board",params:{login:this.getOwnerLogin(),slug:this.getSlug(),hintAction:E.F.boardSubscribe,hintTarget:this.getHintTarget()}}},n.getHintTarget=function(){return this.getSlug()},n.toJSON=function(){var e=t.prototype.toJSON.call(this),n=this.getOwner();return n&&n.toJSON&&(e.owner=n.toJSON()),e.title=String(e.title).trim(),e},n.updateCurrentBoard=function(t){var e=t.event.params;return e.slug,e.login,t.request,this},n.updateFavorites=function(t){return this.updateFavoritesBySlug(t,E.C)},n.updateFavoritesBySlug=function(t,e){var n=t.currentUser,r=t.request;if(this.setRequestAdapter(r),n&&n.isAuthorized()){var i=n.getLogin();return this.findFromCache(i,e)||this.fetchBySlug(n.getLogin(),e)}this.setPrivate(!0)},n.shouldBeCached=function(){var t=String(this.getId());return!t||-1===t.indexOf("/")},n.findFromCache=function(t,n){return e.findWhereInstanceFromCache(function(e){return e.getSlug()===n&&e.getOwnerLogin()===t&&-1===e.getId().indexOf("/")})},n.compare=function(t){return Boolean(t&&t.id===this.id)},e.restore=function(t){return this.dataFactory(t,{parse:!0})},e}(x.a),b()(c.prototype,"checkValid",[a],Object.getOwnPropertyDescriptor(c.prototype,"checkValid"),c.prototype),s=c))||s)||s)||s)},n7L5:function(t,e,n){"use strict";var r=n("9TW5");e.a=function(t){var e=this&&this.isRestored,n=e?r.cr:r.c;return(e?r.fr:r.f)([n()])}},nLlF:function(t,e,n){"use strict";var r=n("kQr1");e.a=r.a.applyDecls()},nNBK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("i1uP"),i=n("y6Xm"),o=n("EgTM"),a=Object(r.a)(o.a,Object(i.a)("description"))},nSPF:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("VbXa"),i=n.n(r),o=n("SiKM"),a=n("mdRN"),s=n("Iv6v"),c=n("qz1P"),u=n("SUYq"),l=n("/bNA"),d=n("c+Ap"),h=/@[^\s]+,$/,f=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.initialize=function(){var t=this;this.once("save:create",function(){return l.a.onCardCommentAdd(t)})},n.getCardId=function(){return this.get("card_id")},n.setOwner=function(t){this.set("owner",t)},n.getOwner=function(){return this.get("owner")},n.setText=function(t){this.set("text",t)},n.getText=function(){return this.get("text")},n.getService=function(){return this.get("service")},n.getCreatedDate=function(){return new Date(this.getService().created_at)},n.getOwnerLogin=function(){return this.getOwner().getLogin()},n.getOwnerName=function(){return this.getOwner().getDisplayName()},n.setComplaint=function(t){this.set("complaint",t)},n.getComplaint=function(){return this.get("complaint")},n.createComplaint=function(){var t=new c.a({comment:this,reason:d.t,type:d.o.COMMENT},{request:this.getRequestAdapter()});return this.setComplaint(t),t},n.inAnswerTo=function(t){var e=this.getText().trim();"@"!==e[0]?this.setText("@"+t+", "+e):e.match(h)&&this.setText("@"+t+", ")},n.setParent=function(t){this.set("parent",t)},n.isValid=function(){var t=this.getText().trim(),e=t.length>0,n=t.match(h);return e&&!n},n.parse=function(t){var e=this.getRequestAdapter();return!t.owner||t.owner instanceof u.a||(t.owner=u.a.dataFactory(t.owner,{parse:!0,request:e})),t},n.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=String(e.text).trim(),Object(o.omit)(e,"card","service","owner")},n.toViewJSON=function(){var e=t.prototype.toJSON.call(this),n=this.getOwner();return e.owner=n&&n.toJSON(),e},e}(s.a);Object(a.a)({urlRoot:"/collections/api/comments/",defaults:{text:"",card_id:null,complaint:null,owner:null,card:null,service:null}})(f)},nT9c:function(t,e,n){"use strict";function r(t){return Boolean(t&&function(t){return t&&"Android"===t.OSFamily}(t)&&"YandexSearch"===t.BrowserName)}n.d(e,"a",function(){return r})},njkS:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({feedback:"Зворотний зв’язок",help:"Допомога"})},nmYb:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("i1uP"),i=n("y6Xm"),o=n("lc+m"),a=Object(r.a)(o.a,Object(i.a)("reason"))},nt9X:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("IWXk"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("login"))},nu7y:function(t,e,n){"use strict";n("4DsO"),n("YAV3").a.applyDecls()},nw8a:function(t,e,n){t.exports=n.p+"f/c4f0.svg"},"o/z3":function(t,e,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),o=n("9TW5").e,a=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;t.exports=r({emptyCollectionName:"Колекція",favorites:"Вибране",bookFavorites:"Мои книги",geoFavorites:"Мои места",organizationFavorites:"Мои организации",imageFavorites:"Мої фотографії",videoFavorites:"Мої відео",seriesFavorites:"Мої серіали",filmFavorites:"Мої фільми",linkFavorites:"Мої посилання",boardEmptyFollowers:{v:"Підписувачів поки немає.<br>Підпишіться, щоб стати першим",r:function(t){return i.createElement(i.Fragment,null,"Підписувачів поки немає.",i.createElement("br",{}),"Підпишіться, щоб стати першим")},h:function(t){return(this.isRestored?c:s)(["Підписувачів поки немає.",(this.isRestored?a:o)("br","",{},[],{view:this}),"Підпишіться, щоб стати першим"])}},boardEmptyFollowersMine:"Тут ви будете бачити тих, хто підписаний на оновлення",blockedText:"Колекція заблокована, тому її бачите лише ви.",boardTitleEmpty:"Придумайте назву своїй колекції",boardTitleLong:"Назва не може бути такою довгою",boardDescriptionLong:"Спробуйте скоротити опис",boardCreateDuplicate:"Колекція з такою назвою у вас уже є",boardTitleIncorrect:"У назві колекції має бути принаймні одна літера чи цифра",hintSubscribe:"Тепер можна підписатися на колекцію",hintSubscribeDone:"Ви вже підписані на цю колекцію"})},o2E8:function(t,e,n){"use strict";function r(t){var e=t&&t.getFirstContent();return e&&e.getSourceType()}n.d(e,"a",function(){return r})},o4LV:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({label:"Реклама"})},o7PK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("i1uP"),i=n("y6Xm"),o=n("EgTM"),a=Object(r.a)(o.a,Object(i.a)("title"))},oBAa:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("lc+m"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("readonly"))},oEKO:function(t,e,n){"use strict";var r=n("tNHb");e.a=r.a.applyDecls()},oVcr:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({title:"Отменить добавление?",description:"Несохранённые данные будут утеряны",confirmLabel:"Вернуться",cancelLabel:"Не сохранять"})},oWpj:function(t,e,n){"use strict";function r(t){return Array.isArray(t)?t.join("."):String(t)}var i=n("V8C4");function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return[].concat.apply([],e)}n.d(e,"a",function(){return c});var a=Date.now(),s="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return Date.now()-a};function c(t,e){var n={},a=e.map(function(e){return r(o(t,e))});return function(e,c){var u=r(o(t,c));if(n[e]||(n[e]={}),n[e][u]=Math.round(s()),a.every(function(t){return n[e].hasOwnProperty(t)})){var l=a.map(function(t){return t+"="+n[e][t]}).join(",");i.d.velocityProcess({marks:l}),delete n[e]}}}},oXfe:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("4RqY"),l=n("gF9f"),d=n("Fe8d"),h=Object(u.a)(function(){var t=c()(i.a.mark(function t(e,n){var r,o,s,c,u,h,f,p,g,m,v,b;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.payload,o=e.navigate,s=e.scrollToTop,c=void 0===s||s,u=n.getState,h=n.di,f=n.dispatch,t.next=4,h("router");case 4:p=t.sent,g=u(),m=g&&g.event,v=r,f(Object(l.a)(a()({},g,{event:a()({},m,{query:v})}))),c&&(b=document.body.scrollTop||document.documentElement.scrollTop,Object(d.a)({duration:250,step:function(t){return window.scrollTo(0,(1-t)*b)}})),p.navigateToReverse(p.getLastEvent().name,v,a()({trigger:!1},o));case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},ol8y:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("izju"),i=n("AGq3"),o=Object(i.a)(r.a.VIDEO,"_url/video")},om3R:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("i1uP"),i=n("lc+m"),o=Object(r.a)(i.a,function(t){if(t&&t.content){if(!t.selected_contents)return t.content[0];var e=t.selected_contents[0];if(e)return t.content.find(function(t){return t.id===e})}})},pJdu:function(t,e,n){"use strict";n.d(e,"a",function(){return B});var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("JxqJ"),s=n("2Y2+"),c=n("6ga4"),u=n("JmCj"),l=n("ej5N"),d=n("RWwA"),h=n("UQOb"),f=n("FfN0"),p=n("lPPs"),g=n("MTjZ"),m=n("feaw"),v=n("x9gI"),b=n("xFYi"),_=n("8z4Y"),y=n("CFJC"),C=n("RouB"),O=n("ICaW"),S=n("U+nm"),w=n("JFDR"),E=n("bImc"),k=n("pUV+"),j=n("5/dx"),T=n("Tgrg"),x=n("Mycy"),R=n("hyoc"),I=n("W/Tm"),D=n("SAMx"),P=n("W/pO"),L=n("fFoT"),N=n("EuEB"),A=n("45c2"),B=Object(a.a)(function(t,e){var n=e.boardId;if(!n)return{};var r=Object(g.a)(t),i=Object(u.a)(t,n),o=Object(v.a)(t,O.d.COLLECTIONS_PICTURE_TEASER_SINGLE_GRID),a=i.board,s=i.owner,c=!1;if(a){var l=Object(C.a)(r),d=Object(_.a)(a),h=Boolean(a.ban||a.complaint),f=Object(b.a)(a);c=Boolean(l&&!d&&f&&!h)}return{board:a,owner:s,showCtrl:Boolean(e.showCtrl&&s&&s.id!==r.id),isSinglePicture:Boolean(o&&a&&Object(m.a)(a)),unlockVisible:c}})(function(t,e){var n=e.counter,r=t.fixed,a=t.column,u=t.compact,g=void 0===u||u,m=t.showOwner,v=t.board,_=t.owner,C=t.showCtrl,O=t.isSinglePicture,B=t.unlockVisible,M=t.dispatch,F=t.index,U=t.itemRef;if(!v){var z=o.createElement(P.a,{mod:"board-grid-teaser",mods:{fixed:r,user:m},avatar:m,title:!0,desc:m});return o.createElement(j.a,{mod:"board-grid",mods:{placeholder:!0,fixed:r,column:a,compact:g&&[!0,"empty"]},picture:!0,footer:z,itemRef:U})}var V,H=Object(p.a)(v),W=Object(b.a)(v),q=Object(l.a)(v),K=q&&q.length,G=Object(d.a)(v),Y=Object(y.a)(G),X=Object(h.a)(v),J=Object(f.a)(v)||0,Q=g&&!Boolean(K),Z=Boolean(m&&_)&&o.createElement(L.a,{mod:"board-grid-teaser",userId:_.id}),$=Boolean(C&&_)&&o.createElement(R.a,{mods:{ei:!0,shadow:r,shape:"round"},subValue:J,id:v.id,storeKey:"boards"});return V=O?o.createElement(x.a,{id:v.id,stateKey:"boards",srcSize:"h200",srcSetSize:"orig",count:X}):o.createElement(T.a,{pictures:q,count:X,column:a||Y,compact:g}),o.createElement(j.a,{mod:"board-grid",mods:{fixed:r,column:a||Y,compact:g&&[!0,K?"fr-"+K:"empty"],imageholder:Q},imageholder:Q&&o.createElement(I.a,{index:F}),picture:V,footer:o.createElement(D.a,{mod:"board-grid-teaser",mods:{fixed:r,user:m},avatar:Z,title:H,hasLock:W,lock:o.createElement("div",{className:Object(c.a)("cl-teaser-info__side",{clickable:!0})},B?o.createElement(k.a,{boardId:v.id,Button:function(t){var e=t.onClick;return o.createElement(E.a,{props:{onClick:e},iconMods:{"lock-10x12":!0}})}}):o.createElement(E.a,{iconMods:{"lock-10x12":!0},props:{onClick:function(){return M(Object(S.a)({boardId:v.id,counter:n}))}}}))},Boolean(m&&_)&&o.createElement("ul",{className:Object(c.a)("dot-list",{size:"S",teaser:!0,fixed:!0})},o.createElement("li",{className:"dot-list__item"},o.createElement(N.a,{mod:"board-grid-teaser",size:"S",userId:_.id,color:"grey"})),r&&o.createElement("li",{className:"dot-list__item"},o.createElement("span",{className:"dot-list__text"},A.followers({count:Object(s.a)(J)}))))),ctrl:C?$:null,linkFactory:function(t){return o.createElement(w.a,i()({boardId:v.id},t))},itemRef:U})})},pLEp:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("sioy"),i=n("gQdx"),o=n("aKBe"),a=n("ZK//"),s=n("73/6"),c={users:r.a,boards:i.a,cards:o.a,channels:s.a,contests:a.a};function u(t){var e=function(e){var n=e.dispatch,r=e.getState,i=e.setState,o=c[t.storeKey];o&&o(t)({dispatch:n,getState:r,setState:i})};return e.data=t,e}},"pUV+":function(t,e,n){"use strict";var r,i,o,a,s,c=n("pVnL"),u=n.n(c),l=n("VbXa"),d=n.n(l),h=n("U+yc"),f=n.n(h),p=n("cDcd"),g=n("8OQS"),m=n.n(g),v=n("JxqJ"),b=n("6ga4"),_=n("LH8O"),y=n("OWM9"),C=n("rreP"),O=n("M6fM"),S=(n("CDOP"),n("vN9D").a.applyDecls()),w=n("irYq"),E=n("BMkj"),k=n("ukm6"),j=(r=Object(_.a)(),i=function(t){function e(){return t.apply(this,arguments)||this}d()(e,t);var n=e.prototype;return n.unlockBoard=function(){var t=this.props,e=t.boardId,n=t.dispatch;n(Object(y.a)({id:e})).then(function(t){t&&n(Object(C.a)({message:E.notify()}))})},n.render=function(){var t=this.props,e=t.hideTooltip,n=m()(t,["hideTooltip"]);return e&&n.onOutsideClick&&n.onOutsideClick(),n.visible&&p.createElement(S,u()({theme:"promo",size:"m",view:"classic",tone:"default",autoclosable:!0,to:["bottom-left","left-top","right-top","top-left"],cls:Object(b.a)("tooltip",{confirm:!0})},n),p.createElement(S.Description,null,E.description()),p.createElement(S.Buttons,null,p.createElement(O.a,{view:"classic",tone:"default",size:"s",theme:"action",text:w.open(),onClick:this.unlockBoard})))},e}(p.Component),f()(i.prototype,"unlockBoard",[r],Object.getOwnPropertyDescriptor(i.prototype,"unlockBoard"),i.prototype),i),T=Object(v.a)(function(t){var e=Object(k.a)(t).modal;return{hideTooltip:Boolean(e)}})(j),x=n("V8C4");n.d(e,"a",function(){return R});var R=(o=Object(_.a)(),a=Object(_.a)(),s=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={visibleConfirm:!1,buttonRef:null},e}d()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.buttonRef&&this.setState({buttonRef:this.buttonRef})},n.onClick=function(){var t=this.props.boardId,e=this.context.counter;x.d.clickBoardUnlock(u()({},e,{boardId:t})),this.setState({visibleConfirm:!this.state.visibleConfirm})},n.onOutsideClick=function(){this.setState({visibleConfirm:!1})},n.render=function(){var t=this,e=this.props,n=e.boardId,r=e.Button,i=this.state.visibleConfirm;return p.createElement("div",{ref:function(e){return t.buttonRef=e}},p.createElement(r,{onClick:this.onClick}),p.createElement(T,{visible:i,boardId:n,anchor:this.buttonRef,onOutsideClick:this.onOutsideClick}))},e}(p.Component),f()(s.prototype,"onClick",[o],Object.getOwnPropertyDescriptor(s.prototype,"onClick"),s.prototype),f()(s.prototype,"onOutsideClick",[a],Object.getOwnPropertyDescriptor(s.prototype,"onOutsideClick"),s.prototype),s)},pgbU:function(t,e,n){"use strict";function r(t){return!t||!t.items||Array.prototype.filter.call(t.items,function(t){return"file"===t.kind?t.type.match(/^image\//):"string"===t.kind?t.type.match(/^text\//):void 0}).length>0}n.d(e,"a",function(){return r})},pjSu:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("pVnL"),i=n.n(r),o=n("q/UM");function a(t,e){return function(n,r){var a;return Object(o.a)(n,((a={})[t]=i()({},e(n),r),a))}}},pjiQ:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({removeCardReadonlyDisallowed:"Закладки не можна видаляти в Колекціях"})},pnMn:function(t,e,n){"use strict";function r(){return document.body.scrollTop||document.documentElement.scrollTop}n.d(e,"a",function(){return r})},prdO:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({userVerified:"Підтверджений користувач"})},pryo:function(t,e,n){"use strict";n.d(e,"a",function(){return w});var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("4RqY"),l=n("lc+m"),d=n("1WnH"),h=n("QodL"),f=n("y144"),p=n("Kj4u"),g=n("+XmN"),m=n("RouB"),v=n("MTjZ"),b=n("xalX"),_=n("zc+8"),y=n("V8C4"),C=n("785c"),O=n("x9gI"),S=n("ICaW"),w=Object(u.a)(function(){var t=c()(i.a.mark(function t(e,n){var r,o,s,c,u,w,E;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.dispatch,o=n.getState,s=e&&e.cardId,c=e&&e.type,u=o(),Object(m.a)(Object(v.a)(u))){t.next=6;break}return t.abrupt("return",r(Object(g.a)({})));case 6:if(!s){t.next=15;break}if(w=Object(l.a)(u,s)){t.next=12;break}return t.next=11,r(Object(p.a)({cardId:s}));case 11:w=Object(l.a)(o(),s);case 12:w&&(E=w.content||[],r(Object(f.a)({force:!0,value:a()({},Object(b.a)(w),{id:void 0,original_id:w.id,selected_contents:E.map(function(t){return t.id}),preview_content:E[0].id})})),Object(O.a)(u,S.d.COLLECTIONS_DESKTOP_ADD_EDIT)?"edit"===c?(r(Object(_.h)()),y.d.clickCardEdit({cardId:w.id})):(r(Object(_.k)()),y.d.clickCardMove({cardId:w.id})):r(Object(_.k)())),t.next=16;break;case 15:r(Object(_.g)());case 16:return t.abrupt("return",r(Object(d.a)({type:h.a.ADD_CARD,id:"add_card",options:{uiKey:C.a}})));case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},pvK7:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("rpX3"),i=Object(r.a)("boardRecent",{scrolled:0})},pzCj:function(t,e,n){"use strict";function r(t){return t&&t.content&&t.content.avatars_key}n.d(e,"a",function(){return r})},"q/UM":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("pVnL"),i=n.n(r),o=n("ukm6");function a(t,e){var n=Object(o.a)(t);return i()({},t,{ui:i()({},n,e)})}},qAEN:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){return t[t[e="SUCCESS"]="SUCCESS"]=e,t[t[e="FAILURE"]="FAILURE"]=e,t[t[e="QUEUED"]="QUEUED"]=e,t}({})},qKPy:function(t,e,n){"use strict";var r,i=n("pVnL"),o=n.n(i),a=n("BpHA"),s=n("/FHb");n.d(e,"a",function(){return u});var c=((r={})[a.c]=function(t){if(t.ingredients_exclude){var e=t.ingredients||[];e=[].concat(e,t.ingredients_exclude.map(function(t){return"-"+t})),t=o()({},t,{ingredients:e,ingredients_exclude:void 0})}return t},r[a.d]=s.b,r);function u(t,e){void 0===e&&(e={});var n=o()({},e,{vertical:t}),r=c[t];return r?r(n):n}},qNh9:function(t,e,n){"use strict";n("A4mO").a.applyDecls()},"qQ+z":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("cDcd"),i=n("GhlN"),o=function(t){var e=t.media,n=t.mediaSize,o=void 0===n?"M":n,a=t.labelSize,s=void 0===a?"M":a,c=t.labelType,u=t.labelPosition,l=t.labelValue,d=t.labelSub,h=t.isOuterLabelHidden;return l||c||e?h&&"outer"===c?null:r.createElement(r.Fragment,null,(l||c)&&r.createElement("span",{className:Object(i.a)("cl-teaser__label",{size:s,type:c,position:u})},l,d&&r.createElement("b",null,d)),e&&r.createElement("span",{className:Object(i.a)("cl-teaser__media",{size:o})})):null}},qTqY:function(t,e,n){"use strict";function r(t,e){var n=t&&t[e];return Boolean(n&&(n._loading||n._errorLoading))}n.d(e,"a",function(){return r})},qhbX:function(t,e,n){"use strict";n.d(e,"a",function(){return T});var r=n("pVnL"),i=n.n(r),o=n("o0o1"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("/bNA"),l=n("4RqY"),d=n("aKBe"),h=n("sioy"),f=n("V8C4"),p=n("lc+m"),g=n("MTjZ"),m=n("cX81"),v=n("+mVu"),b=n("Kj4u"),_=n("c+Ap"),y=n("Jxqj"),C=n("CsIx"),O=n("gLBg"),S=n("+XmN"),w="/collections/api/likes/",E={};function k(t,e){var n=Object(v.a)(t,e);m.a.dataFactory(n,{parse:!0}).set({is_liked:n.is_liked,stat:n.stat})}function j(){return function(){return c()(a.a.mark(function t(e,n){var r,o,s,c,l,m,v,E,j,T,x,R,I,D;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.id,o=e.isLiked,s=e.counter,c=n.di,l=n.dispatch,m=n.getState,v=Object(p.a)(m(),r)){t.next=7;break}return t.next=6,l(Object(b.a)({cardId:r}));case 6:v=Object(p.a)(m(),r);case 7:if(v){t.next=9;break}throw new Error("Card not found with id "+r);case 9:if(E=Object(y.a)(m(),r),!Object(C.a)(E)){t.next=14;break}return j={route:O.a.CARD,params:{id:r}},t.abrupt("return",l(Object(S.a)({counter:s,retpath:j})));case 14:if(T=v.stat.likes_count,x=Math.max(0,T+(o?1:-1)),l(Object(d.a)({id:r,value:{is_liked:o,stat:i()({},v.stat,{likes_count:x})}})),k(m(),r),s=i()({},s,{liked:o,cardId:r}),f.d.clickCardLike(s),R=c("request"),t.prev=21,!o){t.next=27;break}return t.next=25,R.post(w,{card:r});case 25:t.next=29;break;case 27:return t.next=29,R.del(w,{card:r});case 29:t.next=38;break;case 31:if(t.prev=31,t.t0=t.catch(21),t.t0.status===_.G.DUPLICATE){t.next=38;break}throw l(Object(d.a)({id:r,value:{is_liked:!o,stat:i()({},v.stat,{likes_count:T})}})),k(m(),r),u.a.showXHRMessage(t.t0),t.t0;case 38:I=Object(g.a)(m()),D=Math.max(0,I.stats.own_likes+(o?1:-1)),I.id&&l(Object(h.a)({id:I.id,value:{stats:i()({},I.stats,{own_likes:D})}})),f.d.finishCardLike(s);case 42:case"end":return t.stop()}},t,this,[[21,31]])})).apply(this,arguments)}.apply(this,arguments)}var T=Object(l.a)(function(){var t=c()(a.a.mark(function t(e,n){var r,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.id,!E[r]){t.next=3;break}return t.abrupt("return",E[r]);case 3:return i=j(e,n),E[r]=i.then(function(t){return delete E[r],t},function(t){throw delete E[r],t}),t.abrupt("return",i);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},qtAy:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("3lXt"),l=n("NFKc"),d=n("euOF"),h=n("7/cf"),f=n("V8C4"),p=n("rANK"),g=n("RWwA"),m=n("+mVu"),v=n("cX81"),b=Object(l.a)("request",function(){var t=c()(i.a.mark(function t(e,n,r){var o,s,c,l,b,_,y,C,O,S,w,E,k,j,T,x,R;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.boardId,s=n.counter,c=r.getState,l=r.di,b=c(),_=Object(u.a)(b,o),y=Object(h.b)(b),C=Object(d.a)(b,o),!y){t.next=42;break}if(O="current-card-temp"===y.id?y.original_id:y.id,S=function(t){t&&t.id&&f.d.finishCardMove(a()({},s,{isDefault:Object(p.a)(b,o),cardId:t.id}))},!O||O===y.doc_id||"current-card-temp"===O){t.next=29;break}return E=a()({board_id:C?null:_.id},C?{board_source_type:Object(g.a)(_)}:void 0),t.prev=11,t.next=14,e.patch("/collections/api/v1.0/cards/"+O+"/",E);case 14:w=t.sent,t.next=20;break;case 17:throw t.prev=17,t.t0=t.catch(11),t.t0;case 20:return S(w),t.next=23,l("CardPopupState");case 23:return k=t.sent,(j=k.getCard())&&j.id===w.id&&(T=Object(m.a)(c(),w.id),k.setCard(v.a.dataFactory(T,{request:e,parse:!0}))),t.abrupt("return",w);case 29:if(!y.task_id&&!y.taskId){t.next=42;break}return R=a()({task_id:y.task_id||y.taskId},C?{}:{board:_.id}),t.prev=31,t.next=34,e.post("/collections/api/favorites/cards/move/",R);case 34:x=t.sent,t.next=40;break;case 37:throw t.prev=37,t.t1=t.catch(31),t.t1;case 40:return S(x),t.abrupt("return",x);case 42:throw new Error("No card to move");case 43:case"end":return t.stop()}},t,this,[[11,17],[31,37]])}));return function(){return t.apply(this,arguments)}}())},qz1P:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("VbXa"),i=n.n(r),o=n("Iv6v"),a=n("mdRN"),s=n("c+Ap"),c=n("/bNA"),u=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.defaults=function(){return{board:null,card:null,comment:null,type:"",reason:""}},n.toJSON=function(){var t=this.getType(),e={};return t===s.o.CARD?e.card_id=this.getCardId():t===s.o.BOARD?e.board_id=this.getBoardId():t===s.o.COMMENT&&(e.comment_id=this.getCommentId()),e.reason=this.getReason(),e},n.getReason=function(){return this.get("reason")},n.setReason=function(t){this.set("reason",t)},n.getType=function(){return this.get("type")},n.setType=function(t){this.set("type",t)},n.setCard=function(t){return this.set("card",t)},n.getCard=function(){return this.get("card")},n.getCardId=function(){return this.getCard().getId()},n.setBoard=function(t){return this.set("board",t)},n.getBoard=function(){return this.get("board")},n.getBoardId=function(){return this.getBoard().getId()},n.getComment=function(){return this.get("comment")},n.getCommentId=function(){return this.getComment().getId()},n.save=function(){return t.prototype.save.call(this,null,{patch:!0}).then(this.onSaveSuccess.bind(this))},n.onSaveSuccess=function(){var t=this.getType();this.get(t).setComplaint(this),"comment"!==t&&c.a.showComplaintMessage()},e}(o.a);Object(a.a)({urlRoot:"/collections/api/complain/"})(u)},"r/pQ":function(t,e,n){"use strict";n("IAoT"),n("gFRy");var r=n("BPL4");e.a=r.a.applyDecls()},"r/yX":function(t,e,n){"use strict";function r(t){return Boolean(t&&t.id&&t.id.indexOf("fake")>=0)}n.d(e,"a",function(){return r})},r1Wy:function(t,e,n){"use strict";var r=n("Q1O+"),i=n("9TW5"),o=n("xMyQ");function a(t,e){return t&&e&&-1!==e.indexOf(t)}var s=n("Ahwa");e.a=function(t){var e=this&&this.isRestored,n=e?i.er:i.e,c=e?i.sr:i.s;return(e?i.fr:i.f)([t.icon?[n("span","",Object(i.assign)({class:Object(i.j)(["button__icon",r.a.call(t,t.iconMod?[t.iconMod]:t.iconMods,{hash:{},data:{view:this},fn:function(t){return t?Object(i.j)([" button__icon_",t]):""}})])},t.hasIconUrl?{style:Object(i.j)([" background-image:url(",Object(o.a)(t.icon),"); "+(t.bgsize?Object(i.j)(["background-size: ",t.bgsize,"px;"]):"")])}:{}),[])]:[]," ",t.fontello?[n("span",Object(i.j)(["icon-",t.fontello]),{},[])]:[]," ","check"==t.mode?[n("input","",Object(i.assign)({type:"checkbox",name:t.name,value:t.value},t.checked?{checked:""}:{}),[])]:[]," ","radio"==t.mode?[n("input","",Object(i.assign)({type:"radio",name:t.name,value:t.value},t.checked?{checked:""}:{}),[])]:[]," ","file"==t.mode?[n("input","",Object(i.assign)({type:"file",name:t.name},t.disabled?{disabled:""}:{}),[])]:[]," ","toggle"==t.mode?[n("input","",Object(i.assign)({type:"checkbox",name:t.name,value:t.value},t.checked?{checked:""}:{}),[])]:[]," ",n("span","button__label",{},[t.label])," ",a.call(t,t.mode,"dropdown,dropup,next,back",{hash:{},data:{view:this}})?[n("span","button__arrow",{},[])]:[]," ",c(s.a.call(t,{data:{view:this}}))])}},r3J5:function(t,e,n){"use strict";var r=n("sUFg");e.a=r.a.applyDecls()},r7Cx:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("pVnL"),i=n.n(r),o=n("VbXa"),a=n.n(o),s=n("mdRN"),c=n("U60d"),u=n("NDfO"),l=n("UO52"),d=n("r1Wy"),h=function(t){function e(){return t.apply(this,arguments)||this}a()(e,t);var n=e.prototype;return n._constructor=function(e){this.initOptions(e),this.initDefaultModel(),t.prototype._constructor.call(this,this.options)},n.tagName=function(){var t=this.options;return t.tagName?t.tagName:t.href?"a":"file"===this.getOption("mode")?"span":"button"},n.className=function(){return Object(u.a)("button",["disabled","size","type","mode","icon-only","shape","pin","load"],this.options)},n.attributes=function(){var t=this.options;t.hasIconUrl=!0!==t.icon;var e=l.a.builder(["title","target","href","rel","download"],t);return l.a.style(l.a.width(t),e),e},n.onClick=function(t){var e,n=this.getOption("method");if(n)return this.getOption("preventDefault")&&t.preventDefault(),this.getOption("stopPropagation")&&t.stopPropagation(),e="function"==typeof n?n():this.model[n](),this.handleResult(e,this.successHandler.bind(this),this.failHandler.bind(this))},n.handleResult=function(t,e,n){return t&&"function"==typeof t.then&&this.options.loadOnPromise&&(this.startLoading(),t=t.then(e,n)),t},n.startLoading=function(){this.isDestroyed||(this.$el.addClass(this.options.loadingClass),this.ui.label.html(this.options.loadingLabel||this.options.label))},n.successHandler=function(){this.isDestroyed||(this.$el.removeClass(this.options.loadingClass).addClass(this.options.successClass),this.ui.label.html(this.options.successLabel||this.options.label))},n.failHandler=function(){this.isDestroyed||(this.$el.removeClass(this.options.loadingClass).addClass(this.options.errorClass),this.ui.label.html(this.options.errorLabel||this.options.label))},n.serializeData=function(){return i()({},this.options)},e}(c.a);Object(s.a)({template:d.a,events:{click:"onClick"},options:{method:"",preventDefault:!0,stopPropagation:!0,loadingClass:"button_load",successClass:"button_success",errorClass:"button_error",size:"M",type:"normal"},ui:{label:"> .button__label"}})(h)},rANK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("3lXt"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("is_default",!1))},rSuW:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({interiorsTitle:"Підбирання інтер’єру",hairstylesTitle:"Підбирання зачіски",foodTitle:"Підбирання рецепта",foodText:"Назва страви",foodIngredients:"Інгредієнти",foodIngredientsExclude:"Виключені",foodCookingTime:"Час на приготування",foodCuisines:"Кухні",foodCuisinesTop:"Популярні кухні",foodCuisinesSuggestPlaceholder:"Яку кухню ви шукаєте?",foodTypes:"Тип страви",foodMealtime:"Коли подається страва",foodEvent:"Привід",foodAllergies:"Алергени",foodDiets:"Системи харчування",hairstylesTarget:"Кому",hairstylesLength:"Довжина",hairstylesColor:"Колір",videoGamesPlatforms:"Платформа",videoGamesGenres:"Жанри",videoGamesRating:"Рейтинг",videoGamesPrice:"Вартість",videoGamesReleaseYear:"Рік випуску",videoGamesModes:"Режим",videoGamesAgeLimits:"Вікові обмеження",foodIngredientsExcludePreferences:"Виключіть інгредієнти",foodIngredientsExcludePlaceholderPreferences:"Наприклад, морепродукти",foodAllergiesPreferences:"Алергени",foodDietsPreferences:"Системи харчування",interiorsRoom:"Кімната",interiorsFurniture:"Меблі"})},rT8E:function(t,e,n){"use strict";function r(t){return t?t.source_type:void 0}n.d(e,"a",function(){return r})},rVhC:function(t,e,n){"use strict";var r,i,o,a,s,c,u,l,d,h,f,p=n("o0o1"),g=n.n(p),m=n("yXPU"),v=n.n(m),b=n("pVnL"),_=n.n(b),y=n("W8MJ"),C=n.n(y),O=n("VbXa"),S=n.n(O),w=n("U+yc"),E=n.n(w),k=n("cDcd"),j=n("JxqJ"),T=n("LH8O"),x=n("pllQ"),R=n("Pm7h"),I=n("XPFG"),D=n("pnMn"),P=n("7r1C"),L=n("MBmZ"),N=n("ukm6"),A=n("c+Ap"),B=n("CYZy"),M=n("1ZVK"),F=n("XZwp"),U=n("V8C4"),z=Object(F.a)(["loc","feedSessionId","cardsSessionId"],"cardIds",U.d.viewCards),V=Object(F.a)(["loc","feedSessionId","cardsSessionId"],"channelIds",U.d.viewChannels),H=Object(F.a)(["loc","feedSessionId","cardsSessionId"],"boardIds",U.d.viewBoards),W=n("+POQ"),q=(r=[{type:B.a.CARD,logger:function(t,e){var n=t.map(function(t){return t.item.id}).filter(Boolean);z(_()({},e,{cardIds:n}))}},{type:B.a.BOARD,logger:function(t,e){var n=t.map(function(t){return t.item.id}).filter(Boolean);H(_()({},e,{boardIds:n}))}},{type:B.a.CHANNEL,logger:function(t,e){var n=t.map(function(t){return t.item.slug}).filter(Boolean);V(_()({},e,{channelIds:n}))}}],i={},{log:function(t,e){for(var n={},o=0;o<t.length;o++){var a=t[o],s=a.type;i[s]||(i[s]={}),i[s][a.id]||(i[s][a.id]=!0,n[s]||(n[s]=[]),n[s].push(a))}for(var c=0;c<r.length;c++){var u=r[c].type;n[u]&&n[u].length&&r[c].logger(n[u],e)}},reset:function(){i={}}}),K=n("Oaat"),G=n("x9gI"),Y=n("ICaW"),X=function(t,e){return t[t[e="TIMEOUT"]="timeout"]=e,t[t[e="PROPERLY"]="properly"]=e,t}({}),J=n("G7p/");n.d(e,"a",function(){return tt});var Q={passive:!0,capture:!1},Z=!0;setTimeout(function(){Z=!1},5e3);var $=(o=Object(T.a)(),a=Object(T.a)(),s=Object(T.a)(),c=Object(T.a)(),u=Object(T.a)(),l=Object(T.a)(),d=Object(T.a)(),h=Object(T.a)(),f=function(t){function e(){for(var e,n,r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).state={footer:!1,scrollTop:0,ver:0},e.fetchInProgress=!1,e.failureFetchRequest=!1,e.isOnline=e.props.isOnline,e.footerOffset=e.props.footerInterval||0,e.dirtyScroll=!0,e.ignoreOverflow=e.props.ignoreOverflow,e.itemElements={},e.grid=e.props.grid,e.countersLogger=e.props.countersLogger||(n=Object(W.a)(),r=q,{track:function(t,e){n.track(t,e),r.log(t.map(function(t){return t.item}),e)},reset:function(){n.reset(),r.reset()}}),e.renderPlanned=!1,e.isPrevFullScreen=!1,e.lastItemsSlice={},e.afterRenderTasks=[],e}S()(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.ttiLock=this.props.isSecondPageExp&&Z,this.scrollElement=this.props.scrollElement?this.props.scrollElement:window,this.scrollElement.addEventListener("scroll",this.onScroll,Q),document.addEventListener("visibilitychange",this.trackCounters),window.addEventListener("beforeunload",this.sendCounters),this.runAfterRenderTasks(),this.props.items.length||setTimeout(function(){t.fetchNextPage()}),this.unsubscribe=function(t){var e=t.fontFamily,n=t.onLoad,r=t.timeout,i=void 0===r?1e4:r,o=!1,a=document.createElement("div");a.style.cssText="display:inline;position:absolute;top:-999px;left:-999px;pointer-events:none;font-size:48px;line-height:1em;visibility:hidden;",a.style.fontFamily='"'+e+'", serif',a.innerText="AxmTYklsjo190QW",window.document.body.appendChild(a);var s=a.clientWidth,c=setTimeout(function(){u(X.TIMEOUT)},i);function u(t){o=!0,n(t),window.document.body.removeChild(a)}return function t(){if(!o)return s!==a.clientWidth?(clearTimeout(c),void u(X.PROPERLY)):void requestAnimationFrame(t)}(),function(){clearTimeout(c),o=!0}}({fontFamily:"YS Text",onLoad:function(){t.renderNextVer()}}),this.trackCounters()},n.componentWillUnmount=function(){this.scrollElement.removeEventListener("scroll",this.onScroll,Q),this.countersLogger.reset(),document.removeEventListener("visibilitychange",this.trackCounters),window.removeEventListener("beforeunload",this.sendCounters),this.sendCounters(),clearInterval(this.positionCheckerInterval)},n.componentWillReceiveProps=function(t){this.itemsUpdated=this.fetchInProgress&&t.items!==this.props.items,t.isOnline!==this.props.isOnline&&(this.isOnline=t.isOnline,this.isOnline&&this.checkScrollPosition())},n.componentDidUpdate=function(){var t=this,e=this.props,n=e.rum,r=e.currentItem;if(this.itemsUpdated&&n&&(this.itemsUpdated=!1,n.render&&n.render()),this.grid.applyScrollAfterRender&&this.scrollTo(this.grid.scrollPosition),this.runAfterRenderTasks(),this.isOverflow&&r){var i=this.grid.getCachedPosition(r);if(i){var o=this.scrollTop,a=this.props.windowHeight||0;(i.top<o||i.top+i.height>o+a)&&(this._virtualScroll=i.top-a/2+i.height/2)}}this.grid.collectPositions()&&this.renderNextVerDeferred(),this.props.items.length||this.props.isLoaded||setTimeout(function(){t.fetchNextPage()}),this.trackCounters(),this.grid.dirty&&this.renderNextVerDeferred()},n.runAfterRenderTasks=function(){this.afterRenderTasks.length&&(this.afterRenderTasks.forEach(function(t){return t()}),this.afterRenderTasks=[],this.renderNextVerDeferred()),this.props.footerInterval&&this.checkFooter()},n.shouldComponentUpdate=function(t){var e=this,n=t.isOverflow,r=t.items,i=t.itemsSlice;if(document.fullscreenElement||document.webkitFullscreenElement)return this.isPrevFullScreen=!0,!1;if(this.isPrevFullScreen&&0===this._scrollTop)return!1;this.isPrevFullScreen=!1,this.isOverflow!==n&&(this.isOverflow=n,!this.ignoreOverflow&&n?this._virtualScroll=this._scrollTop:void 0!==this._virtualScroll&&(this._scrollTop=this._virtualScroll,this._virtualScroll=0,this.dirtyScroll=!0,window.scrollTo(0,this._scrollTop)));var o=[];return r.forEach(function(t){i[t.id]!==e.lastItemsSlice[t.id]&&o.push(t)}),!(o.length&&!this.changedItems&&(this.changedItems=o,this.lastItemsSlice=_()({},this.lastItemsSlice,i),this.awaitUntilConnect(function(){e.renderNextVer()}),1))},n.render=function(){var t=this.grid,e=this.changedItems,n=this.props,r=n.footer,i=n.isLoaded,o=n.shaker,a=n.Items,s=n.empty,c=n.items,u=n.initColumns,l=void 0===u?0:u;this.query&&this.query!==this.props.query&&(t.reset(),this.sendCounters()),this.query=this.props.query;for(var d=0;d<c.length;d++){var h=c[d];h.ref&&this.itemElements[h.id]||(h.ref=this.savePosition.bind(this,h))}t.windowWidth=this.props.windowWidth,t.windowHeight=this.props.windowHeight,t.isLoaded=i,t.scrollTop=this.scrollTop,t.getPosition=this.getItemPosition.bind(this),t.items=c,e&&e.length&&(t.invalidateItems(e),this.changedItems=void 0),l&&t.columnsCount>c.length&&i&&(l=t.columnsCount),t.initColumns=l;var f=t.columns,p=this.state.footer&&!i;if(this.renderPlanned=!1,!c.length&&s)return s();var g=t.invisibleColumns;if(g)for(var m=0;m<g.length;m++)for(var v=g[m],b=0;b<v.items.length;b++){var _=v.items[b];_.ref=this.savePosition.bind(this,_)}return k.createElement(a,{id:o.id,columns:f,virtualColumns:g,overflow:p,initColumns:l,height:p?this.footerOffset:this.grid.containerHeight,more:Boolean(r&&(this.state.footer||i)),stateKey:this.props.itemsKey,options:this.props.options,containerRef:this.saveContainerPosition},(this.state.footer||i)&&r&&r(i?void 0:this.loadMore))},n.renderNextVer=function(){this.setState(function(t){return{ver:t.ver+1}})},n.renderNextVerDeferred=function(){var t=this;this.renderPlanned||(this.renderPlanned=!0,Object(J.a)(function(){return t.renderNextVer()},1e3))},n.getCurrentScroll=function(){return this.scrollElement instanceof Element?this.scrollElement.scrollTop:this.isOverflow?0:Object(D.a)()},n.scrollTo=function(t){this.dirtyScroll=!0,this._scrollTop=t,this.scrollElement instanceof Element?this.scrollElement.scrollTop=t:window.scrollTo(0,t)},n.saveContainerPosition=function(t,e){var n=this;void 0===e&&(e=!1),t!==this.container&&(clearInterval(this.positionCheckerInterval),this.positionCheckerInterval=void 0),t&&(this.updateContainerTop(t)?(void 0===this.positionCheckerInterval&&(this.container=t,this.positionCheckerInterval=window.setInterval(this.updateContainerTop,1e4)),e&&this.renderNextVer()):this.awaitUntilConnect(function(){return n.saveContainerPosition(t,!0)}))},n.updateContainerTop=function(t){var e=(t||this.container).getBoundingClientRect(),n=e.height,r=e.top,i=this.isOverflow&&!this.ignoreOverflow;if(n&&!i){var o=this.grid.containerTop,a=r+this.scrollTop;return this.grid.containerTop=a,a!==o&&null!==o&&this.renderNextVer(),!0}return!1},n.savePosition=function(t,e){var n=this;this.itemElements[t.id]&&this.itemElements[t.id]===e||(this.itemElements[t.id]=e,e&&!this.grid.hasPosition(t)&&this.afterRenderTasks.push(function(){n.getElementPosition(e,function(e){n.grid.updatePosition(t,e),n.checkScrollPosition()})}))},n.getElementPosition=function(t,e,n){var r=this;void 0===n&&(n=5);var i=this.getElementPositionSync(t);i?e(i):n&&this.awaitUntilConnect(function(){return r.getElementPosition(t,e,n-1)})},n.getElementPositionSync=function(t){var e=t.getBoundingClientRect(),n=e.top,r=e.height;return r?{top:n+this.getCurrentScroll(),height:r}:null},n.getItemPosition=function(t){var e=this.itemElements[t.id];return e?this.getElementPositionSync(e):null},n.awaitUntilConnect=function(t){setTimeout(function(){requestAnimationFrame(function(){t()})},500)},n.loadMore=function(){this.footerOffset+=this.props.footerInterval,this.setState({footer:!1}),this.checkScrollPosition()},n.checkFooter=function(){this.state.footer||this.grid.minHeight>this.footerOffset&&this.setState({footer:!0})},n.checkScrollPosition=function(){this.props.isLoaded||this.props.isLoading||this.fetchInProgress||this.failureFetchRequest&&!this.isOnline||this.grid.minHeight-this.getCurrentScroll()-this.props.windowHeight-1500<0&&this.fetchNextPage()},n.fetchNextPage=function(){var t=v()(g.a.mark(function t(){var e,n,r,i,o;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.fetchInProgress||this.props.isLoading||this.failureFetchRequest&&!this.isOnline)){t.next=2;break}return t.abrupt("return");case 2:if(e=this.props,n=e.nextStoreKey,r=e.itemsKey,i=e.rum,o=e.dispatch,this.fetchInProgress=!0,t.prev=4,!this.ttiLock){t.next=9;break}return t.next=8,Object(K.a)(3e3);case 8:this.ttiLock=!1;case 9:return t.next=11,Object(x.retryPromise)(function(){return o(Object(M.a)({storeKey:n||r,rum:i}))},A.x,1e3);case 11:this.failureFetchRequest=!1,t.next=18;break;case 14:t.prev=14,t.t0=t.catch(4),console.error(t.t0),this.failureFetchRequest=!0;case 18:this.fetchInProgress=!1,this.checkScrollPosition();case 20:case"end":return t.stop()}},t,this,[[4,14]])}));return function(){return t.apply(this,arguments)}}(),n.onScroll=function(){var t=this;this.dirtyScroll=!0,this.isOverflow&&!this.ignoreOverflow||(this.renderPlanned||(this.renderPlanned=!0,this.awaitUntilConnect(function(){return t.setState({scrollTop:t.scrollTop})})),this.checkScrollPosition())},n.trackCounters=function(){var t=this.countersLogger;if(t){var e=this.grid.visibleItems;("hidden"===document.visibilityState||this.props.isOverflow&&!this.props.ignoreOverflow)&&(e=[]),t.track(e,this.context.counter)}},n.sendCounters=function(){var t=this.countersLogger;t&&t.reset()},C()(e,[{key:"scrollTop",get:function(){return this.isOverflow&&!this.props.ignoreOverflow?this._virtualScroll:(this.dirtyScroll&&(this._scrollTop=this.getCurrentScroll(),this.dirtyScroll=!1),this._scrollTop)}}]),e}(k.Component),E()(f.prototype,"getCurrentScroll",[o],Object.getOwnPropertyDescriptor(f.prototype,"getCurrentScroll"),f.prototype),E()(f.prototype,"saveContainerPosition",[a],Object.getOwnPropertyDescriptor(f.prototype,"saveContainerPosition"),f.prototype),E()(f.prototype,"updateContainerTop",[s],Object.getOwnPropertyDescriptor(f.prototype,"updateContainerTop"),f.prototype),E()(f.prototype,"savePosition",[c],Object.getOwnPropertyDescriptor(f.prototype,"savePosition"),f.prototype),E()(f.prototype,"loadMore",[u],Object.getOwnPropertyDescriptor(f.prototype,"loadMore"),f.prototype),E()(f.prototype,"onScroll",[l],Object.getOwnPropertyDescriptor(f.prototype,"onScroll"),f.prototype),E()(f.prototype,"trackCounters",[d],Object.getOwnPropertyDescriptor(f.prototype,"trackCounters"),f.prototype),E()(f.prototype,"sendCounters",[h],Object.getOwnPropertyDescriptor(f.prototype,"sendCounters"),f.prototype),f),tt=Object(j.b)(function(t,e){var n=t[e.itemsKey],r=Object(I.a)(Object(R.a)(t)),i=Object(B.c)(t,e.shaker),o=i.result,a=i.nextStoreKey,s=e.widthDiff||0,c=[n].concat(e.shaker.entries.filter(function(t){return t.autoload}).map(function(e){var n=e.storeKey;return t[n]})),u=c.every(function(t){return!(t&&t.next)}),l=c.some(function(t){return Boolean(t&&t._loading)}),d=Object(N.a)(t).currentCard,h=d?d.stateKey:void 0,f=r?o.find(function(t){return t.item.id===r&&t.storeKey===h}):void 0;return{isOnline:Object(P.a)(t),isOverflow:Boolean(Object(L.a)(t)),windowWidth:t.env.windowWidth-s,windowHeight:t.env.windowHeight,isLoaded:u,isLoading:l,query:n&&n._query,itemsSlice:Object(B.b)(t,o),currentCardId:r,currentItem:f,items:o,nextStoreKey:a,isSecondPageExp:Boolean(Object(G.a)(t,Y.d.COLLECTIONS_MASONRY_SECOND_PAGE))}})($)},rcxC:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({complaintSuccess:"Скаргу прийнято",cardHided:"Картку приховано"})},rdt4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("ElOb"),i=n("JEEa"),o=n("2N+6"),a=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,s=function(){function t(e){var n;n=e instanceof Date?e:e instanceof t?e.getDate():"string"==typeof e?new Date(Date.parse(e)):"number"==typeof e?new Date(e):new Date,this.date=n}var e=t.prototype;return e.isValid=function(){return!isNaN(Number(this.date))},e.getDate=function(){return this.date},e.format=function(t,e){var n=this,r=(void 0===e?{}:e).locale;return t?String(t).replace(a,function(t){return n.tokenToString(t,r)}):this.toISOString()},e.setYear=function(t){return this.date.setFullYear(Number(t)),this},e.subDays=function(t){return this.date=new Date(this.date.getTime()-24*Number(t)*3600*1e3),this},e.diff=function(t){return this.date.getTime()-t.getDate().getTime()},e.fromNow=function(e,n){return this.from(new t,n&&n.locale,e)},e.from=function(t,e,n){return new i.a(t.diff(this)).humanize(n,{locale:e})},e.toISOString=function(){return this.date.toISOString()},e.tokenToString=function(t,e){return"YYYY"===t?String(this.date.getFullYear()):"YY"===t?String(this.date.getFullYear()%1e3):"MM"===t?Object(o.a)(this.date.getMonth()+1,2):"MMMM"===t?Object(r.f)(e).months.format[this.date.getMonth()]:"D"===t?String(this.date.getDate()):"DD"===t?Object(o.a)(this.date.getDate(),2):"HH"===t?Object(o.a)(this.date.getHours(),2):"mm"===t?Object(o.a)(this.date.getMinutes(),2):"ss"===t?Object(o.a)(this.date.getSeconds(),2):t},t.getLocaleFormat=function(t,e){var n=Object(r.f)(t);return n?n[e]:""},t}()},riXN:function(t,e,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("c+Ap"),a=n("WbN8");n.d(e,"a",function(){return c});var s=encodeURIComponent,c=function(){function t(){}return t.resetPtrid=function(t){t.env;var e=Math.round(1e3*Math.random())+"x"+Date.now();return Object(a.e)("cptrid",e),e},t.generateRetpathUrl=function(t){var e=t.env,n=t.route,r=t.params,o=e.router,a=i()({status:void 0,idkey:void 0,ncrnd:void 0},r);return o?n?e.origin+o.reverse(n,a):e.origin+o.reverseLastEvent(a):"https://yandex.ru"},t.generateTrackedRetpathUrl=function(t){var e=t.env,n=t.route,r=t.params,o=Object(a.a)("cptrid");return o||(o=this.resetPtrid({env:e})),this.generateRetpathUrl({env:e,route:n,params:i()({},r,{ptrid:o})})},t.authUrl=function(t){var e,n=t.env,r=t.retpath;return e="string"==typeof r?r:this.generateTrackedRetpathUrl(i()({env:n},r)),this.base(n)+"/auth?origin=collections&retpath="+s(e)},t.socialAuthUrl=function(t){var e,n=t.env,r=t.provider,i=t.params;return e=t.retpath||this.generateTrackedRetpathUrl({env:n,params:i}),this.base(n)+"/auth/social/start/?provider="+s(r)+"&retpath="+s(e)+"&consumer=collections"},t.logoutUrl=function(t){var e=t.env,n=t.retpath||this.generateRetpathUrl({env:e}),r=e.cookies.yandexuid;return this.base(e)+"/passport?mode=logout&yu="+s(r)+"&retpath="+s(n)+"&from=collections"},t.embedLogoutUrl=function(t){var e=t.env,n=t.retpath||this.generateRetpathUrl({env:e}),r=e.cookies.yandexuid,i=e.currentUser.getUid();return this.base(e)+"/passport?mode=embeddedauth&action=logout&uid="+s(i)+"&yu="+s(r)+"&retpath="+s(n)+"&from=collections"},t.base=function(t){return"https://passport.yandex."+t.tld},t.showLoginWindow=function(t,e,n){void 0===e&&(e={}),function(t,e){var n="p"+Date.now(),r=e[0],i=e[1],o={scrollbars:1,resizable:1,menubar:0,toolbar:0,status:0,left:(screen.width-r)/2,top:(screen.height-i)/2,width:r,height:i},a=Object.keys(o).map(function(t){return t+"="+o[t]}).join(","),s=window.open(t,n,a);s&&s.focus()}(this.authUrl({env:t,retpath:{route:"retpath",params:{authSource:e.authSource?e.authSource:t.isEmbed?o.b.EMBED:o.b.WEB}}}),[Math.round(.8*screen.width),Math.round(.8*screen.height)]),window.addEventListener("focus",function e(){window.removeEventListener("focus",e),t.currentUser.checkAuth().then(n)})},t.numberVerificationUrl=function(t){var e=t.env,n=t.retpath;return this.base(e)+"/profile/phones?retpath="+(n?s(n):"")},t.getRetpathUrl=function(t,e){return t.origin+e},t}()},rktC:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("NsAD"),i=n("n7L5");function o(t,e){var n=e.data,o=e.hash,a=o.view||n.view,s=a.isRestored,c={view:a,async:o.async,regionType:o.regionType,hash:o};return s?{type:"region",restore:function(e){if(!e)throw new Error("Cannot restore region");return Object(r.a)(t,e,c)}}:Object(r.a)(t,i.a(),c)}},rpX3:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("ukm6");function i(t,e){return function(n){return Object(r.a)(n)[t]||e}}},rqaQ:function(t,e,n){t.exports=n.p+"f/8b1b.svg"},rreP:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("pVnL"),i=n.n(r),o=n("T6Rw"),a=0,s=Object(o.a)(function(t,e){var n=t.notifications,r=void 0===n?[]:n;return i()({},t,{notifications:r.concat(i()({id:a++},e))})})},ruzH:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("NFKc"),l=n("+r4z"),d=n("hV2r"),h=n("gF9f"),f=n("eaCv"),p=Object(u.a)("request",function(){var t=c()(i.a.mark(function t(e,n,r){var o,s,c,u,p,g,m,v;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.getState,s=r.dispatch,c=n.route,u=void 0===c?Object(l.a)(o()):c,p=n.query,g=void 0===p?Object(d.a)(o()):p,m=n.filter,g=a()({route:u,origRoute:Object(f.a)(o())},g),m&&(g._filter=m.join(",")),t.next=6,e.getJson("/collections/web-api/aggregate",{data:g});case 6:v=t.sent,s(Object(h.a)(v));case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},s6gp:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var r=n("ivQ0"),i="/collections/api/links/redirect/?url=",o="https://yandex.ru",a=/^\/collections\/api\/links\/redirect\/\?url=/,s="https:";function c(t){if(!t)return"";var e=String(t);return Object(r.a)(e)||("/"===e[0]&&"/"===e[1]?t=s+e:(console.error('Invalid external link url: "'+t+'"'),t=o+("/"===e[0]?"":"/")+e)),i+encodeURIComponent(t)}},sIh0:function(t,e,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;t.exports=r({breadcrumbName:"Конкурси",submission:function(t){return"Заявки приймаються до "+i(t.time)+"."},evaluation:function(t){return"Голосування до "+i(t.time)+"."},conclusion:"Конкурс завершено.",intervalEnabled:function(t){return"Конкурс проводиться з "+i(t.from)+" до "+i(t.to)+"."},intervalDisabled:function(t){return"Конкурс проводився з "+i(t.from)+" до "+i(t.to)+"."},ballotsCount:[function(t){return"Подано "+i(t.count)+" заявку."},function(t){return"Подано "+i(t.count)+" заявки."},function(t){return"Подано "+i(t.count)+" заявок."}],rulesLabel:"Правила та рекомендації",submit:"Брати участь",vote:"Проголосувати",photoDailyTitle:"Фото дня",photoDailyDescription:"Фото дня посідає центральне місце на сторінці конкурсів у Яндекс.Колекціях. Проголосувати за фото дня можна зразу ж тут із 21:00 до 24:00 за московським часом."})},seBF:function(t,e,n){t.exports=n.p+"f/9ed7.svg"},sioy:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("K5nR"),i=n("dNc+"),o=n("IWXk"),a=Object(r.a)({normalizer:i.i,getEntity:o.a})},spzH:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({title:"Зберегти зміни в картці?",no:"Не зберігати",yes:"Зберегти"})},t0kG:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){return t[t[e="CardCreateStrategy"]="CardCreateStrategy"]=e,t[t[e="CardReceiveShareBusCardStrategy"]="CardReceiveShareBusCardStrategy"]=e,t[t[e="CardCreateContentStrategy"]="CardCreateContentStrategy"]=e,t[t[e="CardCreateGuestStrategy"]="CardCreateGuestStrategy"]=e,t[t[e="CardShareStrategy"]="CardShareStrategy"]=e,t[t[e="CardChangeBoardStrategy"]="CardChangeBoardStrategy"]=e,t[t[e="CardsFetchFromFilesStrategy"]="CardsFetchFromFilesStrategy"]=e,t[t[e="CardsFetchFromQueryStrategy"]="CardsFetchFromQueryStrategy"]=e,t[t[e="CardsFetchFromHtmlStrategy"]="CardsFetchFromHtmlStrategy"]=e,t[t[e="CardAddContentStrategy"]="CardAddContentStrategy"]=e,t[t[e="CardSetCurrentCardToReduxStrategy"]="CardSetCurrentCardToReduxStrategy"]=e,t[t[e="CardToReduxStrategy"]="CardToReduxStrategy"]=e,t[t[e="CardRemoveStrategy"]="CardRemoveStrategy"]=e,t[t[e="CardEditStrategy"]="CardEditStrategy"]=e,t[t[e="CardRemoveFromFeedToReduxStrategy"]="CardRemoveFromFeedToReduxStrategy"]=e,t[t[e="CardRemoveFromContestReduxStrategy"]="CardRemoveFromContestReduxStrategy"]=e,t[t[e="CardCreateToBoardStrategy"]="CardCreateToBoardStrategy"]=e,t[t[e="CardContextStrategy"]="CardContextStrategy"]=e,t[t[e="BoardSaveStrategy"]="BoardSaveStrategy"]=e,t[t[e="BoardSuggestNameStrategy"]="BoardSuggestNameStrategy"]=e,t[t[e="BoardsRefetchStrategy"]="BoardsRefetchStrategy"]=e,t[t[e="BoardToReduxStrategy"]="BoardToReduxStrategy"]=e,t[t[e="CommonImageInfoStrategy"]="CommonImageInfoStrategy"]=e,t[t[e="HintSidebarStrategy"]="HintSidebarStrategy"]=e,t}({})},t8R9:function(t,e,n){var r=n("C4oF").translateWrapper,i=n("cDcd"),o=n("9TW5").e,a=n("9TW5").er,s=n("9TW5").f,c=n("9TW5").fr;t.exports=r({title:{v:"Увійдіть, щоб<br>не&nbsp;втратити підписки",r:function(t){return i.createElement(i.Fragment,null,"Увійдіть, щоб",i.createElement("br",{}),"не втратити підписки")},h:function(t){return(this.isRestored?c:s)(["Увійдіть, щоб",(this.isRestored?a:o)("br","",{},[],{view:this}),"не&nbsp;втратити підписки"])}},description:"Стрічка буде доступна на всіх пристроях, де ви авторизуєтеся",button:"Увійти"})},t8XC:function(t,e,n){t.exports=n.p+"f/9b9a.svg"},tE42:function(t,e,n){"use strict";n("JSWB"),n("rkHX");var r=n("Xlad");e.a=r.a.applyDecls()},tPzL:function(t,e,n){"use strict";var r=n("rrR1").user2;e.a=function(t,e){return"function"==typeof r[t]?r[t](e):r[t]}},tTXn:function(t,e,n){t.exports=n.p+"f/d382.gif"},tVjm:function(t,e,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("VbXa"),a=n.n(o),s=n("cDcd"),c=n("JxqJ"),u=n("6ga4"),l=n("80cV"),d=n("y6Xm"),h=n("RLYd"),f=Object(h.a)(l.a,Object(d.a)("likes_count",0)),p=n("9+Yy"),g=Object(p.a)("cards",{}),m=n("lc+m"),v=n("i1uP"),b=Object(v.a)(m.a,Object(d.a)("is_liked")),_=n("qhbX"),y=n("EC4j"),C=n("MTjZ"),O=n("CsIx"),S=n("U9Ap"),w=Object(v.a)(m.a,Object(d.a)("complaint")),E=n("h3n8"),k=n("4RqY"),j=n("V8C4"),T=n("cYeE"),x=n("WyUc"),R=Object(k.a)(function(t,e){var n=t.cardId,r=t.counter,o=e.dispatch;return j.d.clickCardDislike(i()({},r,{cardId:n})),o(Object(T.a)({id:n,stateKey:"cards",reason:x.a.HIDE,sendCounter:!1}))});n.d(e,"a",function(){return I});var I=Object(c.b)(function(t,e){var n=e.cardId,r=e.onLike,i=Boolean(w(t,n));return{pulseCount:g(t,n).pulseCount||0,isLiked:e.dislike?i:b(t,n),likesCount:e.dislike?Number(i):f(t,n),enableLikeTrigger:Boolean(r&&!(Object(O.a)(Object(C.a)(t))&&Object(S.a)(t,n)))}})(function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={pulseLike:!1,pulseCount:0},e}a()(e,t);var n=e.prototype;return n.componentDidUpdate=function(){var t=this;this.state.pulseLike&&setTimeout(function(){t.setState({pulseLike:!1})},250)},n.render=function(){var t=this.props,e=t.mods,n=t.cardId,r=t.showStat,o=t.className,a=t.isLiked,c=t.likesCount,l=t.enableLikeTrigger,d=t.onLike,h=t.dispatch,f=t.hand,p=t.dislike,g=this.context.counter;return s.createElement(y.a,i()({},this.props,{mods:i()({state:!!a&&"check",dislike:p},e),className:Object(u.a)("button_card",{hl:this.state.pulseLike},o),label:Object(E.a)(c,r&&!0),onClick:function(){p?h(R({cardId:n,counter:g})):(h(Object(_.a)({id:n,isLiked:!a,counter:g})),l&&d&&d(!a))},iconMods:f?{"like-24x24":!0}:void 0}))},e.getDerivedStateFromProps=function(t,e){return t.pulseCount===e.pulseCount||e.pulseLike||t.dislike?null:{pulseCount:t.pulseCount,pulseLike:!0}},e}(s.Component))},tWT4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("SUYq"),i=n("OyHf");function o(t,e){var n,o,a=e&&e.size||i.b;return t&&("object"==typeof t?t instanceof r.a?(o=t.getAvatarId(),n=t.getLogin()):(o=t.default_avatar_id,n=t.login):n=t),o?Object(i.d)(o,a):n?Object(i.e)(n,a):Object(i.d)(i.a,a)}},tle2:function(t,e,n){t.exports=n.p+"f/0a50.woff"},tuVA:function(t,e,n){"use strict";var r=n("NLdy");e.a=r.a.applyDecls()},tvkE:function(t,e,n){t.exports=n.p+"f/0ced.gif"},txgp:function(t,e,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("c+Ap"),l=n("S7YN"),d=n("4RqY"),h=n("dohL"),f=n("M740"),p=n("izju"),g=n("7/cf"),m=n("JaHL"),v=n("hV2r"),b=n("BKHA"),_=n("lc+m");function y(t){var e,n=Object(b.a)(t);e=n.cards?Object(_.a)(t,n.cards[0]):Object(g.b)(t);var r=Object(m.a)(e);if(r&&r in p.a)return r;var i=Object(v.a)(t),o=i&&i.source_type;return o&&o in p.a?o:(console.error("FetchBoards: source type not found",e),p.a.IMAGE)}var C=n("RouB"),O=n("MTjZ"),S=n("5k1W");n.d(e,"a",function(){return E});var w={page:1,page_size:12,sort:"-service.updated_at",add_default:!0,previews_count:u.T},E=Object(d.a)(function(){var t=c()(i.a.mark(function t(e,n){var r,o,s,c,u,d,p,g,m;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.getState,s=n.dispatch,c=o(),u=y(c),d=c.addBoards,(!(g=Object(f.a)(c,"addBoards"))||g&&g.saveable_for_source_type!==u)&&(p={reset:{results:[]}}),Object(C.a)(Object(O.a)(c)),m=a()({},w,u?((r={}).saveable_for_source_type=u,r):{},{}),!d||!d._query){t.next=12;break}if(Object(S.a)(m,d._query,Object.keys(m))){t.next=12;break}return t.abrupt("return");case 12:return t.prev=12,t.next=15,s(Object(l.a)(a()({},p,{storeKey:"addBoards",url:"/collections/api/boards",query:m})));case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(12),s(Object(h.a)(t.t0));case 20:case"end":return t.stop()}},t,this,[[12,17]])}));return function(){return t.apply(this,arguments)}}())},u6BI:function(t,e,n){"use strict";var r=n("Wuht");e.a=r.a.applyDecls()},u6vq:function(t,e,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("cDcd"),a=n("JxqJ"),s=(n("8Nud"),n("PEpF")),c=(Object(s.decl)({block:"dropdown2",willInit:function(){this.__base.apply(this,arguments),this._onPageScroll=this._onPageScroll.bind(this)},mods:function(){return{opened:!!this.state.opened&&"yes"}},_onPageScroll:function(){this.state.opened&&this._onOutsideClick()},willUnmount:function(){this._removeScrollListener()},_removeScrollListener:function(){window.removeEventListener("scroll",this._onPageScroll)},_handleStateUpdate:function(t){t.opened?window.addEventListener("scroll",this._onPageScroll,{passive:!0}):t.opened||this._removeScrollListener()},shouldUpdate:function(t,e){var n=this.__base.apply(this,arguments);return this._handleStateUpdate(e),void 0===n||n}}),n("rsi3").a.applyDecls()),u=n("7WQN");n.d(e,"a",function(){return l});var l=Object(a.a)()(function(t){var e,n=t.switcher,r=t.mix,a=t.theme,s=void 0===a?"normal":a,l=t.size,d=void 0===l?"s":l,h=t.switcherType,f=void 0===h?"link":h,p=t.hasTail,g=void 0===p||p,m=t.popupProps,v=t.popupMix,b=t.switcherMix;return o.createElement(c,{theme:s,size:d,switcher:f,hasTail:g,mix:r,popup:o.createElement(u.a,i()({theme:s,mix:v},m),o.createElement("div",{onClick:function(){e._onOutsideClick()}},t.children)),ref:function(t){return e=t}},o.createElement(c.Switcher,{mix:b},n))})},uDOU:function(t,e,n){"use strict";function r(t){if(t){var e=String(t).match(/^https?:\/\/([^:\/\?]+)[:\/]?/);return e?e[1]:void 0}}n.d(e,"a",function(){return r})},uE0E:function(t,e,n){"use strict";n("IAoT");var r=n("gFRy");e.a=r.a.applyDecls()},uSlG:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({chooseFile:"Виберіть файл",orDragHere:"або перетягніть його сюди",error:"Неправильний формат файлу, що завантажується. Спробуйте завантажити файл зображення."})},uWc0:function(t,e,n){"use strict";n("rpDg"),n("lhyZ").a.applyDecls()},uYmT:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("cDcd"),i=n("6ga4"),o=n("JxqJ"),a=n("wip6"),s=Object(a.a)(),c=Object(o.a)(function(t){return{favoritesHeader:t.env.isBrowserFavorites}})(function(t){var e=t.favoritesHeader;return r.createElement(s,null,r.createElement("div",{className:Object(i.a)("fade",{region:"main",progress:"yes","favorite-header":e&&"yes"})},r.createElement("div",{className:"spin2 spin2_size_m spin2_view_default spin2_tone_default spin2_progress_yes"})))})},udQO:function(t,e,n){"use strict";var r=n("6s7n");e.a=r.a.applyDecls()},udnI:function(t,e,n){"use strict";var r=n("JSWB");e.a=r.a.applyDecls()},ujXg:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=0;function i(){return"fake-"+ ++r}},"ujc/":function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({moveCardReadonlyDisallowed:"Закладки нельзя переносить в Коллекциях",moveCardMixTypesDisallowed:"Фильмы или сериалы нельзя переносить вместе с другими типами карточек"})},ukm6:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("y6Xm"),i=Object(r.a)("ui",{})},v4Hp:function(t,e,n){"use strict";n.d(e,"a",function(){return _});var r,i=n("VbXa"),o=n.n(i),a=n("SiKM"),s=n("mdRN"),c=n("K9S7"),u=n("6KiY"),l=n("cX81"),d=n("aqFj"),h=n("c+Ap"),f=n("iROX"),p=n("ICaW"),g=n("qKPy"),m=n("4MLz"),v={maxWidth:920,imageMargin:5,viewportHeight:250,minWidth:250},b={page_size:h.p},_=Object(s.a)({url:"/collections/api/cards/",model:l.a,fetchParams:b,prefix:""})(r=Object(c.a)()(r=function(t){function e(){return t.apply(this,arguments)||this}o()(e,t);var n=e.prototype;return n.initialize=function(e,n){var r=this;t.prototype.initialize.call(this,e,n),this.on("add remove reset",function(){r.invoke("setRequestAdapter",r.getRequestAdapter())}),this.on("change:complaint",function(t){r.remove(t)}),this.on("wish:toggle",this.onWishChange),this.on("pagination:fetch",function(t){r._origRef&&r._origRef.trigger("pagination:fetch",t)})},n.clone=function(){var t,e=new this.constructor(this.models,{request:this.getRequestAdapter()});return e.url=this.url,e.env=this.env,e.fetchParams=Object.assign({},this.fetchParams),e.restorePagination((t=this.serializePagination(),JSON.parse(JSON.stringify(t)))),e._origRef=this,e},n.scrollToCard=function(t){(this._origRef||this).trigger("scrollToCard",t)},n.onWishChange=function(t){var e=this.getWishState();if(e){var n=t.isWishFulfilled();e.isWishFulfilled()===n||e.isEmptyWish()||this.remove(t)}},n.fetchByBoard=function(t,e){return void 0===e&&(e={}),this.fetchWithOptions(Object.assign({},e,{"board.id":t,page_size:h.p,sort:"-service.created_at"}))},n.fetchByBoardSample=function(t,e){return void 0===e&&(e={}),this.fetchWithOptions(Object.assign({},e,{"board.id":t,page_size:h.q,sample:!0}),{disablePreflight:!0})},n.fetchBySimilarTo=function(t,e,n){void 0===e&&(e=h.p),void 0===n&&(n={});var r=t&&t.id,i=t&&t.isVideo(),o=Object(m.a)();return this.counter={loc:"similarCards",similarCardId:r,cardsSessionId:o},this.fetchWithOptions({similar_to:r,index_video_enabled:i?1:void 0,page_size:e,page:1,seed:o},n)},n.fetchWithOptions=function(t,e){return JSON.stringify(this.oldFetchParams)!==JSON.stringify(t)?(this.fetchParams=this.oldFetchParams=t,this.iteratorReset(this.fetchParams,e)):Promise.resolve(this)},n.abort=function(){var e=t.prototype.abort.call(this);return e&&(this.oldFetchParams={}),e},n.isFetchFailed=function(){return this.fetchFailed},n.setFetchFailed=function(t){void 0===t&&(t=!0),this.fetchFailed=t},n.setImages=function(t){this.images=t},n.getImages=function(){var t=this;return this.images||(this.setImages(u.a.factory(this.getImagesFromCards())),this.on("update reset",Object(a.debounce)(function(){t.images.reset(t.getImagesFromCards()),t.scale()}))),this.images},n.getImagesFromCards=function(){return this.invoke("getImage")},n.scale=function(t){void 0===t&&(t={}),this.scaleOptions||(this.scaleOptions=Object.assign({},v)),this.scaleOptions=Object.assign(this.scaleOptions,t),this.getImages().scale(this.scaleOptions),this.trigger("scaled")},n.parse=function(e,n){var r=t.prototype.parse.call(this,e,n);return this.fetchParams&&this.fetchParams.sample?Object(a.shuffle)(r):r},n.transformFetchData=function(t){return this.fetchParams.sample&&(t.page=void 0),t.vertical&&(t=Object(g.a)(t.vertical,t)),t},n.transformFetchOptions=function(t,e){return e=e||{},t&&(t.text||t.vertical)&&!e.url&&(e.url="/collections/api/cards/search/"),e},n.setWishState=function(t){this.wishState=t},n.getWishState=function(){return this.wishState},n.setQueryParams=function(t){this._currentQuery=t},n.getCardIndexById=function(t){return this.pluck("id").indexOf(t)},n.updateDependencies=function(t){var e=t.request,n=t.env;this.setRequestAdapter(e),this.env=n,this.invoke("setRequestAdapter",e)},n.updateDependenciesByBoard=function(t,n){var r=this,i=t.request,o=t.env,a=t.currentBoard.id,s=t.wishState,c={};return this.counter={loc:"board",boardId:a},this.updateDependencies({request:i,env:o}),this.setWishState(s),(o=this.getEnv())&&o.hasFeature(p.a.APPHOST_BOARD_DATA)?Promise.resolve(this):this.fetchParams&&this.fetchParams["board.id"]&&this.fetchParams["board.id"]!==a?e.factory().updateDependenciesByBoard(arguments[0]):(s&&s.isWishlist()&&(c.wish=s.getWish()||h.lb),n&&(c.is_geo=!0),this.fetchByBoard(a,c).then(function(){return r}))},n.updateDependenciesByBoardGeo=function(t){var e=this;return this.updateDependenciesByBoard(t,!0).then(function(t){if(!t||t.getCount()<1)throw new f.f("This collection does not has geo view");return e})},n.updateDependenciesSimilarCards=function(t){t.card;var e=t.env,n=t.request;t.event.query.cg_model_version,this.updateDependencies({request:n,env:e})},n.updateDependenciesBoardCards=function(t){var e=t.card,n=t.env,r=t.request;this.updateDependencies({request:r,env:n});var i=e.getBoard();e.id&&i&&i.id&&(this.counter={loc:"cardBoardCards",boardId:i.id},!this.getEnv().isUserAuthorized()&&i.isDefault()||this.fetchByBoardSample(i.id))},e.restore=function(t){var e=this.dataFactory(t,{parse:!0});return e.fetchFailed=t.fetchFailed,e.fetchParams=t.fetchParams,e.oldFetchParams=t.fetchParams,e},e}(d.a))||r)||r},v8AM:function(t,e,n){var r=n("SiKM"),i=r.extend({},r),o=Array.prototype.slice;function a(t){this._value=t,this.expose("map",i.map),this.expose("pluck",i.map),this.expose("reduce",i.reduce),this.expose("flatten",i.flatten),this.expose("compact",i.compact)}function s(t,e){return e&&"function"==typeof t?t.bind(e):t}function c(t,e){return e=void 0===e?2:e,function(n,r){var i=arguments[e],a=2===e?[]:o.call(arguments,2,e);return t.apply(void 0,[n,s(r,i)].concat(a))}}i.find=c(i.find),i.each=c(i.forEach),i.filter=c(i.filter),i.reduce=c(i.reduce,3),i.any=i.some,i.first=i.head,i.invoke=i.invokeMap,i.chain=function(t){return new a(t)},i.rest=i.drop=function(t,e){return o.call(t,void 0===e?1:e)},i.includes=function(t,e){return!(!i.isArrayLike(t)||!i.isFunction(t.indexOf))&&t.indexOf(e)>-1},a.prototype.expose=function(t,e){this[t]=function(){return this._value=e.apply(void 0,[this._value].concat(o.call(arguments,0))),this}},a.prototype.value=function(){return this._value},t.exports=i},vB0I:function(t,e,n){"use strict";function r(t,e){return function(n,r){if(r&&r[t])return e(n,r[t])}}n.d(e,"a",function(){return r})},vSoZ:function(t,e,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;t.exports=r({boardCreated:function(t){return"Колекцію «"+i(t.board_title)+"» створено"},boardCreateDuplicate:"Ви вже маєте колекцію з такою назвою"})},vWga:function(t,e,n){"use strict";n.d(e,"a",function(){return S});var r,i=n("VbXa"),o=n.n(i),a=n("SiKM"),s=n("Iv6v"),c=n("cX81"),u=n("v4Hp"),l=n("mdRN"),d=n("/bNA"),h=n("c+Ap"),f=n("izju"),p=n("PSoe"),g=n("iROX"),m=n("t0kG"),v=n("ICaW"),b=n("pryo"),_=n("ANKn"),y=Object(a.values)(h.n),C=((r={})[h.n.ADD_FAVORITES]=m.a.CardCreateGuestStrategy,r[h.n.ADD_BOARDS]=m.a.CardCreateStrategy,r[h.n.BOARD_CREATE_ADD]=m.a.CardCreateStrategy,r[h.n.BOARD_CREATE_SHARE]=m.a.CardShareStrategy,r[h.n.CARD_MOVE]=m.a.CardChangeBoardStrategy,r[h.n.CARD_SHARE]=m.a.CardShareStrategy,r),O=[h.n.BOARD_CREATE,h.n.BOARD_CREATE_ADD,h.n.BOARD_CREATE_SHARE],S=function(t){function e(){return t.apply(this,arguments)||this}o()(e,t);var n=e.prototype;return n.initialize=function(e,n){var r=this;t.prototype.initialize.call(this,e,n),n.pluginMessageBus.read(p.e.SHARE_IMAGE,function(t){var e=t.image;r.onPluginShareImage(e.src)}),this.listenTo(d.a,"board:create",this.refreshBoards),this.listenTo(d.a,"board:remove",function(t){t.isDefault()&&r.refreshBoards()})},n.refreshBoards=function(){this.getEnv().invokeStrategy(m.a.BoardsRefetchStrategy,{state:this})},n.setType=function(t,e,n){if(void 0===e&&(e={silent:!1}),this.hasType(t)){if(!this.isType(t)){var r=this.get("previousType");r.push(this.getType()),this.set("previousType",r),this.set("type",t,e),this.setTypeOptions(n);var i=!this.isClosed(),o=this.getEnv().getState();o&&(o.ui&&o.ui.layout&&o.ui.layout.sidebarOpen)!==i&&this.getEnv().dispatch(Object(_.a)(i))}}else console.warn('Type "'+t+"\" doesn't exist.")},n.setTypeOptions=function(t){this.set("typeOptions",t)},n.getTypeOptions=function(){return this.get("typeOptions")},n.getActualType=function(){return this.getType()},n.onCardsUpdate=function(){this.showResultsByCardsCount()},n.showResultsByCardsCount=function(){var t=this.getCards();1===t.length?this.toggleContent(t.at(0),!0).catch(function(t){console.log(t)}):this.showResults()},n.hasType=function(t){return y.includes(t)},n.getType=function(){return this.get("type")},n.getPreviousType=function(t){void 0===t&&(t=0);var e=this.get("previousType"),n=e.length,r=n-(t+1);return n&&e[r]?e[r]:null},n.isType=function(t){return this.getType()===t},n.isTypeBoardCreate=function(){return O.includes(this.getType())},n.isTypeSuggest=function(){return this.isType(h.n.ADD_SUGGEST)},n.isTypeResults=function(){return this.isType(h.n.ADD_RESULTS)},n.isTypeBoards=function(){return this.isType(h.n.BOARDS)},n.isTypeAddSeriesEdit=function(){return this.isType(h.n.ADD_SERIES_EDIT)},n.isTypeCardAddSuccess=function(){return this.isType(h.n.ADD_CARD_BOARD_SUCCESS)},n.isTypeAddFavorites=function(){return this.isType(h.n.ADD_FAVORITES)},n.isTypeAddBoards=function(){return this.isType(h.n.ADD_BOARDS)},n.isTypeCardEdit=function(){return this.isType(h.n.CARD_EDIT)},n.isTypeLoading=function(){return this.isType(h.n.LOADING)},n.isClosed=function(){return this.isType(h.n.NONE)},n.setTypeAuth=function(t){this.setType(h.n.AUTH,t)},n.setTypeBoards=function(){this.setType(h.n.BOARDS)},n.showFileUpload=function(){return this.isTypeAddSeriesEdit()||this.isTypeCardEdit()},n.hasCard=function(){return Boolean(this.getCard())},n.setCard=function(t){this.set("card",t)},n.getCard=function(){return this.get("card")},n.setSingleCard=function(t){var e=this.getCards();e.setFullyLoaded(),e.add(t),this.setCard(t),this.selectCard(t)},n.selectCard=function(t){this._selectedCards.push(t)},n.unSelectCard=function(t){this._selectedCards.remove(t)},n.setCards=function(t){this.set("cards",t)},n.hasMoreCards=function(){var t=this.getCards();return!!t&&t.length>1},n.hasCards=function(){var t=this.getCards();return!!t&&t.length>0},n.getCards=function(){return this.get("cards")},n.setBoard=function(t){this.set("board",t)},n.getBoard=function(){return this.get("board")},n.getNewBoard=function(){var t=this,e=this.getBoard();if(!e){var n={disableCreateNotification:this.hasCardContent()};e=this.userBoards.createEmptyBoard({},n),this.listenTo(e,{"validation:title:error":function(e){t.setBoardError(e)},"validation:title:success":function(){return t.setBoardError(null)}}),this.setBoard(e)}return e},n.getBoardError=function(){return this.get("boardError")},n.setBoardError=function(t){this.set("boardError",t)},n.getCardContent=function(){var t=this.getCard();return t?t.getContent():null},n.getCardSourceType=function(){var t=this.getCard(),e=t&&t.getFirstContent();return e?e.getSourceType():f.a.IMAGE},n.hasCardContent=function(){var t=this.getCardContent();return!!t&&Boolean(t.length)},n.getCardBoard=function(){var t=this.getCard();return t?t.getBoard():null},n.setBoardCreateTitle=function(t){this.set("boardCreateTitle",t)},n.getBoardCreateTitle=function(){return this.get("boardCreateTitle")},n.getSuggestBoardTitle=function(){var t=this,e=this.getCard(),n=this.getEnv();return n.invokeStrategy(m.a.BoardSuggestNameStrategy,{card:e,env:n,state:this}).then(function(e){return e&&t.setBoardCreateTitle(e)})},n.setVisibilityMode=function(t){this.set("visibilityMode",t)},n.getVisibilityMode=function(){return this.get("visibilityMode")},n.fillCard=function(){var t=this.getCard();t||(t=c.a.factory({request:this.getRequestAdapter(),parse:!0}),this.setCard(t))},n.setSuggestFilled=function(t){this.set("suggestFilled",t)},n.isSuggestFilled=function(){return this.get("suggestFilled")},n.setSuggestOpened=function(t){this.set("suggestOpened",t)},n.isSuggestOpened=function(){return this.get("suggestOpened")},n.setBus=function(t){this.set("bus",t)},n.isBus=function(){return this.get("bus")},n.setGridPosition=function(t){this.set("gridPosition",t)},n.getGridPosition=function(){return this.get("gridPosition")},n.resetGridPosition=function(){this.setTypeOptions(void 0),this.setGridPosition(void 0)},n.onSuggestSubmit=function(){var t=this.getCard(),e=this.internetImagesState,n=e.getQuery();n&&n.trim()&&t?(t.setDescription(n),e.onSuggestSubmit()):(this.trigger("submit:empty"),this.showSuggestSearch())},n.onBoardClick=function(t){return this.isTypeBoards()?this.routerState.navigateToBoard(t):this.boardAction(t)},n.onBoardAddClick=function(){var t=this.internetImagesState.getNewBoardTitle();this.setBoardCreateTitle(t),this.showBoardCreate()},n.resetState=function(){this.clean(),this.setType(h.n.NONE)},n.clean=function(){this.setCard(null),this.setGridPosition(void 0);var t=this.getBoard();t&&this.stopListening(t),this.setBoard(null),this.setBoardError(null),this.setBoardCreateTitle(null),this._selectedCards=u.a.factory({}),this.internetImagesState&&this.setCards(this.internetImagesState.getCards()),this.fillCard(),this.internetImagesState&&(this.internetImagesState.setQuery("",{silent:!0}),this.internetImagesState.internetCollectionsClean())},n.closePanel=function(){this.resetState()},n.showBoardCreate=function(){this.setType(h.n.BOARD_CREATE)},n.showBoardCreateAdd=function(){this.setType(h.n.BOARD_CREATE_ADD)},n.showBoardCreateShare=function(){this.setType(h.n.BOARD_CREATE_SHARE)},n.showSuggestSearch=function(){this.setType(h.n.ADD_SUGGEST)},n.toggleSuggestSearch=function(){this.isTypeSuggest()?this.closePanel():this.isClosed()&&this.showSuggestSearch()},n.showSearchResults=function(){this.setType(h.n.ADD_RESULTS)},n.findPreviousToShow=function(t){void 0===t&&(t=0);var e=this.getPreviousType(t),n=e===h.n.LOADING||e===h.n.AUTH,r=e===this.getType(),i=e===h.n.ADD_FAVORITES&&this.getEnv().currentUser.isAuthorized();return n||r||i?this.findPreviousToShow(t+1):e},n.showPrevious=function(){var t=this.findPreviousToShow();this.hasType(t)?this.setType(t):this.closePanel()},n.showPreviousIfNotClosed=function(){this.isClosed()?this.clean():this.showPrevious()},n.showAddBoardsList=function(){this.shouldShowBoardCreate()?this.getEnv().currentUser.isAuthorized()?this.showBoardCreateAdd():this.showAddFavorites():this.setType(h.n.ADD_BOARDS)},n.showAddFavorites=function(){this.setType(h.n.ADD_FAVORITES)},n.showBoardFavorites=function(){this.setType(h.n.BOARD_FAVORITES)},n.showAddSeriesEdit=function(t){this.setType(h.n.ADD_SERIES_EDIT,{},t)},n.showCardAddBoardSuccess=function(){this.setType(h.n.ADD_CARD_BOARD_SUCCESS)},n.showCardMoveBoardSuccess=function(){this.setType(h.n.MOVE_CARD_BOARD_SUCCESS)},n.showLoading=function(){this.setType(h.n.LOADING)},n.showCardMove=function(){this.setType(h.n.CARD_MOVE)},n.showCardShare=function(){this.shouldShowBoardCreate()?this.showBoardCreateShare():this.setType(h.n.CARD_SHARE)},n.showResults=function(){this.isType(h.n.ADD_BOARDS)||this.showSearchResults()},n.showError=function(t){t&&this.setErrorMessage(t),this.setType(h.n.ERROR)},n.showShareError=function(t){t&&this.setErrorMessage(t),this.setType(h.n.SHARE_ERROR)},n.shouldShowBoardCreate=function(){return!this.getEnv().currentUser.getBoardsCount()},n.toggleContent=function(t,e){var n=this;return Promise.resolve().then(function(){return e?n.addContent(t):n.removeContent(t)})},n.updateCardSourceMeta=function(){var t=this.getCard(),e=this._selectedCards.at(0);t&&e&&t.set({source_meta:e.getSourceMetaJSON(),description:e.getDescription()})},n.addContent=function(t){var e=this.getCard(),n=t.getFirstContent(),r=!this.getEnv().currentUser.isAuthorized();if(this.isTypeVideo(t)&&r)this.setTypeAuth(),this._pendingCard=t;else if(e&&n)return this._pendingCard=void 0,this.invokeStrategy(m.a.CardAddContentStrategy,{card:e,sourceCard:t,content:n,state:this})},n.isTypeVideo=function(t){var e=t.getFirstContent();return this.lastAddVideoContent=Boolean(e&&e.isVideo()),this.lastAddVideoContent},n.fetchCardsFromFiles=function(t,e){var n=this,r=(void 0===e?{}:e).description;return this.showLoading(),this.getEnv().invokeStrategy(m.a.CardsFetchFromFilesStrategy,{files:t,state:this,description:r}).then(function(t){n.setLoadedCards(t),!n.isType(h.n.LOADING)||!n.findPreviousToShow()&&t.length||n.showPreviousIfNotClosed()}).catch(function(t){n.showPreviousIfNotClosed(),!t||t instanceof g.d||console.error(t),d.a.showFileParseErrorMessage()})},n.fetchCardsFromQuery=function(t){var e=this;return this.internetImagesState.setUrl(t),this.showLoading(),this.internetImagesState.fetchImages().then(function(t){return e.showResults(),t}).catch(function(t){throw e.showResults(),t})},n.setLoadedCards=function(t){var e=this.getCards();e.unshift(t),e.setFullyLoaded(),1===t.length&&this.toggleContent(t[0],!0)},n.moveCard=function(t){this.hasCardContent()||this.isCardSame(t)||(this.setCard(t),this.showCardMove())},n.shareCard=function(t){if(!this.hasCardContent()&&!this.isCardSame(t)){var e=this.getEnv();e.hasFeature(v.d.COLLECTIONS_DESKTOP_ADD_INTERNAL)?e.dispatch(Object(b.a)({cardId:t.getId()})):(this.setCard(t),this.showCardShare())}},n.isCardSame=function(t){var e=this.getCard()===t;return e&&this.resetState(),e},n.boardAction=function(t){var e,n=this,r=this.getCard();if(this.showLoading(),!(e=r&&r.getTaskId()&&this.isBus()?m.a.CardChangeBoardStrategy:r&&r.shouldAddByFav()?m.a.CardCreateToBoardStrategy:this.getBoardActionStrategy())){var i='Cannot find action for panel type "'+this.getType()+'"';return console.warn(i),this.showPreviousIfNotClosed(),Promise.reject(new Error(i))}return this.getEnv().invokeStrategy(e,{board:t,state:this}).catch(function(r){n.isClosed()?console.error(r):n.getEnv().isEmbed&&e===m.a.CardCreateStrategy?(n.setErrorRetry(function(){n.boardAction(t)}),n.showError()):n.onStrategyFail(r)})},n.getBoardActionStrategy=function(t){void 0===t&&(t=0);var e=this.getPreviousType(t),n=e?C[e]:null;if(null!==e)return n||this.getBoardActionStrategy(t+1)},n.createBoard=function(t,e){var n=this;return this.showLoading(),this.getEnv().invokeStrategy(m.a.BoardSaveStrategy,{model:t}).then(function(){e&&n.closePanel()},function(e){n.showPreviousIfNotClosed(),d.a.showBoardSaveError(t,e)})},n.onPluginShareImage=function(t){var e=t.split("/").slice(-3,-1),n=e[0],r=e[1],i=c.a.findWhereInstanceFromCache(function(t){return t.getContent().some(function(t){var e=t.getContent();return Number(n)===e.group_id&&r===e.avatars_key})});this.onShareOrMove(i,{loc:"plugin"})},n.onShareOrMove=function(t,e){if(void 0===e&&(e={}),t&&!this.hasCardContent()){var n=this.getEnv().currentUser;n&&n.getLogin()===t.getOwnerLogin()?this.moveCard(t):this.shareCard(t,e)}},n.onStrategyFail=function(t){this.showPreviousIfNotClosed(),d.a.showXHRMessage(t)},n.removeContent=function(t){var e=this.getCard(),n=t.getFirstContent();if(e&&n){var r=e.getContent();if(this.isTypeCardEdit()&&0===r.indexOf(n))return;r.remove(n),this.unSelectCard(t)}this.updateCardSourceMeta(),this._selectedCards.length||this.isClosed()||this.isTypeCardEdit()||(this.getCards().length?this.showAddSeriesEdit({restoreScroll:!0}):this.showError())},n.includeContent=function(t){var e=this.getCard(),n=t.getFirstContent(),r=e?e.getContent():null;return Boolean(!!r&&r.get(n))},n.getHintOptions=function(t){return this.invokeStrategy(m.a.HintSidebarStrategy,{type:t,env:this.getEnv()})},n.setShowExtOnFinish=function(t){this.set("showExtOnFinish",t)},n.isShowExtOnFinish=function(){return this.get("showExtOnFinish")},n.setErrorMessage=function(t){this.set("errorMessage",t)},n.getErrorMessage=function(){return this.get("errorMessage")},n.getErrorRetry=function(){return this.get("errorRetry")},n.setErrorRetry=function(t){this.set("errorRetry",t)},n.invokeStrategy=function(t,e){var n=this;return this.getEnv().invokeStrategy(t,e).catch(function(t){throw console.error(t),n.showError(),t})},n.hasExtGuest=function(){return this.getEnv().hasFeature(v.d.EXT_GUEST)},n.updateDependencies=function(e){var n=e.env,r=e.request,i=e.userBoards,o=(e.card,e.internetImagesState),a=e.type,s=e.routerState;t.prototype.updateDependencies.call(this,{request:r,env:n}),this.userBoards=i,this.routerState=s,o&&(this.internetImagesState=o,this.setCards(o.getCards())),a?this.setType(a):this.resetState()},e}(s.a);Object(l.a)({defaults:{card:null,type:h.n.NONE,previousType:[],showExtOnFinish:!1}})(S)},vgSg:function(t,e,n){t.exports=n.p+"f/1580.gif"},vjVR:function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var r=9,i=27,o=38,a=40,s=13},vm6G:function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({subscribe:"Підписатися",unsubscribe:"Ви підписані",unsubscribeAction:"Відписатися"})},vmv2:function(t,e,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("T6Rw"),a=n("q/UM"),s=Object(o.a)(function(t,e){var n=t.ui?t.ui.promiseQueue:{};return Object(a.a)(t,{promiseQueue:i()({},n,e)})});n.d(e,"a",function(){return c});var c=function(){function t(){this.heap={}}var e=t.prototype;return e.getHeap=function(t){return this.heap[t]||(this.heap[t]={items:[],counter:0,pending:void 0}),this.heap[t]},e.add=function(t,e,n){var r=this,i=this.getHeap(e);return new Promise(function(o,a){i.items.push({promiseFactory:t,resolve:o,reject:a}),i.counter++,r.syncCounter(e,n),r._next(e,n)})},e._next=function(t,e){var n=this,r=this.getHeap(t);if(!r.pending){var i=r.items.shift();if(i){var o=i.promiseFactory,a=i.resolve,s=i.reject;try{r.pending=o().then(function(r){n.syncHeap(t,e),a(r),n._next(t,e)},function(r){n.syncHeap(t,e),s(r),n._next(t,e)})}catch(n){this.syncHeap(t,e),s(n),this._next(t,e)}}}},e.syncHeap=function(t,e){var n=this.getHeap(t);n.pending=void 0,n.counter--,this.syncCounter(t,e)},e.syncCounter=function(t,e){e.getState;var n,r=e.dispatch,i=this.getHeap(t);r(s(((n={})[t]=i.counter,n)))},e.clean=function(t,e){var n=this,r=e.getState,o=e.dispatch;this.add(function(){return new Promise(function(e){var r=n.getHeap(t);r=i()({},r,{items:[],pending:void 0}),e()})},t,{getState:r,dispatch:o})},e.isBusy=function(t){var e=this.getHeap(t);return Boolean(e.counter)},t.factory=function(){return new this},t}().factory()},vt99:function(t,e,n){"use strict";var r=n("BB3L");e.a=r.a.applyDecls()},vwg6:function(t,e,n){var r=n("C4oF").translateWrapper,i=n("YU6D").Utils.escapeExpression;t.exports=r({servingsCount:[function(t){return i(t.count)+" порція"},function(t){return i(t.count)+" порції"},function(t){return i(t.count)+" порцій"}],servingsRangeCount:[function(t){return i(t.count0)+"-"+i(t.count)+" порція"},function(t){return i(t.count0)+"-"+i(t.count)+" порції"},function(t){return i(t.count0)+"-"+i(t.count)+" порцій"}],ingredientsCount:[function(t){return i(t.count)+" ингредиент"},function(t){return i(t.count)+" ингредиента"},function(t){return i(t.count)+" ингредиентов"}]})},"w+VJ":function(t,e,n){"use strict";n("4DsO");var r=n("2apU");e.a=r.a.applyDecls()},w2Rf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("pVnL"),i=n.n(r),o=n("ukm6"),a=n("T6Rw"),s=Object(a.a)(function(t,e){var n,r=e.uiKey,a=e.value,s=Object(o.a)(t),c=s[r];return i()({},t,{ui:i()({},s,(n={},n[r]=i()({},c,a),n))})})},wBxh:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("MTjZ"),c=n("xalX"),u=n("S7YN"),l=n("NFKc"),d=Object(l.a)("currentUser",function(){var t=a()(i.a.mark(function t(e,n,r){var o,a,l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.getState,a=r.dispatch,Object(s.a)(o()),t.next=4,a(Object(u.a)({storeKey:"user"}));case 4:l=Object(c.a)(Object(s.a)(o())),e.set({stats:l.stats});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())},wYmg:function(t,e,n){"use strict";function r(t,e){return"https://yandex.ru/collections/picture/boards/"+encodeURIComponent(t)+"/"+encodeURIComponent(e)+"/"}n.d(e,"a",function(){return r})},wibD:function(t,e,n){"use strict";function r(t){var e=Number(t);return e&&e>=8?"#32ba42":e&&e>=7?"#89c939":e&&e>=5?"#90a449":e&&e>=3?"#85855d":"#727272"}n.d(e,"a",function(){return r})},wip6:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("faye");function i(){var t;return function(e){var n=e.children;return Object(r.createPortal)(n,(t||(t=document.createElement("div"),document.body.appendChild(t)),t))}}},wjhi:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("rpX3"),i=Object(r.a)("locks",{})},wy7W:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("xhsZ");function i(t,e,n){var i=Object(r.a)(t)[e];if(i&&i[n])return i[n]}},wyTQ:function(t,e,n){"use strict";n("5uoz");var r=n("wvBl");e.a=r.a.applyDecls()},"wzV+":function(t,e,n){t.exports=n.p+"f/b4d6.svg"},x9gI:function(t,e,n){"use strict";function r(t,e){if(t&&t.env&&t.env.flags)return t.env.flags[e]}n.d(e,"a",function(){return r})},xFYi:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("3lXt"),i=n("y6Xm"),o=n("i1uP"),a=Object(o.a)(r.a,Object(i.a)("is_private",!1))},xMyQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("Gony");function i(t){return Object(r.a)(t)}},xNeq:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("VbXa"),i=n.n(r),o=n("cDcd"),a=n("G7p/");function s(t){var e,n=function(){return e||(e=t()),e};return function(t){function r(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={},e}i()(r,t);var s=r.prototype;return s.componentDidMount=function(){var t=this;n().then(function(e){t.setState({Component:e})})},s.render=function(){var t=this.state.Component;return t?o.createElement(t,this.props):null},r.preload=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return n()}),r.lazyPreload=function(){e||Object(a.a)(function(){n().catch(function(t){return console.error(t)})})},r}(o.PureComponent)}},xZRq:function(t,e,n){t.exports=n.p+"f/bdda.svg"},xalX:function(t,e,n){"use strict";function r(t){if(null==t)return t;if(Array.isArray(t))return t.map(r);if("object"==typeof t){var e={};return Object.keys(t).forEach(function(n){return e[n]=r(t[n])}),e}return t}n.d(e,"a",function(){return r})},xfRZ:function(t,e,n){"use strict";var r=n("VbXa"),i=n.n(r),o=n("n+Kn"),a=n("mdRN"),s=n("6ga4"),c=n("xMyQ"),u=n("9TW5");n.d(e,"a",function(){return l});var l=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var r=e.prototype;return r.className=function(){return Object(s.a)("spinner",{size:this.size,gif:this.gif,type:this.type})},r.onRender=function(){var t=this;this.gif&&this.deferToAttach(function(){var e=t.img[0];e.naturalWidth||(e.onerror=function(){t.gif=!1,t.$el.removeClass("spinner_gif"),t.safeRender()})})},r.serializeData=function(){if(this.gif){var t=this.size+"-"+this.type;return{normalSrc:n("/e/s")("./spinner-"+t+".gif"),retinaSrc:n("FqSg")("./spinner-"+t+"@2x.gif")}}return{}},e}(o.a);Object(a.a)({template:function(t){var e=this&&this.isRestored,n=e?u.er:u.e;return(e?u.fr:u.f)(this.gif?[n("img","spinner__image",{src:Object(c.a)(t.normalSrc),srcset:Object(u.j)([Object(c.a)(t.retinaSrc)," 2x"])},[],{ui:"img",view:this})]:[n.d("spinner__circle",{},[])])},size:"M",gif:!0,type:"normal"})(l)},xhsZ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("rpX3"),i=Object(r.a)("entities",{})},xkpv:function(t,e,n){"use strict";var r=n("ZIAp");e.a=r.a.applyDecls()},xpjn:function(t,e,n){"use strict";var r=n("J68E");e.a=r.a.applyDecls()},xriV:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("c+Ap");function i(t){var e={};return t&&"object"==typeof t&&(e.error={name:t.name,stack:t.stack,message:t.message},Object.defineProperty(e,r.L,{get:function(){return t[r.L]},set:function(e){t[r.L]=e}})),e}},"y/M8":function(t,e,n){var r=n("C4oF").translateWrapper;t.exports=r({titleMoveToPrivate:"Ви дійсно хочете перенести картку до прихованої колекції?",descriptionMoveToPrivate:"Картку буде знято з участі в конкурсі",submitMoveToPrivate:"Так, перенести",titleEditImages:"Ви дійсно хочете додати нові зображення до картки?",descriptionEditImages:"Картку буде знято з участі в конкурсі",submitEditImages:"Так, додати",titleMakeBoardPrivate:"Ви дійсно хочете приховати колекцію?",descriptionMakeBoardPrivate:"Усі картки у колекції, які беруть участь у конкурсах, буде знято з участі",submitMakeBoardPrivate:"Так, приховати",cancel:"Скасувати"})},y144:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("pVnL"),i=n.n(r),o=n("T6Rw"),a=n("dNc+"),s=n("asM3"),c=Object(o.a)(function(t,e){if(t){var n,r=e.force,o=e.value,c=void 0===o?{}:o,u=t.currentCard||{},l=Boolean(r)?c:i()({},u,c),d=a.e.parse(l),h=Object(a.e)(t.entities||{},d,{replace:r});if(h.entities!==t.entities)return i()({},t,((n={entities:Object(s.a)(h.entities)}).currentCard=h.obj,n))}return t})},y1pN:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("3lXt"),i=n("IWXk"),o=n("B8Yn"),a=Object(o.a)(r.a,"owner",i.a)},y6Xm:function(t,e,n){"use strict";function r(t,e){return function(n){return n&&void 0!==n[t]?n[t]:e}}n.d(e,"a",function(){return r})},yRgj:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("i1uP"),i=n("EgTM"),o=Object(r.a)(i.a,function(t){if(t&&t.verticals&&t.verticals.length)return t.verticals[0].name})},ySP4:function(t,e,n){"use strict";n("lawM").a.applyDecls()},ybT6:function(t,e,n){t.exports=n.p+"f/03b5.woff2"},ywnR:function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("o0o1"),i=n.n(r),o=n("pVnL"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("NFKc"),l=n("om3R"),d=n("y144"),h=n("Hxdx"),f=n("izju"),p=n("Aaw5"),g=n("7/cf"),m=Object(u.a)("request",function(){var t=c()(i.a.mark(function t(e,n,r){var o,s,c,u,m,v,b,_,y;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.getState,s=r.dispatch,c=o(),u=Object(g.b)(c),m=Object(l.a)(u),!(v=n&&n.url||Object(h.a)(m))){t.next=19;break}return t.prev=6,t.next=9,Object(p.c)(function(){return e.post("/collections/api/pages/parse/?source_type=link",{url:v})},5,1e3);case 9:return b=t.sent,_=b&&b.results&&b.results.images,y=_&&_.length?_[0].url:null,s(Object(d.a)({value:{title:b.title||"",description:b.description||"",content:[a()({source_type:f.a.LINK},m,{source:a()({},m?m.source:{},{url:v,preview:y})})]}})),t.abrupt("return",b);case 16:throw t.prev=16,t.t0=t.catch(6),t.t0;case 19:case"end":return t.stop()}},t,this,[[6,16]])}));return function(){return t.apply(this,arguments)}}())},yxf4:function(t,e,n){t.exports=n.p+"f/b579.gif"},"z+Ux":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("T6Rw"),i=n("c+Ap"),o=n("6Rso"),a=["boardCards","favoritesCards"],s=Object(r.a)(function(t,e){return a.reduce(function(t,n){var r=t[n];if(r&&r._query&&r.results){var a=r._query;a.wish!==i.mb&&a["board.id"]===e.board.id&&(t=Object(o.a)(t,n,[e]))}return t},t)})},zBb6:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("VbXa"),i=n.n(r),o=n("CmRB"),a=n("1nxc"),s=function(t){return t},c=function(t){function e(){return t.apply(this,arguments)||this}i()(e,t);var n=e.prototype;return n.getOriginalWidth=function(){return this.get("original_width")},n.getOriginalHeight=function(){return this.get("original_height")},n.getThumbnailWidth=function(){return this.get("thumbnail_width")},n.getThumbnailHeight=function(){return this.get("thumbnail_height")},n.getSmartScaleAttributes=function(t){var e=t.minWidth,n=t.maxWidth,r=t.height,i=this.getScaleWidthForHeight(r),o=r;return i<e&&(i=e,o=this.getScaleHeightForWidth(e)),i>n&&(i=n,o=this.getScaleHeightForWidth(n)),{width:i,height:o,viewport:{width:i,height:r}}},n.getScaleWidthForHeight=function(t){return s(this.getRatio()*t)},n.getScaleHeightForWidth=function(t){return s(t/this.getRatio())},n.getSmartScaleParams=function(t,e){var n=t.width,r=t.height,i=t.viewport,o=r*e;return{viewport:{width:i.width*e,height:i.height},image:{width:n*e,height:o},offset:{top:(i.height-o)/2,left:0}}},n.scale=function(t){this.trigger("scale",t)},n.smartScale=function(t,e){this.scale(this.getSmartScaleParams(t,e))},n.getRatio=function(){return this.getWidth()/this.getHeight()},n.getThumbUrl=function(){return this.get("thumb_url")},n.setUrl=function(t){this.set("url",t)},n.getUrl=function(){return this.get("url")},n.loadImage=function(){var t=this;return new Promise(function(e,n){var r,i=new window.Image;r=setTimeout(n,1e4),i.onload=function(){t.setWidth(i.naturalWidth),t.setHeight(i.naturalHeight),e(t),clearTimeout(r)},i.onerror=n,i.src=t.getThumbUrl()||t.getUrl()})},n.isValidImage=function(){return Object(a.a)({naturalWidth:this.getOriginalWidth()||this.getWidth(),naturalHeight:this.getOriginalHeight()||this.getHeight(),src:this.getUrl()})},n.setWidth=function(t){this.set("width",t)},n.getWidth=function(){return this.get("width")},n.setHeight=function(t){this.set("height",t)},n.getHeight=function(){return this.get("height")},e.factory=function(t){return new this(t)},e}(o.a)},zT9S:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){return t[t[e="CHANNEL_SUBSCRIPTION"]="reason_1"]=e,t[t[e="SIMILAR_TO_CARD"]="reason_2"]=e,t[t[e="RECOMMEND"]="reason_3"]=e,t}({})},"zc+8":function(t,e,n){"use strict";var r=n("56Ik"),i=n("785c"),o=n("txgp"),a=n("o0o1"),s=n.n(a),c=n("yXPU"),u=n.n(c),l=n("4RqY"),d=n("BCLc"),h=n("y144"),f=n("1WnH"),p=n("IxYx"),g=n("GZ4p"),m=n("pVnL"),v=n.n(m),b=n("T6Rw"),_=Object(b.a)(function(t){return v()({},t,{modalDialog:void 0})}),y=n("MlGB"),C=Object(l.a)(function(){var t=u()(s.a.mark(function t(e,n){var r,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.getState,(i=n.dispatch)(Object(y.a)({})),i(Object(d.a)(null)),i(Object(f.a)(null)),i(Object(p.a)(((r={})[g.a]=!1,r))),i(_({})),i(Object(h.a)({value:{},force:!0}));case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),O=n("lyF8"),S=n("WMgd"),w=n("om3R"),E=n("5k1W"),k=n("TANO"),j=n("3tUY"),T=n("gLBg"),x=n("7/cf"),R=Object(l.a)(function(){var t=u()(s.a.mark(function t(e,n){var r,i,o,a,c,u,l,h,f,p;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.boardData,i=e.counter,o=n.dispatch,a=n.getState,c=a(),u=c.currentBoard,l=Object(x.b)(c),h=Boolean(Object(w.a)(l)),p=Object(E.a)(r,u,["title"]),u&&!p){t.next=20;break}return t.prev=8,t.next=11,o(Object(S.a)({boardData:r,counter:i,updateUserRecent:!h}));case 11:f=t.sent,o(Object(k.a)(f)),t.next=18;break;case 15:throw t.prev=15,t.t0=t.catch(8),t.t0;case 18:t.next=21;break;case 20:f=u;case 21:if(!f||!h){t.next=33;break}return t.prev=22,t.next=25,o(Object(O.a)({boardId:f.id,counter:i}));case 25:t.next=31;break;case 27:throw t.prev=27,t.t1=t.catch(22),o(Object(d.a)(f)),t.t1;case 31:t.next=35;break;case 33:o(Object(j.a)({url:Object(T.d)(f.owner.login,f.slug)})),o(X());case 35:case"end":return t.stop()}},t,this,[[8,15],[22,27]])}));return function(){return t.apply(this,arguments)}}()),I=Object(l.a)(function(){var t=u()(s.a.mark(function t(e,n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.getState,(0,n.dispatch)(Object(h.a)({value:{},force:!0}));case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),D=n("VrZJ"),P=n("V8C4"),L=n("oVcr"),N=Object(D.a)({title:L.title(),description:L.description(),confirmLabel:L.confirmLabel(),cancelLabel:L.cancelLabel(),onConfirm:function(t){var e=t.counter;return P.d.clickAuthorsDialogContinue(v()({},e,{type:"close"})),Promise.reject(new Error("don't close modal"))},onCancel:function(t){var e=t.counter;return P.d.clickAuthorsDialogCancel(v()({},e,{type:"close"})),Promise.resolve()},onClickOut:function(t){var e=t.counter;return P.d.clickAuthorsDialogContinue(v()({},e,{type:"close"})),Promise.reject(new Error("don't close modal"))}}),A=n("VDDL"),B=n("q/UM"),M=Object(b.a)(function(t){return Object(B.a)(v()({},t,{notifications:[]}),{})}),F=n("7Hn5"),U=n("k9ys"),z=n("aC9m"),V=n("XIzb");n.d(e,"a",function(){return W}),n.d(e,"g",function(){return q}),n.d(e,"k",function(){return K}),n.d(e,"h",function(){return G}),n.d(e,"c",function(){return Y}),n.d(e,"b",function(){return X}),n.d(e,"q",function(){return J}),n.d(e,"i",function(){return Q}),n.d(e,"j",function(){return Z}),n.d(e,"e",function(){return $}),n.d(e,"d",function(){return tt}),n.d(e,"l",function(){return nt}),n.d(e,"m",function(){return rt}),n.d(e,"f",function(){return it}),n.d(e,"o",function(){return ot}),n.d(e,"p",function(){return at}),n.d(e,"n",function(){return st});var H=r.a.factory({uiKey:i.a}),W=H.action(),q=H.action(),K=H.action(),G=H.action(),Y=H.action(),X=H.action(),J=H.action(),Q=H.action(),Z=H.action(),$=H.action(),tt=H.action(),et=H.action(),nt=H.action(),rt=H.action(),it=H.action(),ot=H.action(),at=H.action(),st=H.action(),ct=Object(A.a)([N,C]),ut=Object(A.a)([N,I]),lt=r.a.point(i.c.EMPTY),dt=r.a.point(i.c.BOARD_CREATE),ht=r.a.point(i.c.BOARD_CREATE),ft=r.a.point(i.c.BOARD_CREATE),pt=r.a.point(i.c.BOARD_CREATE),gt=r.a.point(i.c.BOARDS_LIST,o.a),mt=r.a.point(i.c.BOARDS_LIST,o.a),vt=r.a.point(i.c.BOARDS_LIST,o.a),bt=r.a.point(i.c.CARD_TYPES),_t=r.a.point(i.c.CARD_IMAGE_FILE),yt=r.a.point(i.c.CARD_IMAGE_URL),Ct=r.a.point(i.c.CARD_LINK),Ot=r.a.point(i.c.CARD_SERIES_ADD),St=r.a.point(i.c.CARD_SERIES_ADD);H.setStartPoint(lt),H.link(lt,bt,q),H.link(lt,dt,$),H.link(bt,lt,Y,C),H.link(bt,dt,$),H.link(bt,_t,Q),H.link(bt,Ct,Z),H.link(_t,yt,rt),H.link(_t,bt,W),H.link(_t,Ot,ot),H.link(_t,lt,Y,C),H.link(_t,lt,X,C),H.link(Ot,mt,it),H.link(Ot,lt,Y,ct,{loading:!1}),H.link(Ot,_t,W,ut,{loading:!1}),H.link(Ot,lt,X,C),H.link(Ot,lt,J,O.a),H.link(mt,lt,et,O.a),H.link(mt,lt,X,C),H.link(mt,lt,Y,ct,{loading:!1}),H.link(mt,ht,$),H.link(mt,Ot,st,M),H.link(mt,Ot,W,M),H.link(ht,mt,W),H.link(ht,lt,tt,R),H.link(ht,lt,X,C),H.link(ht,lt,Y,ct,{loading:!1}),H.link(yt,_t,nt),H.link(yt,bt,W),H.link(yt,St,ot),H.link(yt,lt,Y,C),H.link(yt,lt,X,C),H.link(St,vt,it),H.link(St,lt,Y,ct,{loading:!1}),H.link(St,yt,W,ut,{loading:!1}),H.link(St,lt,X,C),H.link(St,lt,J,O.a),H.link(vt,lt,et,O.a),H.link(vt,lt,X,C),H.link(vt,lt,Y,ct,{loading:!1}),H.link(vt,ft,$),H.link(vt,St,st,M),H.link(vt,St,W,M),H.link(ft,vt,W),H.link(ft,lt,tt,R),H.link(ft,lt,X,C),H.link(ft,lt,Y,ct,{loading:!1}),H.link(dt,bt,W),H.link(dt,lt,tt,R),H.link(dt,lt,X,C),H.link(dt,lt,Y,C),H.link(Ct,gt,it),H.link(Ct,lt,Y,C),H.link(Ct,lt,X,C),H.link(Ct,lt,J,O.a),H.link(Ct,bt,W),H.link(gt,lt,et,O.a),H.link(gt,lt,X,C),H.link(gt,lt,Y,ct,{loading:!1}),H.link(gt,pt,$),H.link(gt,Ct,W,ut,{loading:!1}),H.link(pt,gt,W),H.link(pt,lt,tt,R),H.link(pt,lt,Y,ct,{loading:!1});var wt=r.a.point(i.c.BOARDS_LIST,o.a,{title:V.move(),hideFooter:!0}),Et=r.a.point(i.c.BOARD_CREATE,void 0,{title:V.saveTitle()}),kt=r.a.point(i.c.CARD_SERIES_ADD,void 0,{hideBack:!0,nextLabel:V.save()});H.link(lt,wt,K),H.link(wt,lt,et,O.a),H.link(wt,lt,X,C),H.link(wt,lt,Y,C),H.link(wt,Et,$),H.link(wt,kt,st),H.link(Et,wt,W),H.link(Et,lt,tt,R),H.link(Et,lt,X,C),H.link(Et,lt,Y,ct,{loading:!1}),H.link(kt,wt,it,F.a),H.link(kt,lt,Y,ct,{loading:!1}),H.link(kt,lt,X,C);var jt=r.a.point(i.c.BOARDS_LIST,o.a,{title:V.edit(),hideFooter:!0}),Tt=r.a.point(i.c.BOARD_CREATE,void 0,{title:V.saveTitle()}),xt=r.a.point(i.c.CARD_SERIES_ADD,void 0,{hideBack:!0,nextLabel:V.save()});H.link(lt,jt,G),H.link(jt,lt,et,O.a),H.link(jt,lt,X,C),H.link(jt,lt,Y,C),H.link(jt,Tt,$),H.link(jt,xt,st),H.link(Tt,jt,W),H.link(Tt,lt,tt,R),H.link(Tt,lt,X,C),H.link(Tt,lt,Y,ct,{loading:!1}),H.link(xt,jt,it,F.a),H.link(xt,lt,Y,ct,{loading:!1}),H.link(xt,lt,X,C);var Rt=Object(A.a)([U.a,z.a,C]);H.link(wt,lt,at,Rt,{loading:!1}),H.link(jt,lt,at,Rt,{loading:!1})},znrt:function(t,e,n){"use strict";n("JSWB"),n("rkHX");var r=n("Z6t6");e.a=r.a.applyDecls()},zsvx:function(t,e,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("c+Ap"),a=n("BbqQ"),s=n("/bNA"),c=n("0lHE"),u=n("T6Rw"),l=n("pjSu"),d=n("8ZBI"),h=Object(l.a)("extension",d.a),f=Object(u.a)(function(t){return h(t,{installed:!0})});n.d(e,"a",function(){return p}),n.d(e,"b",function(){return g});var p={userCanceled:"User cancelled install"},g=function(t){var e=t.counter;return function(t){var n,r,u=new Promise(function(t,e){n=t,r=e});if(Object(a.a)()){var l=Object(c.a)();e=i()({},e,{link:l}),s.a.trigger("ext:install:start",e),function(t,e){if(Object(a.a)()){var n=window;n.chrome&&n.chrome.webstore&&n.chrome.webstore.install("",t,e),n.opr&&n.opr.addons.installExtension(o.ab,t,e)}}(function(){t(f({})),s.a.trigger("ext:install:success",e),n()},function(t,n){var o,a=n?n+": "+t:t;t!==p.userCanceled&&(o=window.open(l,"_blank")),s.a.trigger("ext:install:error",i()({},e,{reason:a})),o&&o.focus(),r(new Error(t))})}else r(new Error("Browser not support inline install"));return u}}}},[["M7vq",43,0,44]]]);